function FC(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var zC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function UC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var d0={exports:{}},Oc={},f0={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qa=Symbol.for("react.element"),BC=Symbol.for("react.portal"),$C=Symbol.for("react.fragment"),jC=Symbol.for("react.strict_mode"),HC=Symbol.for("react.profiler"),WC=Symbol.for("react.provider"),qC=Symbol.for("react.context"),KC=Symbol.for("react.forward_ref"),ZC=Symbol.for("react.suspense"),GC=Symbol.for("react.memo"),QC=Symbol.for("react.lazy"),vv=Symbol.iterator;function YC(t){return t===null||typeof t!="object"?null:(t=vv&&t[vv]||t["@@iterator"],typeof t=="function"?t:null)}var p0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m0=Object.assign,g0={};function Ys(t,e,n){this.props=t,this.context=e,this.refs=g0,this.updater=n||p0}Ys.prototype.isReactComponent={};Ys.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ys.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _0(){}_0.prototype=Ys.prototype;function qp(t,e,n){this.props=t,this.context=e,this.refs=g0,this.updater=n||p0}var Kp=qp.prototype=new _0;Kp.constructor=qp;m0(Kp,Ys.prototype);Kp.isPureReactComponent=!0;var yv=Array.isArray,v0=Object.prototype.hasOwnProperty,Zp={current:null},y0={key:!0,ref:!0,__self:!0,__source:!0};function w0(t,e,n){var i,r={},o=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)v0.call(e,i)&&!y0.hasOwnProperty(i)&&(r[i]=e[i]);var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){for(var h=Array(c),f=0;f<c;f++)h[f]=arguments[f+2];r.children=h}if(t&&t.defaultProps)for(i in c=t.defaultProps,c)r[i]===void 0&&(r[i]=c[i]);return{$$typeof:qa,type:t,key:o,ref:a,props:r,_owner:Zp.current}}function JC(t,e){return{$$typeof:qa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gp(t){return typeof t=="object"&&t!==null&&t.$$typeof===qa}function XC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wv=/\/+/g;function md(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XC(""+t.key):e.toString(36)}function fu(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case qa:case BC:a=!0}}if(a)return a=t,r=r(a),t=i===""?"."+md(a,0):i,yv(r)?(n="",t!=null&&(n=t.replace(wv,"$&/")+"/"),fu(r,e,n,"",function(f){return f})):r!=null&&(Gp(r)&&(r=JC(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(wv,"$&/")+"/")+t)),e.push(r)),1;if(a=0,i=i===""?".":i+":",yv(t))for(var c=0;c<t.length;c++){o=t[c];var h=i+md(o,c);a+=fu(o,e,n,h,r)}else if(h=YC(t),typeof h=="function")for(t=h.call(t),c=0;!(o=t.next()).done;)o=o.value,h=i+md(o,c++),a+=fu(o,e,n,h,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ul(t,e,n){if(t==null)return t;var i=[],r=0;return fu(t,i,"","",function(o){return e.call(n,o,r++)}),i}function eA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},pu={transition:null},tA={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:pu,ReactCurrentOwner:Zp};de.Children={map:Ul,forEach:function(t,e,n){Ul(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ul(t,function(){e++}),e},toArray:function(t){return Ul(t,function(e){return e})||[]},only:function(t){if(!Gp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=Ys;de.Fragment=$C;de.Profiler=HC;de.PureComponent=qp;de.StrictMode=jC;de.Suspense=ZC;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tA;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=m0({},t.props),r=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Zp.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(h in e)v0.call(e,h)&&!y0.hasOwnProperty(h)&&(i[h]=e[h]===void 0&&c!==void 0?c[h]:e[h])}var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){c=Array(h);for(var f=0;f<h;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:qa,type:t.type,key:r,ref:o,props:i,_owner:a}};de.createContext=function(t){return t={$$typeof:qC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:WC,_context:t},t.Consumer=t};de.createElement=w0;de.createFactory=function(t){var e=w0.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:KC,render:t}};de.isValidElement=Gp;de.lazy=function(t){return{$$typeof:QC,_payload:{_status:-1,_result:t},_init:eA}};de.memo=function(t,e){return{$$typeof:GC,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=pu.transition;pu.transition={};try{t()}finally{pu.transition=e}};de.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};de.useCallback=function(t,e){return Mt.current.useCallback(t,e)};de.useContext=function(t){return Mt.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};de.useEffect=function(t,e){return Mt.current.useEffect(t,e)};de.useId=function(){return Mt.current.useId()};de.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return Mt.current.useMemo(t,e)};de.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};de.useRef=function(t){return Mt.current.useRef(t)};de.useState=function(t){return Mt.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return Mt.current.useTransition()};de.version="18.2.0";f0.exports=de;var N=f0.exports;const aa=UC(N),nA=FC({__proto__:null,default:aa},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iA=N,rA=Symbol.for("react.element"),sA=Symbol.for("react.fragment"),oA=Object.prototype.hasOwnProperty,aA=iA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lA={key:!0,ref:!0,__self:!0,__source:!0};function E0(t,e,n){var i,r={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)oA.call(e,i)&&!lA.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:rA,type:t,key:o,ref:a,props:r,_owner:aA.current}}Oc.Fragment=sA;Oc.jsx=E0;Oc.jsxs=E0;d0.exports=Oc;var Qp=d0.exports;const uA=Qp.Fragment,k=Qp.jsx,ue=Qp.jsxs;var df={},T0={exports:{}},Gt={},I0={exports:{}},S0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,ne){var U=M.length;M.push(ne);e:for(;0<U;){var ee=U-1>>>1,_e=M[ee];if(0<r(_e,ne))M[ee]=ne,M[U]=_e,U=ee;else break e}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var ne=M[0],U=M.pop();if(U!==ne){M[0]=U;e:for(var ee=0,_e=M.length,Ye=_e>>>1;ee<Ye;){var Pe=2*(ee+1)-1,ye=M[Pe],se=Pe+1,bt=M[se];if(0>r(ye,U))se<_e&&0>r(bt,ye)?(M[ee]=bt,M[se]=U,ee=se):(M[ee]=ye,M[Pe]=U,ee=Pe);else if(se<_e&&0>r(bt,U))M[ee]=bt,M[se]=U,ee=se;else break e}}return ne}function r(M,ne){var U=M.sortIndex-ne.sortIndex;return U!==0?U:M.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var h=[],f=[],m=1,g=null,v=3,I=!1,P=!1,S=!1,R=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var ne=n(f);ne!==null;){if(ne.callback===null)i(f);else if(ne.startTime<=M)i(f),ne.sortIndex=ne.expirationTime,e(h,ne);else break;ne=n(f)}}function x(M){if(S=!1,w(M),!P)if(n(h)!==null)P=!0,ut(z);else{var ne=n(f);ne!==null&&Hn(x,ne.startTime-M)}}function z(M,ne){P=!1,S&&(S=!1,E(K),K=-1),I=!0;var U=v;try{for(w(ne),g=n(h);g!==null&&(!(g.expirationTime>ne)||M&&!Ce());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,v=g.priorityLevel;var _e=ee(g.expirationTime<=ne);ne=t.unstable_now(),typeof _e=="function"?g.callback=_e:g===n(h)&&i(h),w(ne)}else i(h);g=n(h)}if(g!==null)var Ye=!0;else{var Pe=n(f);Pe!==null&&Hn(x,Pe.startTime-ne),Ye=!1}return Ye}finally{g=null,v=U,I=!1}}var $=!1,j=null,K=-1,Ee=5,re=-1;function Ce(){return!(t.unstable_now()-re<Ee)}function nt(){if(j!==null){var M=t.unstable_now();re=M;var ne=!0;try{ne=j(!0,M)}finally{ne?ar():($=!1,j=null)}}else $=!1}var ar;if(typeof y=="function")ar=function(){y(nt)};else if(typeof MessageChannel<"u"){var Yt=new MessageChannel,Mh=Yt.port2;Yt.port1.onmessage=nt,ar=function(){Mh.postMessage(null)}}else ar=function(){R(nt,0)};function ut(M){j=M,$||($=!0,ar())}function Hn(M,ne){K=R(function(){M(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){P||I||(P=!0,ut(z))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ee=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(M){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var U=v;v=ne;try{return M()}finally{v=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,ne){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=v;v=M;try{return ne()}finally{v=U}},t.unstable_scheduleCallback=function(M,ne,U){var ee=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ee+U:ee):U=ee,M){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=U+_e,M={id:m++,callback:ne,priorityLevel:M,startTime:U,expirationTime:_e,sortIndex:-1},U>ee?(M.sortIndex=U,e(f,M),n(h)===null&&M===n(f)&&(S?(E(K),K=-1):S=!0,Hn(x,U-ee))):(M.sortIndex=_e,e(h,M),P||I||(P=!0,ut(z))),M},t.unstable_shouldYield=Ce,t.unstable_wrapCallback=function(M){var ne=v;return function(){var U=v;v=ne;try{return M.apply(this,arguments)}finally{v=U}}}})(S0);I0.exports=S0;var cA=I0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0=N,Kt=cA;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var C0=new Set,la={};function zr(t,e){Ms(t,e),Ms(t+"Capture",e)}function Ms(t,e){for(la[t]=e,t=0;t<e.length;t++)C0.add(e[t])}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ff=Object.prototype.hasOwnProperty,hA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ev={},Tv={};function dA(t){return ff.call(Tv,t)?!0:ff.call(Ev,t)?!1:hA.test(t)?Tv[t]=!0:(Ev[t]=!0,!1)}function fA(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pA(t,e,n,i){if(e===null||typeof e>"u"||fA(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dt(t,e,n,i,r,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vt[t]=new Dt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vt[e]=new Dt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vt[t]=new Dt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vt[t]=new Dt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vt[t]=new Dt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vt[t]=new Dt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vt[t]=new Dt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vt[t]=new Dt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vt[t]=new Dt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yp=/[\-:]([a-z])/g;function Jp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yp,Jp);vt[e]=new Dt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yp,Jp);vt[e]=new Dt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yp,Jp);vt[e]=new Dt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vt[t]=new Dt(t,1,!1,t.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vt[t]=new Dt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xp(t,e,n,i){var r=vt.hasOwnProperty(e)?vt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pA(e,n,r,i)&&(n=null),i||r===null?dA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var pi=P0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bl=Symbol.for("react.element"),us=Symbol.for("react.portal"),cs=Symbol.for("react.fragment"),em=Symbol.for("react.strict_mode"),pf=Symbol.for("react.profiler"),A0=Symbol.for("react.provider"),R0=Symbol.for("react.context"),tm=Symbol.for("react.forward_ref"),mf=Symbol.for("react.suspense"),gf=Symbol.for("react.suspense_list"),nm=Symbol.for("react.memo"),Ti=Symbol.for("react.lazy"),k0=Symbol.for("react.offscreen"),Iv=Symbol.iterator;function So(t){return t===null||typeof t!="object"?null:(t=Iv&&t[Iv]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,gd;function bo(t){if(gd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gd=e&&e[1]||""}return`
`+gd+t}var _d=!1;function vd(t,e){if(!t||_d)return"";_d=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var i=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){i=f}t.call(e.prototype)}else{try{throw Error()}catch(f){i=f}t()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),o=i.stack.split(`
`),a=r.length-1,c=o.length-1;1<=a&&0<=c&&r[a]!==o[c];)c--;for(;1<=a&&0<=c;a--,c--)if(r[a]!==o[c]){if(a!==1||c!==1)do if(a--,c--,0>c||r[a]!==o[c]){var h=`
`+r[a].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=a&&0<=c);break}}}finally{_d=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?bo(t):""}function mA(t){switch(t.tag){case 5:return bo(t.type);case 16:return bo("Lazy");case 13:return bo("Suspense");case 19:return bo("SuspenseList");case 0:case 2:case 15:return t=vd(t.type,!1),t;case 11:return t=vd(t.type.render,!1),t;case 1:return t=vd(t.type,!0),t;default:return""}}function _f(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cs:return"Fragment";case us:return"Portal";case pf:return"Profiler";case em:return"StrictMode";case mf:return"Suspense";case gf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case R0:return(t.displayName||"Context")+".Consumer";case A0:return(t._context.displayName||"Context")+".Provider";case tm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nm:return e=t.displayName||null,e!==null?e:_f(t.type)||"Memo";case Ti:e=t._payload,t=t._init;try{return _f(t(e))}catch{}}return null}function gA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _f(e);case 8:return e===em?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function x0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _A(t){var e=x0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $l(t){t._valueTracker||(t._valueTracker=_A(t))}function L0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=x0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function bu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vf(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Sv(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Zi(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function O0(t,e){e=e.checked,e!=null&&Xp(t,"checked",e,!1)}function yf(t,e){O0(t,e);var n=Zi(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wf(t,e.type,n):e.hasOwnProperty("defaultValue")&&wf(t,e.type,Zi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Pv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wf(t,e,n){(e!=="number"||bu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vo=Array.isArray;function Is(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Zi(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Ef(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(Vo(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zi(n)}}function N0(t,e){var n=Zi(e.value),i=Zi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Av(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function M0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?M0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jl,D0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jl=jl||document.createElement("div"),jl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ua(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vA=["Webkit","ms","Moz","O"];Object.keys(qo).forEach(function(t){vA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qo[e]=qo[t]})});function b0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qo.hasOwnProperty(t)&&qo[t]?(""+e).trim():e+"px"}function V0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=b0(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var yA=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function If(t,e){if(e){if(yA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Sf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pf=null;function im(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cf=null,Ss=null,Ps=null;function Rv(t){if(t=Ga(t)){if(typeof Cf!="function")throw Error(F(280));var e=t.stateNode;e&&(e=Vc(e),Cf(t.stateNode,t.type,e))}}function F0(t){Ss?Ps?Ps.push(t):Ps=[t]:Ss=t}function z0(){if(Ss){var t=Ss,e=Ps;if(Ps=Ss=null,Rv(t),e)for(t=0;t<e.length;t++)Rv(e[t])}}function U0(t,e){return t(e)}function B0(){}var yd=!1;function $0(t,e,n){if(yd)return t(e,n);yd=!0;try{return U0(t,e,n)}finally{yd=!1,(Ss!==null||Ps!==null)&&(B0(),z0())}}function ca(t,e){var n=t.stateNode;if(n===null)return null;var i=Vc(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var Af=!1;if(oi)try{var Po={};Object.defineProperty(Po,"passive",{get:function(){Af=!0}}),window.addEventListener("test",Po,Po),window.removeEventListener("test",Po,Po)}catch{Af=!1}function wA(t,e,n,i,r,o,a,c,h){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(m){this.onError(m)}}var Ko=!1,Vu=null,Fu=!1,Rf=null,EA={onError:function(t){Ko=!0,Vu=t}};function TA(t,e,n,i,r,o,a,c,h){Ko=!1,Vu=null,wA.apply(EA,arguments)}function IA(t,e,n,i,r,o,a,c,h){if(TA.apply(this,arguments),Ko){if(Ko){var f=Vu;Ko=!1,Vu=null}else throw Error(F(198));Fu||(Fu=!0,Rf=f)}}function Ur(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function j0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kv(t){if(Ur(t)!==t)throw Error(F(188))}function SA(t){var e=t.alternate;if(!e){if(e=Ur(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return kv(r),t;if(o===i)return kv(r),e;o=o.sibling}throw Error(F(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,c=r.child;c;){if(c===n){a=!0,n=r,i=o;break}if(c===i){a=!0,i=r,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,i=r;break}if(c===i){a=!0,i=o,n=r;break}c=c.sibling}if(!a)throw Error(F(189))}}if(n.alternate!==i)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function H0(t){return t=SA(t),t!==null?W0(t):null}function W0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=W0(t);if(e!==null)return e;t=t.sibling}return null}var q0=Kt.unstable_scheduleCallback,xv=Kt.unstable_cancelCallback,PA=Kt.unstable_shouldYield,CA=Kt.unstable_requestPaint,je=Kt.unstable_now,AA=Kt.unstable_getCurrentPriorityLevel,rm=Kt.unstable_ImmediatePriority,K0=Kt.unstable_UserBlockingPriority,zu=Kt.unstable_NormalPriority,RA=Kt.unstable_LowPriority,Z0=Kt.unstable_IdlePriority,Nc=null,Dn=null;function kA(t){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(Nc,t,void 0,(t.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:OA,xA=Math.log,LA=Math.LN2;function OA(t){return t>>>=0,t===0?32:31-(xA(t)/LA|0)|0}var Hl=64,Wl=4194304;function Fo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uu(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~r;c!==0?i=Fo(c):(o&=a,o!==0&&(i=Fo(o)))}else a=n&~r,a!==0?i=Fo(a):o!==0&&(i=Fo(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-vn(e),r=1<<n,i|=t[n],e&=~r;return i}function NA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MA(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-vn(o),c=1<<a,h=r[a];h===-1?(!(c&n)||c&i)&&(r[a]=NA(c,e)):h<=e&&(t.expiredLanes|=c),o&=~c}}function kf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function G0(){var t=Hl;return Hl<<=1,!(Hl&4194240)&&(Hl=64),t}function wd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ka(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vn(e),t[e]=n}function DA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-vn(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}function sm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-vn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Ie=0;function Q0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Y0,om,J0,X0,eE,xf=!1,ql=[],Mi=null,Di=null,bi=null,ha=new Map,da=new Map,Si=[],bA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lv(t,e){switch(t){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":ha.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":da.delete(e.pointerId)}}function Co(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=Ga(e),e!==null&&om(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function VA(t,e,n,i,r){switch(e){case"focusin":return Mi=Co(Mi,t,e,n,i,r),!0;case"dragenter":return Di=Co(Di,t,e,n,i,r),!0;case"mouseover":return bi=Co(bi,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return ha.set(o,Co(ha.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,da.set(o,Co(da.get(o)||null,t,e,n,i,r)),!0}return!1}function tE(t){var e=_r(t.target);if(e!==null){var n=Ur(e);if(n!==null){if(e=n.tag,e===13){if(e=j0(n),e!==null){t.blockedOn=e,eE(t.priority,function(){J0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Lf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Pf=i,n.target.dispatchEvent(i),Pf=null}else return e=Ga(n),e!==null&&om(e),t.blockedOn=n,!1;e.shift()}return!0}function Ov(t,e,n){mu(t)&&n.delete(e)}function FA(){xf=!1,Mi!==null&&mu(Mi)&&(Mi=null),Di!==null&&mu(Di)&&(Di=null),bi!==null&&mu(bi)&&(bi=null),ha.forEach(Ov),da.forEach(Ov)}function Ao(t,e){t.blockedOn===e&&(t.blockedOn=null,xf||(xf=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,FA)))}function fa(t){function e(r){return Ao(r,t)}if(0<ql.length){Ao(ql[0],t);for(var n=1;n<ql.length;n++){var i=ql[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Mi!==null&&Ao(Mi,t),Di!==null&&Ao(Di,t),bi!==null&&Ao(bi,t),ha.forEach(e),da.forEach(e),n=0;n<Si.length;n++)i=Si[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Si.length&&(n=Si[0],n.blockedOn===null);)tE(n),n.blockedOn===null&&Si.shift()}var Cs=pi.ReactCurrentBatchConfig,Bu=!0;function zA(t,e,n,i){var r=Ie,o=Cs.transition;Cs.transition=null;try{Ie=1,am(t,e,n,i)}finally{Ie=r,Cs.transition=o}}function UA(t,e,n,i){var r=Ie,o=Cs.transition;Cs.transition=null;try{Ie=4,am(t,e,n,i)}finally{Ie=r,Cs.transition=o}}function am(t,e,n,i){if(Bu){var r=Lf(t,e,n,i);if(r===null)xd(t,e,i,$u,n),Lv(t,i);else if(VA(r,t,e,n,i))i.stopPropagation();else if(Lv(t,i),e&4&&-1<bA.indexOf(t)){for(;r!==null;){var o=Ga(r);if(o!==null&&Y0(o),o=Lf(t,e,n,i),o===null&&xd(t,e,i,$u,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else xd(t,e,i,null,n)}}var $u=null;function Lf(t,e,n,i){if($u=null,t=im(i),t=_r(t),t!==null)if(e=Ur(t),e===null)t=null;else if(n=e.tag,n===13){if(t=j0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $u=t,null}function nE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AA()){case rm:return 1;case K0:return 4;case zu:case RA:return 16;case Z0:return 536870912;default:return 16}default:return 16}}var xi=null,lm=null,gu=null;function iE(){if(gu)return gu;var t,e=lm,n=e.length,i,r="value"in xi?xi.value:xi.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[o-i];i++);return gu=r.slice(t,1<i?1-i:void 0)}function _u(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kl(){return!0}function Nv(){return!1}function Qt(t){function e(n,i,r,o,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Kl:Nv,this.isPropagationStopped=Nv,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),e}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},um=Qt(Js),Za=Fe({},Js,{view:0,detail:0}),BA=Qt(Za),Ed,Td,Ro,Mc=Fe({},Za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ro&&(Ro&&t.type==="mousemove"?(Ed=t.screenX-Ro.screenX,Td=t.screenY-Ro.screenY):Td=Ed=0,Ro=t),Ed)},movementY:function(t){return"movementY"in t?t.movementY:Td}}),Mv=Qt(Mc),$A=Fe({},Mc,{dataTransfer:0}),jA=Qt($A),HA=Fe({},Za,{relatedTarget:0}),Id=Qt(HA),WA=Fe({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),qA=Qt(WA),KA=Fe({},Js,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZA=Qt(KA),GA=Fe({},Js,{data:0}),Dv=Qt(GA),QA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JA[t])?!!e[t]:!1}function cm(){return XA}var eR=Fe({},Za,{key:function(t){if(t.key){var e=QA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_u(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cm,charCode:function(t){return t.type==="keypress"?_u(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_u(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tR=Qt(eR),nR=Fe({},Mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bv=Qt(nR),iR=Fe({},Za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cm}),rR=Qt(iR),sR=Fe({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),oR=Qt(sR),aR=Fe({},Mc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lR=Qt(aR),uR=[9,13,27,32],hm=oi&&"CompositionEvent"in window,Zo=null;oi&&"documentMode"in document&&(Zo=document.documentMode);var cR=oi&&"TextEvent"in window&&!Zo,rE=oi&&(!hm||Zo&&8<Zo&&11>=Zo),Vv=String.fromCharCode(32),Fv=!1;function sE(t,e){switch(t){case"keyup":return uR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hs=!1;function hR(t,e){switch(t){case"compositionend":return oE(e);case"keypress":return e.which!==32?null:(Fv=!0,Vv);case"textInput":return t=e.data,t===Vv&&Fv?null:t;default:return null}}function dR(t,e){if(hs)return t==="compositionend"||!hm&&sE(t,e)?(t=iE(),gu=lm=xi=null,hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rE&&e.locale!=="ko"?null:e.data;default:return null}}var fR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fR[t.type]:e==="textarea"}function aE(t,e,n,i){F0(i),e=ju(e,"onChange"),0<e.length&&(n=new um("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Go=null,pa=null;function pR(t){vE(t,0)}function Dc(t){var e=ps(t);if(L0(e))return t}function mR(t,e){if(t==="change")return e}var lE=!1;if(oi){var Sd;if(oi){var Pd="oninput"in document;if(!Pd){var Uv=document.createElement("div");Uv.setAttribute("oninput","return;"),Pd=typeof Uv.oninput=="function"}Sd=Pd}else Sd=!1;lE=Sd&&(!document.documentMode||9<document.documentMode)}function Bv(){Go&&(Go.detachEvent("onpropertychange",uE),pa=Go=null)}function uE(t){if(t.propertyName==="value"&&Dc(pa)){var e=[];aE(e,pa,t,im(t)),$0(pR,e)}}function gR(t,e,n){t==="focusin"?(Bv(),Go=e,pa=n,Go.attachEvent("onpropertychange",uE)):t==="focusout"&&Bv()}function _R(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dc(pa)}function vR(t,e){if(t==="click")return Dc(e)}function yR(t,e){if(t==="input"||t==="change")return Dc(e)}function wR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var En=typeof Object.is=="function"?Object.is:wR;function ma(t,e){if(En(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!ff.call(e,r)||!En(t[r],e[r]))return!1}return!0}function $v(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jv(t,e){var n=$v(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$v(n)}}function cE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hE(){for(var t=window,e=bu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bu(t.document)}return e}function dm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ER(t){var e=hE(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&cE(n.ownerDocument.documentElement,n)){if(i!==null&&dm(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=jv(n,o);var a=jv(n,i);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var TR=oi&&"documentMode"in document&&11>=document.documentMode,ds=null,Of=null,Qo=null,Nf=!1;function Hv(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nf||ds==null||ds!==bu(i)||(i=ds,"selectionStart"in i&&dm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Qo&&ma(Qo,i)||(Qo=i,i=ju(Of,"onSelect"),0<i.length&&(e=new um("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ds)))}function Zl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fs={animationend:Zl("Animation","AnimationEnd"),animationiteration:Zl("Animation","AnimationIteration"),animationstart:Zl("Animation","AnimationStart"),transitionend:Zl("Transition","TransitionEnd")},Cd={},dE={};oi&&(dE=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function bc(t){if(Cd[t])return Cd[t];if(!fs[t])return t;var e=fs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dE)return Cd[t]=e[n];return t}var fE=bc("animationend"),pE=bc("animationiteration"),mE=bc("animationstart"),gE=bc("transitionend"),_E=new Map,Wv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xi(t,e){_E.set(t,e),zr(e,[t])}for(var Ad=0;Ad<Wv.length;Ad++){var Rd=Wv[Ad],IR=Rd.toLowerCase(),SR=Rd[0].toUpperCase()+Rd.slice(1);Xi(IR,"on"+SR)}Xi(fE,"onAnimationEnd");Xi(pE,"onAnimationIteration");Xi(mE,"onAnimationStart");Xi("dblclick","onDoubleClick");Xi("focusin","onFocus");Xi("focusout","onBlur");Xi(gE,"onTransitionEnd");Ms("onMouseEnter",["mouseout","mouseover"]);Ms("onMouseLeave",["mouseout","mouseover"]);Ms("onPointerEnter",["pointerout","pointerover"]);Ms("onPointerLeave",["pointerout","pointerover"]);zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zr("onBeforeInput",["compositionend","keypress","textInput","paste"]);zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PR=new Set("cancel close invalid load scroll toggle".split(" ").concat(zo));function qv(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,IA(i,e,void 0,t),t.currentTarget=null}function vE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var a=i.length-1;0<=a;a--){var c=i[a],h=c.instance,f=c.currentTarget;if(c=c.listener,h!==o&&r.isPropagationStopped())break e;qv(r,c,f),o=h}else for(a=0;a<i.length;a++){if(c=i[a],h=c.instance,f=c.currentTarget,c=c.listener,h!==o&&r.isPropagationStopped())break e;qv(r,c,f),o=h}}}if(Fu)throw t=Rf,Fu=!1,Rf=null,t}function xe(t,e){var n=e[Ff];n===void 0&&(n=e[Ff]=new Set);var i=t+"__bubble";n.has(i)||(yE(e,t,2,!1),n.add(i))}function kd(t,e,n){var i=0;e&&(i|=4),yE(n,t,i,e)}var Gl="_reactListening"+Math.random().toString(36).slice(2);function ga(t){if(!t[Gl]){t[Gl]=!0,C0.forEach(function(n){n!=="selectionchange"&&(PR.has(n)||kd(n,!1,t),kd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gl]||(e[Gl]=!0,kd("selectionchange",!1,e))}}function yE(t,e,n,i){switch(nE(e)){case 1:var r=zA;break;case 4:r=UA;break;default:r=am}n=r.bind(null,e,n,t),r=void 0,!Af||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function xd(t,e,n,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var c=i.stateNode.containerInfo;if(c===r||c.nodeType===8&&c.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var h=a.tag;if((h===3||h===4)&&(h=a.stateNode.containerInfo,h===r||h.nodeType===8&&h.parentNode===r))return;a=a.return}for(;c!==null;){if(a=_r(c),a===null)return;if(h=a.tag,h===5||h===6){i=o=a;continue e}c=c.parentNode}}i=i.return}$0(function(){var f=o,m=im(n),g=[];e:{var v=_E.get(t);if(v!==void 0){var I=um,P=t;switch(t){case"keypress":if(_u(n)===0)break e;case"keydown":case"keyup":I=tR;break;case"focusin":P="focus",I=Id;break;case"focusout":P="blur",I=Id;break;case"beforeblur":case"afterblur":I=Id;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Mv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=jA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=rR;break;case fE:case pE:case mE:I=qA;break;case gE:I=oR;break;case"scroll":I=BA;break;case"wheel":I=lR;break;case"copy":case"cut":case"paste":I=ZA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=bv}var S=(e&4)!==0,R=!S&&t==="scroll",E=S?v!==null?v+"Capture":null:v;S=[];for(var y=f,w;y!==null;){w=y;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,E!==null&&(x=ca(y,E),x!=null&&S.push(_a(y,x,w)))),R)break;y=y.return}0<S.length&&(v=new I(v,P,null,n,m),g.push({event:v,listeners:S}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",v&&n!==Pf&&(P=n.relatedTarget||n.fromElement)&&(_r(P)||P[ai]))break e;if((I||v)&&(v=m.window===m?m:(v=m.ownerDocument)?v.defaultView||v.parentWindow:window,I?(P=n.relatedTarget||n.toElement,I=f,P=P?_r(P):null,P!==null&&(R=Ur(P),P!==R||P.tag!==5&&P.tag!==6)&&(P=null)):(I=null,P=f),I!==P)){if(S=Mv,x="onMouseLeave",E="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(S=bv,x="onPointerLeave",E="onPointerEnter",y="pointer"),R=I==null?v:ps(I),w=P==null?v:ps(P),v=new S(x,y+"leave",I,n,m),v.target=R,v.relatedTarget=w,x=null,_r(m)===f&&(S=new S(E,y+"enter",P,n,m),S.target=w,S.relatedTarget=R,x=S),R=x,I&&P)t:{for(S=I,E=P,y=0,w=S;w;w=rs(w))y++;for(w=0,x=E;x;x=rs(x))w++;for(;0<y-w;)S=rs(S),y--;for(;0<w-y;)E=rs(E),w--;for(;y--;){if(S===E||E!==null&&S===E.alternate)break t;S=rs(S),E=rs(E)}S=null}else S=null;I!==null&&Kv(g,v,I,S,!1),P!==null&&R!==null&&Kv(g,R,P,S,!0)}}e:{if(v=f?ps(f):window,I=v.nodeName&&v.nodeName.toLowerCase(),I==="select"||I==="input"&&v.type==="file")var z=mR;else if(zv(v))if(lE)z=yR;else{z=_R;var $=gR}else(I=v.nodeName)&&I.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(z=vR);if(z&&(z=z(t,f))){aE(g,z,n,m);break e}$&&$(t,v,f),t==="focusout"&&($=v._wrapperState)&&$.controlled&&v.type==="number"&&wf(v,"number",v.value)}switch($=f?ps(f):window,t){case"focusin":(zv($)||$.contentEditable==="true")&&(ds=$,Of=f,Qo=null);break;case"focusout":Qo=Of=ds=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,Hv(g,n,m);break;case"selectionchange":if(TR)break;case"keydown":case"keyup":Hv(g,n,m)}var j;if(hm)e:{switch(t){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else hs?sE(t,n)&&(K="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(K="onCompositionStart");K&&(rE&&n.locale!=="ko"&&(hs||K!=="onCompositionStart"?K==="onCompositionEnd"&&hs&&(j=iE()):(xi=m,lm="value"in xi?xi.value:xi.textContent,hs=!0)),$=ju(f,K),0<$.length&&(K=new Dv(K,t,null,n,m),g.push({event:K,listeners:$}),j?K.data=j:(j=oE(n),j!==null&&(K.data=j)))),(j=cR?hR(t,n):dR(t,n))&&(f=ju(f,"onBeforeInput"),0<f.length&&(m=new Dv("onBeforeInput","beforeinput",null,n,m),g.push({event:m,listeners:f}),m.data=j))}vE(g,e)})}function _a(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ju(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=ca(t,n),o!=null&&i.unshift(_a(t,o,r)),o=ca(t,e),o!=null&&i.push(_a(t,o,r))),t=t.return}return i}function rs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Kv(t,e,n,i,r){for(var o=e._reactName,a=[];n!==null&&n!==i;){var c=n,h=c.alternate,f=c.stateNode;if(h!==null&&h===i)break;c.tag===5&&f!==null&&(c=f,r?(h=ca(n,o),h!=null&&a.unshift(_a(n,h,c))):r||(h=ca(n,o),h!=null&&a.push(_a(n,h,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var CR=/\r\n?/g,AR=/\u0000|\uFFFD/g;function Zv(t){return(typeof t=="string"?t:""+t).replace(CR,`
`).replace(AR,"")}function Ql(t,e,n){if(e=Zv(e),Zv(t)!==e&&n)throw Error(F(425))}function Hu(){}var Mf=null,Df=null;function bf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vf=typeof setTimeout=="function"?setTimeout:void 0,RR=typeof clearTimeout=="function"?clearTimeout:void 0,Gv=typeof Promise=="function"?Promise:void 0,kR=typeof queueMicrotask=="function"?queueMicrotask:typeof Gv<"u"?function(t){return Gv.resolve(null).then(t).catch(xR)}:Vf;function xR(t){setTimeout(function(){throw t})}function Ld(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),fa(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);fa(e)}function Vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Qv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xs=Math.random().toString(36).slice(2),xn="__reactFiber$"+Xs,va="__reactProps$"+Xs,ai="__reactContainer$"+Xs,Ff="__reactEvents$"+Xs,LR="__reactListeners$"+Xs,OR="__reactHandles$"+Xs;function _r(t){var e=t[xn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ai]||n[xn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Qv(t);t!==null;){if(n=t[xn])return n;t=Qv(t)}return e}t=n,n=t.parentNode}return null}function Ga(t){return t=t[xn]||t[ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ps(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function Vc(t){return t[va]||null}var zf=[],ms=-1;function er(t){return{current:t}}function Oe(t){0>ms||(t.current=zf[ms],zf[ms]=null,ms--)}function Re(t,e){ms++,zf[ms]=t.current,t.current=e}var Gi={},At=er(Gi),Ut=er(!1),Ar=Gi;function Ds(t,e){var n=t.type.contextTypes;if(!n)return Gi;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Bt(t){return t=t.childContextTypes,t!=null}function Wu(){Oe(Ut),Oe(At)}function Yv(t,e,n){if(At.current!==Gi)throw Error(F(168));Re(At,e),Re(Ut,n)}function wE(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(F(108,gA(t)||"Unknown",r));return Fe({},n,i)}function qu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gi,Ar=At.current,Re(At,t),Re(Ut,Ut.current),!0}function Jv(t,e,n){var i=t.stateNode;if(!i)throw Error(F(169));n?(t=wE(t,e,Ar),i.__reactInternalMemoizedMergedChildContext=t,Oe(Ut),Oe(At),Re(At,t)):Oe(Ut),Re(Ut,n)}var Yn=null,Fc=!1,Od=!1;function EE(t){Yn===null?Yn=[t]:Yn.push(t)}function NR(t){Fc=!0,EE(t)}function tr(){if(!Od&&Yn!==null){Od=!0;var t=0,e=Ie;try{var n=Yn;for(Ie=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Yn=null,Fc=!1}catch(r){throw Yn!==null&&(Yn=Yn.slice(t+1)),q0(rm,tr),r}finally{Ie=e,Od=!1}}return null}var gs=[],_s=0,Ku=null,Zu=0,tn=[],nn=0,Rr=null,Jn=1,Xn="";function pr(t,e){gs[_s++]=Zu,gs[_s++]=Ku,Ku=t,Zu=e}function TE(t,e,n){tn[nn++]=Jn,tn[nn++]=Xn,tn[nn++]=Rr,Rr=t;var i=Jn;t=Xn;var r=32-vn(i)-1;i&=~(1<<r),n+=1;var o=32-vn(e)+r;if(30<o){var a=r-r%5;o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Jn=1<<32-vn(e)+r|n<<r|i,Xn=o+t}else Jn=1<<o|n<<r|i,Xn=t}function fm(t){t.return!==null&&(pr(t,1),TE(t,1,0))}function pm(t){for(;t===Ku;)Ku=gs[--_s],gs[_s]=null,Zu=gs[--_s],gs[_s]=null;for(;t===Rr;)Rr=tn[--nn],tn[nn]=null,Xn=tn[--nn],tn[nn]=null,Jn=tn[--nn],tn[nn]=null}var qt=null,Wt=null,Ne=!1,gn=null;function IE(t,e){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Xv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qt=t,Wt=Vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qt=t,Wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Rr!==null?{id:Jn,overflow:Xn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qt=t,Wt=null,!0):!1;default:return!1}}function Uf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bf(t){if(Ne){var e=Wt;if(e){var n=e;if(!Xv(t,e)){if(Uf(t))throw Error(F(418));e=Vi(n.nextSibling);var i=qt;e&&Xv(t,e)?IE(i,n):(t.flags=t.flags&-4097|2,Ne=!1,qt=t)}}else{if(Uf(t))throw Error(F(418));t.flags=t.flags&-4097|2,Ne=!1,qt=t}}}function ey(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qt=t}function Yl(t){if(t!==qt)return!1;if(!Ne)return ey(t),Ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bf(t.type,t.memoizedProps)),e&&(e=Wt)){if(Uf(t))throw SE(),Error(F(418));for(;e;)IE(t,e),e=Vi(e.nextSibling)}if(ey(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wt=Vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wt=null}}else Wt=qt?Vi(t.stateNode.nextSibling):null;return!0}function SE(){for(var t=Wt;t;)t=Vi(t.nextSibling)}function bs(){Wt=qt=null,Ne=!1}function mm(t){gn===null?gn=[t]:gn.push(t)}var MR=pi.ReactCurrentBatchConfig;function pn(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Gu=er(null),Qu=null,vs=null,gm=null;function _m(){gm=vs=Qu=null}function vm(t){var e=Gu.current;Oe(Gu),t._currentValue=e}function $f(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function As(t,e){Qu=t,gm=vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zt=!0),t.firstContext=null)}function un(t){var e=t._currentValue;if(gm!==t)if(t={context:t,memoizedValue:e,next:null},vs===null){if(Qu===null)throw Error(F(308));vs=t,Qu.dependencies={lanes:0,firstContext:t}}else vs=vs.next=t;return e}var vr=null;function ym(t){vr===null?vr=[t]:vr.push(t)}function PE(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,ym(e)):(n.next=r.next,r.next=n),e.interleaved=n,li(t,i)}function li(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ii=!1;function wm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ii(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ve&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,li(t,n)}return r=i.interleaved,r===null?(e.next=e,ym(i)):(e.next=r.next,r.next=e),i.interleaved=e,li(t,n)}function vu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,sm(t,n)}}function ty(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yu(t,e,n,i){var r=t.updateQueue;Ii=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,c=r.shared.pending;if(c!==null){r.shared.pending=null;var h=c,f=h.next;h.next=null,a===null?o=f:a.next=f,a=h;var m=t.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==a&&(c===null?m.firstBaseUpdate=f:c.next=f,m.lastBaseUpdate=h))}if(o!==null){var g=r.baseState;a=0,m=f=h=null,c=o;do{var v=c.lane,I=c.eventTime;if((i&v)===v){m!==null&&(m=m.next={eventTime:I,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var P=t,S=c;switch(v=e,I=n,S.tag){case 1:if(P=S.payload,typeof P=="function"){g=P.call(I,g,v);break e}g=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=S.payload,v=typeof P=="function"?P.call(I,g,v):P,v==null)break e;g=Fe({},g,v);break e;case 2:Ii=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,v=r.effects,v===null?r.effects=[c]:v.push(c))}else I={eventTime:I,lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(f=m=I,h=g):m=m.next=I,a|=v;if(c=c.next,c===null){if(c=r.shared.pending,c===null)break;v=c,c=v.next,v.next=null,r.lastBaseUpdate=v,r.shared.pending=null}}while(1);if(m===null&&(h=g),r.baseState=h,r.firstBaseUpdate=f,r.lastBaseUpdate=m,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);xr|=a,t.lanes=a,t.memoizedState=g}}function ny(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(F(191,r));r.call(i)}}}var AE=new P0.Component().refs;function jf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zc={isMounted:function(t){return(t=t._reactInternals)?Ur(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Nt(),r=Ui(t),o=ii(i,r);o.payload=e,n!=null&&(o.callback=n),e=Fi(t,o,r),e!==null&&(yn(e,t,r,i),vu(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Nt(),r=Ui(t),o=ii(i,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Fi(t,o,r),e!==null&&(yn(e,t,r,i),vu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nt(),i=Ui(t),r=ii(n,i);r.tag=2,e!=null&&(r.callback=e),e=Fi(t,r,i),e!==null&&(yn(e,t,i,n),vu(e,t,i))}};function iy(t,e,n,i,r,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,a):e.prototype&&e.prototype.isPureReactComponent?!ma(n,i)||!ma(r,o):!0}function RE(t,e,n){var i=!1,r=Gi,o=e.contextType;return typeof o=="object"&&o!==null?o=un(o):(r=Bt(e)?Ar:At.current,i=e.contextTypes,o=(i=i!=null)?Ds(t,r):Gi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zc,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function ry(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&zc.enqueueReplaceState(e,e.state,null)}function Hf(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=AE,wm(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=un(o):(o=Bt(e)?Ar:At.current,r.context=Ds(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(jf(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&zc.enqueueReplaceState(r,r.state,null),Yu(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function ko(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var i=n.stateNode}if(!i)throw Error(F(147,t));var r=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var c=r.refs;c===AE&&(c=r.refs={}),a===null?delete c[o]:c[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function Jl(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sy(t){var e=t._init;return e(t._payload)}function kE(t){function e(E,y){if(t){var w=E.deletions;w===null?(E.deletions=[y],E.flags|=16):w.push(y)}}function n(E,y){if(!t)return null;for(;y!==null;)e(E,y),y=y.sibling;return null}function i(E,y){for(E=new Map;y!==null;)y.key!==null?E.set(y.key,y):E.set(y.index,y),y=y.sibling;return E}function r(E,y){return E=Bi(E,y),E.index=0,E.sibling=null,E}function o(E,y,w){return E.index=w,t?(w=E.alternate,w!==null?(w=w.index,w<y?(E.flags|=2,y):w):(E.flags|=2,y)):(E.flags|=1048576,y)}function a(E){return t&&E.alternate===null&&(E.flags|=2),E}function c(E,y,w,x){return y===null||y.tag!==6?(y=zd(w,E.mode,x),y.return=E,y):(y=r(y,w),y.return=E,y)}function h(E,y,w,x){var z=w.type;return z===cs?m(E,y,w.props.children,x,w.key):y!==null&&(y.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Ti&&sy(z)===y.type)?(x=r(y,w.props),x.ref=ko(E,y,w),x.return=E,x):(x=Su(w.type,w.key,w.props,null,E.mode,x),x.ref=ko(E,y,w),x.return=E,x)}function f(E,y,w,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Ud(w,E.mode,x),y.return=E,y):(y=r(y,w.children||[]),y.return=E,y)}function m(E,y,w,x,z){return y===null||y.tag!==7?(y=Sr(w,E.mode,x,z),y.return=E,y):(y=r(y,w),y.return=E,y)}function g(E,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=zd(""+y,E.mode,w),y.return=E,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Bl:return w=Su(y.type,y.key,y.props,null,E.mode,w),w.ref=ko(E,null,y),w.return=E,w;case us:return y=Ud(y,E.mode,w),y.return=E,y;case Ti:var x=y._init;return g(E,x(y._payload),w)}if(Vo(y)||So(y))return y=Sr(y,E.mode,w,null),y.return=E,y;Jl(E,y)}return null}function v(E,y,w,x){var z=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return z!==null?null:c(E,y,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bl:return w.key===z?h(E,y,w,x):null;case us:return w.key===z?f(E,y,w,x):null;case Ti:return z=w._init,v(E,y,z(w._payload),x)}if(Vo(w)||So(w))return z!==null?null:m(E,y,w,x,null);Jl(E,w)}return null}function I(E,y,w,x,z){if(typeof x=="string"&&x!==""||typeof x=="number")return E=E.get(w)||null,c(y,E,""+x,z);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Bl:return E=E.get(x.key===null?w:x.key)||null,h(y,E,x,z);case us:return E=E.get(x.key===null?w:x.key)||null,f(y,E,x,z);case Ti:var $=x._init;return I(E,y,w,$(x._payload),z)}if(Vo(x)||So(x))return E=E.get(w)||null,m(y,E,x,z,null);Jl(y,x)}return null}function P(E,y,w,x){for(var z=null,$=null,j=y,K=y=0,Ee=null;j!==null&&K<w.length;K++){j.index>K?(Ee=j,j=null):Ee=j.sibling;var re=v(E,j,w[K],x);if(re===null){j===null&&(j=Ee);break}t&&j&&re.alternate===null&&e(E,j),y=o(re,y,K),$===null?z=re:$.sibling=re,$=re,j=Ee}if(K===w.length)return n(E,j),Ne&&pr(E,K),z;if(j===null){for(;K<w.length;K++)j=g(E,w[K],x),j!==null&&(y=o(j,y,K),$===null?z=j:$.sibling=j,$=j);return Ne&&pr(E,K),z}for(j=i(E,j);K<w.length;K++)Ee=I(j,E,K,w[K],x),Ee!==null&&(t&&Ee.alternate!==null&&j.delete(Ee.key===null?K:Ee.key),y=o(Ee,y,K),$===null?z=Ee:$.sibling=Ee,$=Ee);return t&&j.forEach(function(Ce){return e(E,Ce)}),Ne&&pr(E,K),z}function S(E,y,w,x){var z=So(w);if(typeof z!="function")throw Error(F(150));if(w=z.call(w),w==null)throw Error(F(151));for(var $=z=null,j=y,K=y=0,Ee=null,re=w.next();j!==null&&!re.done;K++,re=w.next()){j.index>K?(Ee=j,j=null):Ee=j.sibling;var Ce=v(E,j,re.value,x);if(Ce===null){j===null&&(j=Ee);break}t&&j&&Ce.alternate===null&&e(E,j),y=o(Ce,y,K),$===null?z=Ce:$.sibling=Ce,$=Ce,j=Ee}if(re.done)return n(E,j),Ne&&pr(E,K),z;if(j===null){for(;!re.done;K++,re=w.next())re=g(E,re.value,x),re!==null&&(y=o(re,y,K),$===null?z=re:$.sibling=re,$=re);return Ne&&pr(E,K),z}for(j=i(E,j);!re.done;K++,re=w.next())re=I(j,E,K,re.value,x),re!==null&&(t&&re.alternate!==null&&j.delete(re.key===null?K:re.key),y=o(re,y,K),$===null?z=re:$.sibling=re,$=re);return t&&j.forEach(function(nt){return e(E,nt)}),Ne&&pr(E,K),z}function R(E,y,w,x){if(typeof w=="object"&&w!==null&&w.type===cs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Bl:e:{for(var z=w.key,$=y;$!==null;){if($.key===z){if(z=w.type,z===cs){if($.tag===7){n(E,$.sibling),y=r($,w.props.children),y.return=E,E=y;break e}}else if($.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Ti&&sy(z)===$.type){n(E,$.sibling),y=r($,w.props),y.ref=ko(E,$,w),y.return=E,E=y;break e}n(E,$);break}else e(E,$);$=$.sibling}w.type===cs?(y=Sr(w.props.children,E.mode,x,w.key),y.return=E,E=y):(x=Su(w.type,w.key,w.props,null,E.mode,x),x.ref=ko(E,y,w),x.return=E,E=x)}return a(E);case us:e:{for($=w.key;y!==null;){if(y.key===$)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(E,y.sibling),y=r(y,w.children||[]),y.return=E,E=y;break e}else{n(E,y);break}else e(E,y);y=y.sibling}y=Ud(w,E.mode,x),y.return=E,E=y}return a(E);case Ti:return $=w._init,R(E,y,$(w._payload),x)}if(Vo(w))return P(E,y,w,x);if(So(w))return S(E,y,w,x);Jl(E,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(E,y.sibling),y=r(y,w),y.return=E,E=y):(n(E,y),y=zd(w,E.mode,x),y.return=E,E=y),a(E)):n(E,y)}return R}var Vs=kE(!0),xE=kE(!1),Qa={},bn=er(Qa),ya=er(Qa),wa=er(Qa);function yr(t){if(t===Qa)throw Error(F(174));return t}function Em(t,e){switch(Re(wa,e),Re(ya,t),Re(bn,Qa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tf(e,t)}Oe(bn),Re(bn,e)}function Fs(){Oe(bn),Oe(ya),Oe(wa)}function LE(t){yr(wa.current);var e=yr(bn.current),n=Tf(e,t.type);e!==n&&(Re(ya,t),Re(bn,n))}function Tm(t){ya.current===t&&(Oe(bn),Oe(ya))}var be=er(0);function Ju(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nd=[];function Im(){for(var t=0;t<Nd.length;t++)Nd[t]._workInProgressVersionPrimary=null;Nd.length=0}var yu=pi.ReactCurrentDispatcher,Md=pi.ReactCurrentBatchConfig,kr=0,Ve=null,Je=null,st=null,Xu=!1,Yo=!1,Ea=0,DR=0;function yt(){throw Error(F(321))}function Sm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!En(t[n],e[n]))return!1;return!0}function Pm(t,e,n,i,r,o){if(kr=o,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yu.current=t===null||t.memoizedState===null?zR:UR,t=n(i,r),Yo){o=0;do{if(Yo=!1,Ea=0,25<=o)throw Error(F(301));o+=1,st=Je=null,e.updateQueue=null,yu.current=BR,t=n(i,r)}while(Yo)}if(yu.current=ec,e=Je!==null&&Je.next!==null,kr=0,st=Je=Ve=null,Xu=!1,e)throw Error(F(300));return t}function Cm(){var t=Ea!==0;return Ea=0,t}function kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Ve.memoizedState=st=t:st=st.next=t,st}function cn(){if(Je===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=st===null?Ve.memoizedState:st.next;if(e!==null)st=e,Je=t;else{if(t===null)throw Error(F(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},st===null?Ve.memoizedState=st=t:st=st.next=t}return st}function Ta(t,e){return typeof e=="function"?e(t):e}function Dd(t){var e=cn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var i=Je,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var c=a=null,h=null,f=o;do{var m=f.lane;if((kr&m)===m)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:t(i,f.action);else{var g={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(c=h=g,a=i):h=h.next=g,Ve.lanes|=m,xr|=m}f=f.next}while(f!==null&&f!==o);h===null?a=i:h.next=c,En(i,e.memoizedState)||(zt=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=h,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do o=r.lane,Ve.lanes|=o,xr|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bd(t){var e=cn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do o=t(o,a.action),a=a.next;while(a!==r);En(o,e.memoizedState)||(zt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function OE(){}function NE(t,e){var n=Ve,i=cn(),r=e(),o=!En(i.memoizedState,r);if(o&&(i.memoizedState=r,zt=!0),i=i.queue,Am(bE.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,Ia(9,DE.bind(null,n,i,r,e),void 0,null),ot===null)throw Error(F(349));kr&30||ME(n,e,r)}return r}function ME(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function DE(t,e,n,i){e.value=n,e.getSnapshot=i,VE(e)&&FE(t)}function bE(t,e,n){return n(function(){VE(e)&&FE(t)})}function VE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!En(t,n)}catch{return!0}}function FE(t){var e=li(t,1);e!==null&&yn(e,t,1,-1)}function oy(t){var e=kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:t},e.queue=t,t=t.dispatch=FR.bind(null,Ve,t),[e.memoizedState,t]}function Ia(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function zE(){return cn().memoizedState}function wu(t,e,n,i){var r=kn();Ve.flags|=t,r.memoizedState=Ia(1|e,n,void 0,i===void 0?null:i)}function Uc(t,e,n,i){var r=cn();i=i===void 0?null:i;var o=void 0;if(Je!==null){var a=Je.memoizedState;if(o=a.destroy,i!==null&&Sm(i,a.deps)){r.memoizedState=Ia(e,n,o,i);return}}Ve.flags|=t,r.memoizedState=Ia(1|e,n,o,i)}function ay(t,e){return wu(8390656,8,t,e)}function Am(t,e){return Uc(2048,8,t,e)}function UE(t,e){return Uc(4,2,t,e)}function BE(t,e){return Uc(4,4,t,e)}function $E(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jE(t,e,n){return n=n!=null?n.concat([t]):null,Uc(4,4,$E.bind(null,e,t),n)}function Rm(){}function HE(t,e){var n=cn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Sm(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function WE(t,e){var n=cn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Sm(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function qE(t,e,n){return kr&21?(En(n,e)||(n=G0(),Ve.lanes|=n,xr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=n)}function bR(t,e){var n=Ie;Ie=n!==0&&4>n?n:4,t(!0);var i=Md.transition;Md.transition={};try{t(!1),e()}finally{Ie=n,Md.transition=i}}function KE(){return cn().memoizedState}function VR(t,e,n){var i=Ui(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ZE(t))GE(e,n);else if(n=PE(t,e,n,i),n!==null){var r=Nt();yn(n,t,i,r),QE(n,e,i)}}function FR(t,e,n){var i=Ui(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ZE(t))GE(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,c=o(a,n);if(r.hasEagerState=!0,r.eagerState=c,En(c,a)){var h=e.interleaved;h===null?(r.next=r,ym(e)):(r.next=h.next,h.next=r),e.interleaved=r;return}}catch{}finally{}n=PE(t,e,r,i),n!==null&&(r=Nt(),yn(n,t,i,r),QE(n,e,i))}}function ZE(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function GE(t,e){Yo=Xu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function QE(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,sm(t,n)}}var ec={readContext:un,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},zR={readContext:un,useCallback:function(t,e){return kn().memoizedState=[t,e===void 0?null:e],t},useContext:un,useEffect:ay,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wu(4194308,4,$E.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wu(4194308,4,t,e)},useInsertionEffect:function(t,e){return wu(4,2,t,e)},useMemo:function(t,e){var n=kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=kn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=VR.bind(null,Ve,t),[i.memoizedState,t]},useRef:function(t){var e=kn();return t={current:t},e.memoizedState=t},useState:oy,useDebugValue:Rm,useDeferredValue:function(t){return kn().memoizedState=t},useTransition:function(){var t=oy(!1),e=t[0];return t=bR.bind(null,t[1]),kn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Ve,r=kn();if(Ne){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),ot===null)throw Error(F(349));kr&30||ME(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,ay(bE.bind(null,i,o,t),[t]),i.flags|=2048,Ia(9,DE.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=kn(),e=ot.identifierPrefix;if(Ne){var n=Xn,i=Jn;n=(i&~(1<<32-vn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ea++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=DR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},UR={readContext:un,useCallback:HE,useContext:un,useEffect:Am,useImperativeHandle:jE,useInsertionEffect:UE,useLayoutEffect:BE,useMemo:WE,useReducer:Dd,useRef:zE,useState:function(){return Dd(Ta)},useDebugValue:Rm,useDeferredValue:function(t){var e=cn();return qE(e,Je.memoizedState,t)},useTransition:function(){var t=Dd(Ta)[0],e=cn().memoizedState;return[t,e]},useMutableSource:OE,useSyncExternalStore:NE,useId:KE,unstable_isNewReconciler:!1},BR={readContext:un,useCallback:HE,useContext:un,useEffect:Am,useImperativeHandle:jE,useInsertionEffect:UE,useLayoutEffect:BE,useMemo:WE,useReducer:bd,useRef:zE,useState:function(){return bd(Ta)},useDebugValue:Rm,useDeferredValue:function(t){var e=cn();return Je===null?e.memoizedState=t:qE(e,Je.memoizedState,t)},useTransition:function(){var t=bd(Ta)[0],e=cn().memoizedState;return[t,e]},useMutableSource:OE,useSyncExternalStore:NE,useId:KE,unstable_isNewReconciler:!1};function zs(t,e){try{var n="",i=e;do n+=mA(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function Vd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $R=typeof WeakMap=="function"?WeakMap:Map;function YE(t,e,n){n=ii(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){nc||(nc=!0,tp=i),Wf(t,e)},n}function JE(t,e,n){n=ii(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Wf(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Wf(t,e),typeof i!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function ly(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new $R;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=nk.bind(null,t,e,n),e.then(t,t))}function uy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cy(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ii(-1,1),e.tag=2,Fi(n,e,1))),n.lanes|=1),t)}var jR=pi.ReactCurrentOwner,zt=!1;function Lt(t,e,n,i){e.child=t===null?xE(e,null,n,i):Vs(e,t.child,n,i)}function hy(t,e,n,i,r){n=n.render;var o=e.ref;return As(e,r),i=Pm(t,e,n,i,o,r),n=Cm(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ui(t,e,r)):(Ne&&n&&fm(e),e.flags|=1,Lt(t,e,i,r),e.child)}function dy(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!bm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,XE(t,e,o,i,r)):(t=Su(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ma,n(a,i)&&t.ref===e.ref)return ui(t,e,r)}return e.flags|=1,t=Bi(o,i),t.ref=e.ref,t.return=e,e.child=t}function XE(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if(ma(o,i)&&t.ref===e.ref)if(zt=!1,e.pendingProps=i=o,(t.lanes&r)!==0)t.flags&131072&&(zt=!0);else return e.lanes=t.lanes,ui(t,e,r)}return qf(t,e,n,i,r)}function eT(t,e,n){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(ws,Ht),Ht|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Re(ws,Ht),Ht|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,Re(ws,Ht),Ht|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,Re(ws,Ht),Ht|=i;return Lt(t,e,r,n),e.child}function tT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qf(t,e,n,i,r){var o=Bt(n)?Ar:At.current;return o=Ds(e,o),As(e,r),n=Pm(t,e,n,i,o,r),i=Cm(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ui(t,e,r)):(Ne&&i&&fm(e),e.flags|=1,Lt(t,e,n,r),e.child)}function fy(t,e,n,i,r){if(Bt(n)){var o=!0;qu(e)}else o=!1;if(As(e,r),e.stateNode===null)Eu(t,e),RE(e,n,i),Hf(e,n,i,r),i=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var h=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=un(f):(f=Bt(n)?Ar:At.current,f=Ds(e,f));var m=n.getDerivedStateFromProps,g=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==i||h!==f)&&ry(e,a,i,f),Ii=!1;var v=e.memoizedState;a.state=v,Yu(e,i,a,r),h=e.memoizedState,c!==i||v!==h||Ut.current||Ii?(typeof m=="function"&&(jf(e,n,m,i),h=e.memoizedState),(c=Ii||iy(e,n,c,i,v,h,f))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),a.props=i,a.state=h,a.context=f,i=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,CE(t,e),c=e.memoizedProps,f=e.type===e.elementType?c:pn(e.type,c),a.props=f,g=e.pendingProps,v=a.context,h=n.contextType,typeof h=="object"&&h!==null?h=un(h):(h=Bt(n)?Ar:At.current,h=Ds(e,h));var I=n.getDerivedStateFromProps;(m=typeof I=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==g||v!==h)&&ry(e,a,i,h),Ii=!1,v=e.memoizedState,a.state=v,Yu(e,i,a,r);var P=e.memoizedState;c!==g||v!==P||Ut.current||Ii?(typeof I=="function"&&(jf(e,n,I,i),P=e.memoizedState),(f=Ii||iy(e,n,f,i,v,P,h)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,P,h),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,P,h)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=P),a.props=i,a.state=P,a.context=h,i=f):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),i=!1)}return Kf(t,e,n,i,o,r)}function Kf(t,e,n,i,r,o){tT(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&Jv(e,n,!1),ui(t,e,o);i=e.stateNode,jR.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=Vs(e,t.child,null,o),e.child=Vs(e,null,c,o)):Lt(t,e,c,o),e.memoizedState=i.state,r&&Jv(e,n,!0),e.child}function nT(t){var e=t.stateNode;e.pendingContext?Yv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Yv(t,e.context,!1),Em(t,e.containerInfo)}function py(t,e,n,i,r){return bs(),mm(r),e.flags|=256,Lt(t,e,n,i),e.child}var Zf={dehydrated:null,treeContext:null,retryLane:0};function Gf(t){return{baseLanes:t,cachePool:null,transitions:null}}function iT(t,e,n){var i=e.pendingProps,r=be.current,o=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(r&2)!==0),c?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Re(be,r&1),t===null)return Bf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,o?(i=e.mode,o=e.child,a={mode:"hidden",children:a},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=jc(a,i,0,null),t=Sr(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Gf(n),e.memoizedState=Zf,t):km(e,a));if(r=t.memoizedState,r!==null&&(c=r.dehydrated,c!==null))return HR(t,e,a,i,c,r,n);if(o){o=i.fallback,a=e.mode,r=t.child,c=r.sibling;var h={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=h,e.deletions=null):(i=Bi(r,h),i.subtreeFlags=r.subtreeFlags&14680064),c!==null?o=Bi(c,o):(o=Sr(o,a,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,a=t.child.memoizedState,a=a===null?Gf(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Zf,i}return o=t.child,t=o.sibling,i=Bi(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function km(t,e){return e=jc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xl(t,e,n,i){return i!==null&&mm(i),Vs(e,t.child,null,n),t=km(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function HR(t,e,n,i,r,o,a){if(n)return e.flags&256?(e.flags&=-257,i=Vd(Error(F(422))),Xl(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=jc({mode:"visible",children:i.children},r,0,null),o=Sr(o,r,a,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Vs(e,t.child,null,a),e.child.memoizedState=Gf(a),e.memoizedState=Zf,o);if(!(e.mode&1))return Xl(t,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var c=i.dgst;return i=c,o=Error(F(419)),i=Vd(o,i,void 0),Xl(t,e,a,i)}if(c=(a&t.childLanes)!==0,zt||c){if(i=ot,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,li(t,r),yn(i,t,r,-1))}return Dm(),i=Vd(Error(F(421))),Xl(t,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=ik.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,Wt=Vi(r.nextSibling),qt=e,Ne=!0,gn=null,t!==null&&(tn[nn++]=Jn,tn[nn++]=Xn,tn[nn++]=Rr,Jn=t.id,Xn=t.overflow,Rr=e),e=km(e,i.children),e.flags|=4096,e)}function my(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),$f(t.return,e,n)}function Fd(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function rT(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(Lt(t,e,i.children,n),i=be.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&my(t,n,e);else if(t.tag===19)my(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Re(be,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Ju(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Fd(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Ju(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Fd(e,!0,n,null,o);break;case"together":Fd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Eu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ui(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=Bi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WR(t,e,n){switch(e.tag){case 3:nT(e),bs();break;case 5:LE(e);break;case 1:Bt(e.type)&&qu(e);break;case 4:Em(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Re(Gu,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Re(be,be.current&1),e.flags|=128,null):n&e.child.childLanes?iT(t,e,n):(Re(be,be.current&1),t=ui(t,e,n),t!==null?t.sibling:null);Re(be,be.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return rT(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Re(be,be.current),i)break;return null;case 22:case 23:return e.lanes=0,eT(t,e,n)}return ui(t,e,n)}var sT,Qf,oT,aT;sT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qf=function(){};oT=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,yr(bn.current);var o=null;switch(n){case"input":r=vf(t,r),i=vf(t,i),o=[];break;case"select":r=Fe({},r,{value:void 0}),i=Fe({},i,{value:void 0}),o=[];break;case"textarea":r=Ef(t,r),i=Ef(t,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Hu)}If(n,i);var a;n=null;for(f in r)if(!i.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var c=r[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(la.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in i){var h=i[f];if(c=r!=null?r[f]:void 0,i.hasOwnProperty(f)&&h!==c&&(h!=null||c!=null))if(f==="style")if(c){for(a in c)!c.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in h)h.hasOwnProperty(a)&&c[a]!==h[a]&&(n||(n={}),n[a]=h[a])}else n||(o||(o=[]),o.push(f,n)),n=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,c=c?c.__html:void 0,h!=null&&c!==h&&(o=o||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(la.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&xe("scroll",t),o||c===h||(o=[])):(o=o||[]).push(f,h))}n&&(o=o||[]).push("style",n);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};aT=function(t,e,n,i){n!==i&&(e.flags|=4)};function xo(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function qR(t,e,n){var i=e.pendingProps;switch(pm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(e),null;case 1:return Bt(e.type)&&Wu(),wt(e),null;case 3:return i=e.stateNode,Fs(),Oe(Ut),Oe(At),Im(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Yl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gn!==null&&(rp(gn),gn=null))),Qf(t,e),wt(e),null;case 5:Tm(e);var r=yr(wa.current);if(n=e.type,t!==null&&e.stateNode!=null)oT(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(F(166));return wt(e),null}if(t=yr(bn.current),Yl(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[xn]=e,i[va]=o,t=(e.mode&1)!==0,n){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(r=0;r<zo.length;r++)xe(zo[r],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":Sv(i,o),xe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},xe("invalid",i);break;case"textarea":Cv(i,o),xe("invalid",i)}If(n,o),r=null;for(var a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="children"?typeof c=="string"?i.textContent!==c&&(o.suppressHydrationWarning!==!0&&Ql(i.textContent,c,t),r=["children",c]):typeof c=="number"&&i.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&Ql(i.textContent,c,t),r=["children",""+c]):la.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&xe("scroll",i)}switch(n){case"input":$l(i),Pv(i,o,!0);break;case"textarea":$l(i),Av(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Hu)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=M0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(n,{is:i.is}):(t=a.createElement(n),n==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,n),t[xn]=e,t[va]=i,sT(t,e,!1,!1),e.stateNode=t;e:{switch(a=Sf(n,i),n){case"dialog":xe("cancel",t),xe("close",t),r=i;break;case"iframe":case"object":case"embed":xe("load",t),r=i;break;case"video":case"audio":for(r=0;r<zo.length;r++)xe(zo[r],t);r=i;break;case"source":xe("error",t),r=i;break;case"img":case"image":case"link":xe("error",t),xe("load",t),r=i;break;case"details":xe("toggle",t),r=i;break;case"input":Sv(t,i),r=vf(t,i),xe("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Fe({},i,{value:void 0}),xe("invalid",t);break;case"textarea":Cv(t,i),r=Ef(t,i),xe("invalid",t);break;default:r=i}If(n,r),c=r;for(o in c)if(c.hasOwnProperty(o)){var h=c[o];o==="style"?V0(t,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&D0(t,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&ua(t,h):typeof h=="number"&&ua(t,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(la.hasOwnProperty(o)?h!=null&&o==="onScroll"&&xe("scroll",t):h!=null&&Xp(t,o,h,a))}switch(n){case"input":$l(t),Pv(t,i,!1);break;case"textarea":$l(t),Av(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Zi(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?Is(t,!!i.multiple,o,!1):i.defaultValue!=null&&Is(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Hu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wt(e),null;case 6:if(t&&e.stateNode!=null)aT(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(F(166));if(n=yr(wa.current),yr(bn.current),Yl(e)){if(i=e.stateNode,n=e.memoizedProps,i[xn]=e,(o=i.nodeValue!==n)&&(t=qt,t!==null))switch(t.tag){case 3:Ql(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ql(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[xn]=e,e.stateNode=i}return wt(e),null;case 13:if(Oe(be),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ne&&Wt!==null&&e.mode&1&&!(e.flags&128))SE(),bs(),e.flags|=98560,o=!1;else if(o=Yl(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(F(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[xn]=e}else bs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wt(e),o=!1}else gn!==null&&(rp(gn),gn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||be.current&1?et===0&&(et=3):Dm())),e.updateQueue!==null&&(e.flags|=4),wt(e),null);case 4:return Fs(),Qf(t,e),t===null&&ga(e.stateNode.containerInfo),wt(e),null;case 10:return vm(e.type._context),wt(e),null;case 17:return Bt(e.type)&&Wu(),wt(e),null;case 19:if(Oe(be),o=e.memoizedState,o===null)return wt(e),null;if(i=(e.flags&128)!==0,a=o.rendering,a===null)if(i)xo(o,!1);else{if(et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ju(t),a!==null){for(e.flags|=128,xo(o,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Re(be,be.current&1|2),e.child}t=t.sibling}o.tail!==null&&je()>Us&&(e.flags|=128,i=!0,xo(o,!1),e.lanes=4194304)}else{if(!i)if(t=Ju(a),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ne)return wt(e),null}else 2*je()-o.renderingStartTime>Us&&n!==1073741824&&(e.flags|=128,i=!0,xo(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=je(),e.sibling=null,n=be.current,Re(be,i?n&1|2:n&1),e):(wt(e),null);case 22:case 23:return Mm(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ht&1073741824&&(wt(e),e.subtreeFlags&6&&(e.flags|=8192)):wt(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function KR(t,e){switch(pm(e),e.tag){case 1:return Bt(e.type)&&Wu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fs(),Oe(Ut),Oe(At),Im(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tm(e),null;case 13:if(Oe(be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));bs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(be),null;case 4:return Fs(),null;case 10:return vm(e.type._context),null;case 22:case 23:return Mm(),null;case 24:return null;default:return null}}var eu=!1,It=!1,ZR=typeof WeakSet=="function"?WeakSet:Set,W=null;function ys(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ue(t,e,i)}else n.current=null}function Yf(t,e,n){try{n()}catch(i){Ue(t,e,i)}}var gy=!1;function GR(t,e){if(Mf=Bu,t=hE(),dm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,c=-1,h=-1,f=0,m=0,g=t,v=null;t:for(;;){for(var I;g!==n||r!==0&&g.nodeType!==3||(c=a+r),g!==o||i!==0&&g.nodeType!==3||(h=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(I=g.firstChild)!==null;)v=g,g=I;for(;;){if(g===t)break t;if(v===n&&++f===r&&(c=a),v===o&&++m===i&&(h=a),(I=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=I}n=c===-1||h===-1?null:{start:c,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(Df={focusedElem:t,selectionRange:n},Bu=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var P=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var S=P.memoizedProps,R=P.memoizedState,E=e.stateNode,y=E.getSnapshotBeforeUpdate(e.elementType===e.type?S:pn(e.type,S),R);E.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(x){Ue(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return P=gy,gy=!1,P}function Jo(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&Yf(e,n,o)}r=r.next}while(r!==i)}}function Bc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Jf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function lT(t){var e=t.alternate;e!==null&&(t.alternate=null,lT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xn],delete e[va],delete e[Ff],delete e[LR],delete e[OR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uT(t){return t.tag===5||t.tag===3||t.tag===4}function _y(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hu));else if(i!==4&&(t=t.child,t!==null))for(Xf(t,e,n),t=t.sibling;t!==null;)Xf(t,e,n),t=t.sibling}function ep(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(ep(t,e,n),t=t.sibling;t!==null;)ep(t,e,n),t=t.sibling}var ht=null,mn=!1;function yi(t,e,n){for(n=n.child;n!==null;)cT(t,e,n),n=n.sibling}function cT(t,e,n){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(Nc,n)}catch{}switch(n.tag){case 5:It||ys(n,e);case 6:var i=ht,r=mn;ht=null,yi(t,e,n),ht=i,mn=r,ht!==null&&(mn?(t=ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(mn?(t=ht,n=n.stateNode,t.nodeType===8?Ld(t.parentNode,n):t.nodeType===1&&Ld(t,n),fa(t)):Ld(ht,n.stateNode));break;case 4:i=ht,r=mn,ht=n.stateNode.containerInfo,mn=!0,yi(t,e,n),ht=i,mn=r;break;case 0:case 11:case 14:case 15:if(!It&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Yf(n,e,a),r=r.next}while(r!==i)}yi(t,e,n);break;case 1:if(!It&&(ys(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(c){Ue(n,e,c)}yi(t,e,n);break;case 21:yi(t,e,n);break;case 22:n.mode&1?(It=(i=It)||n.memoizedState!==null,yi(t,e,n),It=i):yi(t,e,n);break;default:yi(t,e,n)}}function vy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ZR),e.forEach(function(i){var r=rk.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function fn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:ht=c.stateNode,mn=!1;break e;case 3:ht=c.stateNode.containerInfo,mn=!0;break e;case 4:ht=c.stateNode.containerInfo,mn=!0;break e}c=c.return}if(ht===null)throw Error(F(160));cT(o,a,r),ht=null,mn=!1;var h=r.alternate;h!==null&&(h.return=null),r.return=null}catch(f){Ue(r,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hT(e,t),e=e.sibling}function hT(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fn(e,t),Rn(t),i&4){try{Jo(3,t,t.return),Bc(3,t)}catch(S){Ue(t,t.return,S)}try{Jo(5,t,t.return)}catch(S){Ue(t,t.return,S)}}break;case 1:fn(e,t),Rn(t),i&512&&n!==null&&ys(n,n.return);break;case 5:if(fn(e,t),Rn(t),i&512&&n!==null&&ys(n,n.return),t.flags&32){var r=t.stateNode;try{ua(r,"")}catch(S){Ue(t,t.return,S)}}if(i&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,c=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&O0(r,o),Sf(c,a);var f=Sf(c,o);for(a=0;a<h.length;a+=2){var m=h[a],g=h[a+1];m==="style"?V0(r,g):m==="dangerouslySetInnerHTML"?D0(r,g):m==="children"?ua(r,g):Xp(r,m,g,f)}switch(c){case"input":yf(r,o);break;case"textarea":N0(r,o);break;case"select":var v=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var I=o.value;I!=null?Is(r,!!o.multiple,I,!1):v!==!!o.multiple&&(o.defaultValue!=null?Is(r,!!o.multiple,o.defaultValue,!0):Is(r,!!o.multiple,o.multiple?[]:"",!1))}r[va]=o}catch(S){Ue(t,t.return,S)}}break;case 6:if(fn(e,t),Rn(t),i&4){if(t.stateNode===null)throw Error(F(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(S){Ue(t,t.return,S)}}break;case 3:if(fn(e,t),Rn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{fa(e.containerInfo)}catch(S){Ue(t,t.return,S)}break;case 4:fn(e,t),Rn(t);break;case 13:fn(e,t),Rn(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(Om=je())),i&4&&vy(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(It=(f=It)||m,fn(e,t),It=f):fn(e,t),Rn(t),i&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!m&&t.mode&1)for(W=t,m=t.child;m!==null;){for(g=W=m;W!==null;){switch(v=W,I=v.child,v.tag){case 0:case 11:case 14:case 15:Jo(4,v,v.return);break;case 1:ys(v,v.return);var P=v.stateNode;if(typeof P.componentWillUnmount=="function"){i=v,n=v.return;try{e=i,P.props=e.memoizedProps,P.state=e.memoizedState,P.componentWillUnmount()}catch(S){Ue(i,n,S)}}break;case 5:ys(v,v.return);break;case 22:if(v.memoizedState!==null){wy(g);continue}}I!==null?(I.return=v,W=I):wy(g)}m=m.sibling}e:for(m=null,g=t;;){if(g.tag===5){if(m===null){m=g;try{r=g.stateNode,f?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=g.stateNode,h=g.memoizedProps.style,a=h!=null&&h.hasOwnProperty("display")?h.display:null,c.style.display=b0("display",a))}catch(S){Ue(t,t.return,S)}}}else if(g.tag===6){if(m===null)try{g.stateNode.nodeValue=f?"":g.memoizedProps}catch(S){Ue(t,t.return,S)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;m===g&&(m=null),g=g.return}m===g&&(m=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:fn(e,t),Rn(t),i&4&&vy(t);break;case 21:break;default:fn(e,t),Rn(t)}}function Rn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(uT(n)){var i=n;break e}n=n.return}throw Error(F(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(ua(r,""),i.flags&=-33);var o=_y(t);ep(t,o,r);break;case 3:case 4:var a=i.stateNode.containerInfo,c=_y(t);Xf(t,c,a);break;default:throw Error(F(161))}}catch(h){Ue(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QR(t,e,n){W=t,dT(t)}function dT(t,e,n){for(var i=(t.mode&1)!==0;W!==null;){var r=W,o=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||eu;if(!a){var c=r.alternate,h=c!==null&&c.memoizedState!==null||It;c=eu;var f=It;if(eu=a,(It=h)&&!f)for(W=r;W!==null;)a=W,h=a.child,a.tag===22&&a.memoizedState!==null?Ey(r):h!==null?(h.return=a,W=h):Ey(r);for(;o!==null;)W=o,dT(o),o=o.sibling;W=r,eu=c,It=f}yy(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,W=o):yy(t)}}function yy(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:It||Bc(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!It)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:pn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&ny(e,o,i);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ny(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var g=m.dehydrated;g!==null&&fa(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}It||e.flags&512&&Jf(e)}catch(v){Ue(e,e.return,v)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function wy(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function Ey(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Bc(4,e)}catch(h){Ue(e,n,h)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(h){Ue(e,r,h)}}var o=e.return;try{Jf(e)}catch(h){Ue(e,o,h)}break;case 5:var a=e.return;try{Jf(e)}catch(h){Ue(e,a,h)}}}catch(h){Ue(e,e.return,h)}if(e===t){W=null;break}var c=e.sibling;if(c!==null){c.return=e.return,W=c;break}W=e.return}}var YR=Math.ceil,tc=pi.ReactCurrentDispatcher,xm=pi.ReactCurrentOwner,an=pi.ReactCurrentBatchConfig,ve=0,ot=null,Ze=null,mt=0,Ht=0,ws=er(0),et=0,Sa=null,xr=0,$c=0,Lm=0,Xo=null,Ft=null,Om=0,Us=1/0,Qn=null,nc=!1,tp=null,zi=null,tu=!1,Li=null,ic=0,ea=0,np=null,Tu=-1,Iu=0;function Nt(){return ve&6?je():Tu!==-1?Tu:Tu=je()}function Ui(t){return t.mode&1?ve&2&&mt!==0?mt&-mt:MR.transition!==null?(Iu===0&&(Iu=G0()),Iu):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:nE(t.type)),t):1}function yn(t,e,n,i){if(50<ea)throw ea=0,np=null,Error(F(185));Ka(t,n,i),(!(ve&2)||t!==ot)&&(t===ot&&(!(ve&2)&&($c|=n),et===4&&Pi(t,mt)),$t(t,i),n===1&&ve===0&&!(e.mode&1)&&(Us=je()+500,Fc&&tr()))}function $t(t,e){var n=t.callbackNode;MA(t,e);var i=Uu(t,t===ot?mt:0);if(i===0)n!==null&&xv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&xv(n),e===1)t.tag===0?NR(Ty.bind(null,t)):EE(Ty.bind(null,t)),kR(function(){!(ve&6)&&tr()}),n=null;else{switch(Q0(i)){case 1:n=rm;break;case 4:n=K0;break;case 16:n=zu;break;case 536870912:n=Z0;break;default:n=zu}n=wT(n,fT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fT(t,e){if(Tu=-1,Iu=0,ve&6)throw Error(F(327));var n=t.callbackNode;if(Rs()&&t.callbackNode!==n)return null;var i=Uu(t,t===ot?mt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=rc(t,i);else{e=i;var r=ve;ve|=2;var o=mT();(ot!==t||mt!==e)&&(Qn=null,Us=je()+500,Ir(t,e));do try{ek();break}catch(c){pT(t,c)}while(1);_m(),tc.current=o,ve=r,Ze!==null?e=0:(ot=null,mt=0,e=et)}if(e!==0){if(e===2&&(r=kf(t),r!==0&&(i=r,e=ip(t,r))),e===1)throw n=Sa,Ir(t,0),Pi(t,i),$t(t,je()),n;if(e===6)Pi(t,i);else{if(r=t.current.alternate,!(i&30)&&!JR(r)&&(e=rc(t,i),e===2&&(o=kf(t),o!==0&&(i=o,e=ip(t,o))),e===1))throw n=Sa,Ir(t,0),Pi(t,i),$t(t,je()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(F(345));case 2:mr(t,Ft,Qn);break;case 3:if(Pi(t,i),(i&130023424)===i&&(e=Om+500-je(),10<e)){if(Uu(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Nt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Vf(mr.bind(null,t,Ft,Qn),e);break}mr(t,Ft,Qn);break;case 4:if(Pi(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-vn(i);o=1<<a,a=e[a],a>r&&(r=a),i&=~o}if(i=r,i=je()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*YR(i/1960))-i,10<i){t.timeoutHandle=Vf(mr.bind(null,t,Ft,Qn),i);break}mr(t,Ft,Qn);break;case 5:mr(t,Ft,Qn);break;default:throw Error(F(329))}}}return $t(t,je()),t.callbackNode===n?fT.bind(null,t):null}function ip(t,e){var n=Xo;return t.current.memoizedState.isDehydrated&&(Ir(t,e).flags|=256),t=rc(t,e),t!==2&&(e=Ft,Ft=n,e!==null&&rp(e)),t}function rp(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function JR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!En(o(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pi(t,e){for(e&=~Lm,e&=~$c,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vn(e),i=1<<n;t[n]=-1,e&=~i}}function Ty(t){if(ve&6)throw Error(F(327));Rs();var e=Uu(t,0);if(!(e&1))return $t(t,je()),null;var n=rc(t,e);if(t.tag!==0&&n===2){var i=kf(t);i!==0&&(e=i,n=ip(t,i))}if(n===1)throw n=Sa,Ir(t,0),Pi(t,e),$t(t,je()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mr(t,Ft,Qn),$t(t,je()),null}function Nm(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(Us=je()+500,Fc&&tr())}}function Lr(t){Li!==null&&Li.tag===0&&!(ve&6)&&Rs();var e=ve;ve|=1;var n=an.transition,i=Ie;try{if(an.transition=null,Ie=1,t)return t()}finally{Ie=i,an.transition=n,ve=e,!(ve&6)&&tr()}}function Mm(){Ht=ws.current,Oe(ws)}function Ir(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,RR(n)),Ze!==null)for(n=Ze.return;n!==null;){var i=n;switch(pm(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Wu();break;case 3:Fs(),Oe(Ut),Oe(At),Im();break;case 5:Tm(i);break;case 4:Fs();break;case 13:Oe(be);break;case 19:Oe(be);break;case 10:vm(i.type._context);break;case 22:case 23:Mm()}n=n.return}if(ot=t,Ze=t=Bi(t.current,null),mt=Ht=e,et=0,Sa=null,Lm=$c=xr=0,Ft=Xo=null,vr!==null){for(e=0;e<vr.length;e++)if(n=vr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var a=o.next;o.next=r,i.next=a}n.pending=i}vr=null}return t}function pT(t,e){do{var n=Ze;try{if(_m(),yu.current=ec,Xu){for(var i=Ve.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Xu=!1}if(kr=0,st=Je=Ve=null,Yo=!1,Ea=0,xm.current=null,n===null||n.return===null){et=1,Sa=e,Ze=null;break}e:{var o=t,a=n.return,c=n,h=e;if(e=mt,c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,m=c,g=m.tag;if(!(m.mode&1)&&(g===0||g===11||g===15)){var v=m.alternate;v?(m.updateQueue=v.updateQueue,m.memoizedState=v.memoizedState,m.lanes=v.lanes):(m.updateQueue=null,m.memoizedState=null)}var I=uy(a);if(I!==null){I.flags&=-257,cy(I,a,c,o,e),I.mode&1&&ly(o,f,e),e=I,h=f;var P=e.updateQueue;if(P===null){var S=new Set;S.add(h),e.updateQueue=S}else P.add(h);break e}else{if(!(e&1)){ly(o,f,e),Dm();break e}h=Error(F(426))}}else if(Ne&&c.mode&1){var R=uy(a);if(R!==null){!(R.flags&65536)&&(R.flags|=256),cy(R,a,c,o,e),mm(zs(h,c));break e}}o=h=zs(h,c),et!==4&&(et=2),Xo===null?Xo=[o]:Xo.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var E=YE(o,h,e);ty(o,E);break e;case 1:c=h;var y=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(zi===null||!zi.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=JE(o,c,e);ty(o,x);break e}}o=o.return}while(o!==null)}_T(n)}catch(z){e=z,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(1)}function mT(){var t=tc.current;return tc.current=ec,t===null?ec:t}function Dm(){(et===0||et===3||et===2)&&(et=4),ot===null||!(xr&268435455)&&!($c&268435455)||Pi(ot,mt)}function rc(t,e){var n=ve;ve|=2;var i=mT();(ot!==t||mt!==e)&&(Qn=null,Ir(t,e));do try{XR();break}catch(r){pT(t,r)}while(1);if(_m(),ve=n,tc.current=i,Ze!==null)throw Error(F(261));return ot=null,mt=0,et}function XR(){for(;Ze!==null;)gT(Ze)}function ek(){for(;Ze!==null&&!PA();)gT(Ze)}function gT(t){var e=yT(t.alternate,t,Ht);t.memoizedProps=t.pendingProps,e===null?_T(t):Ze=e,xm.current=null}function _T(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=KR(n,e),n!==null){n.flags&=32767,Ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,Ze=null;return}}else if(n=qR(n,e,Ht),n!==null){Ze=n;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);et===0&&(et=5)}function mr(t,e,n){var i=Ie,r=an.transition;try{an.transition=null,Ie=1,tk(t,e,n,i)}finally{an.transition=r,Ie=i}return null}function tk(t,e,n,i){do Rs();while(Li!==null);if(ve&6)throw Error(F(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(DA(t,o),t===ot&&(Ze=ot=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tu||(tu=!0,wT(zu,function(){return Rs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=an.transition,an.transition=null;var a=Ie;Ie=1;var c=ve;ve|=4,xm.current=null,GR(t,n),hT(n,t),ER(Df),Bu=!!Mf,Df=Mf=null,t.current=n,QR(n),CA(),ve=c,Ie=a,an.transition=o}else t.current=n;if(tu&&(tu=!1,Li=t,ic=r),o=t.pendingLanes,o===0&&(zi=null),kA(n.stateNode),$t(t,je()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(nc)throw nc=!1,t=tp,tp=null,t;return ic&1&&t.tag!==0&&Rs(),o=t.pendingLanes,o&1?t===np?ea++:(ea=0,np=t):ea=0,tr(),null}function Rs(){if(Li!==null){var t=Q0(ic),e=an.transition,n=Ie;try{if(an.transition=null,Ie=16>t?16:t,Li===null)var i=!1;else{if(t=Li,Li=null,ic=0,ve&6)throw Error(F(331));var r=ve;for(ve|=4,W=t.current;W!==null;){var o=W,a=o.child;if(W.flags&16){var c=o.deletions;if(c!==null){for(var h=0;h<c.length;h++){var f=c[h];for(W=f;W!==null;){var m=W;switch(m.tag){case 0:case 11:case 15:Jo(8,m,o)}var g=m.child;if(g!==null)g.return=m,W=g;else for(;W!==null;){m=W;var v=m.sibling,I=m.return;if(lT(m),m===f){W=null;break}if(v!==null){v.return=I,W=v;break}W=I}}}var P=o.alternate;if(P!==null){var S=P.child;if(S!==null){P.child=null;do{var R=S.sibling;S.sibling=null,S=R}while(S!==null)}}W=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,W=a;else e:for(;W!==null;){if(o=W,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Jo(9,o,o.return)}var E=o.sibling;if(E!==null){E.return=o.return,W=E;break e}W=o.return}}var y=t.current;for(W=y;W!==null;){a=W;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,W=w;else e:for(a=y;W!==null;){if(c=W,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Bc(9,c)}}catch(z){Ue(c,c.return,z)}if(c===a){W=null;break e}var x=c.sibling;if(x!==null){x.return=c.return,W=x;break e}W=c.return}}if(ve=r,tr(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(Nc,t)}catch{}i=!0}return i}finally{Ie=n,an.transition=e}}return!1}function Iy(t,e,n){e=zs(n,e),e=YE(t,e,1),t=Fi(t,e,1),e=Nt(),t!==null&&(Ka(t,1,e),$t(t,e))}function Ue(t,e,n){if(t.tag===3)Iy(t,t,n);else for(;e!==null;){if(e.tag===3){Iy(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(zi===null||!zi.has(i))){t=zs(n,t),t=JE(e,t,1),e=Fi(e,t,1),t=Nt(),e!==null&&(Ka(e,1,t),$t(e,t));break}}e=e.return}}function nk(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Nt(),t.pingedLanes|=t.suspendedLanes&n,ot===t&&(mt&n)===n&&(et===4||et===3&&(mt&130023424)===mt&&500>je()-Om?Ir(t,0):Lm|=n),$t(t,e)}function vT(t,e){e===0&&(t.mode&1?(e=Wl,Wl<<=1,!(Wl&130023424)&&(Wl=4194304)):e=1);var n=Nt();t=li(t,e),t!==null&&(Ka(t,e,n),$t(t,n))}function ik(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),vT(t,n)}function rk(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(F(314))}i!==null&&i.delete(e),vT(t,n)}var yT;yT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ut.current)zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zt=!1,WR(t,e,n);zt=!!(t.flags&131072)}else zt=!1,Ne&&e.flags&1048576&&TE(e,Zu,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Eu(t,e),t=e.pendingProps;var r=Ds(e,At.current);As(e,n),r=Pm(null,e,i,t,r,n);var o=Cm();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bt(i)?(o=!0,qu(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,wm(e),r.updater=zc,e.stateNode=r,r._reactInternals=e,Hf(e,i,t,n),e=Kf(null,e,i,!0,o,n)):(e.tag=0,Ne&&o&&fm(e),Lt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Eu(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=ok(i),t=pn(i,t),r){case 0:e=qf(null,e,i,t,n);break e;case 1:e=fy(null,e,i,t,n);break e;case 11:e=hy(null,e,i,t,n);break e;case 14:e=dy(null,e,i,pn(i.type,t),n);break e}throw Error(F(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:pn(i,r),qf(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:pn(i,r),fy(t,e,i,r,n);case 3:e:{if(nT(e),t===null)throw Error(F(387));i=e.pendingProps,o=e.memoizedState,r=o.element,CE(t,e),Yu(e,i,null,n);var a=e.memoizedState;if(i=a.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=zs(Error(F(423)),e),e=py(t,e,i,n,r);break e}else if(i!==r){r=zs(Error(F(424)),e),e=py(t,e,i,n,r);break e}else for(Wt=Vi(e.stateNode.containerInfo.firstChild),qt=e,Ne=!0,gn=null,n=xE(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bs(),i===r){e=ui(t,e,n);break e}Lt(t,e,i,n)}e=e.child}return e;case 5:return LE(e),t===null&&Bf(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,a=r.children,bf(i,r)?a=null:o!==null&&bf(i,o)&&(e.flags|=32),tT(t,e),Lt(t,e,a,n),e.child;case 6:return t===null&&Bf(e),null;case 13:return iT(t,e,n);case 4:return Em(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Vs(e,null,i,n):Lt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:pn(i,r),hy(t,e,i,r,n);case 7:return Lt(t,e,e.pendingProps,n),e.child;case 8:return Lt(t,e,e.pendingProps.children,n),e.child;case 12:return Lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,a=r.value,Re(Gu,i._currentValue),i._currentValue=a,o!==null)if(En(o.value,a)){if(o.children===r.children&&!Ut.current){e=ui(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){a=o.child;for(var h=c.firstContext;h!==null;){if(h.context===i){if(o.tag===1){h=ii(-1,n&-n),h.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?h.next=h:(h.next=m.next,m.next=h),f.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),$f(o.return,n,e),c.lanes|=n;break}h=h.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(F(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),$f(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Lt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,As(e,n),r=un(r),i=i(r),e.flags|=1,Lt(t,e,i,n),e.child;case 14:return i=e.type,r=pn(i,e.pendingProps),r=pn(i.type,r),dy(t,e,i,r,n);case 15:return XE(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:pn(i,r),Eu(t,e),e.tag=1,Bt(i)?(t=!0,qu(e)):t=!1,As(e,n),RE(e,i,r),Hf(e,i,r,n),Kf(null,e,i,!0,t,n);case 19:return rT(t,e,n);case 22:return eT(t,e,n)}throw Error(F(156,e.tag))};function wT(t,e){return q0(t,e)}function sk(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,e,n,i){return new sk(t,e,n,i)}function bm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ok(t){if(typeof t=="function")return bm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tm)return 11;if(t===nm)return 14}return 2}function Bi(t,e){var n=t.alternate;return n===null?(n=on(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Su(t,e,n,i,r,o){var a=2;if(i=t,typeof t=="function")bm(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case cs:return Sr(n.children,r,o,e);case em:a=8,r|=8;break;case pf:return t=on(12,n,e,r|2),t.elementType=pf,t.lanes=o,t;case mf:return t=on(13,n,e,r),t.elementType=mf,t.lanes=o,t;case gf:return t=on(19,n,e,r),t.elementType=gf,t.lanes=o,t;case k0:return jc(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A0:a=10;break e;case R0:a=9;break e;case tm:a=11;break e;case nm:a=14;break e;case Ti:a=16,i=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=on(a,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function Sr(t,e,n,i){return t=on(7,t,i,e),t.lanes=n,t}function jc(t,e,n,i){return t=on(22,t,i,e),t.elementType=k0,t.lanes=n,t.stateNode={isHidden:!1},t}function zd(t,e,n){return t=on(6,t,null,e),t.lanes=n,t}function Ud(t,e,n){return e=on(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ak(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wd(0),this.expirationTimes=wd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wd(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Vm(t,e,n,i,r,o,a,c,h){return t=new ak(t,e,n,c,h),e===1?(e=1,o===!0&&(e|=8)):e=0,o=on(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wm(o),t}function lk(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:us,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function ET(t){if(!t)return Gi;t=t._reactInternals;e:{if(Ur(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(Bt(n))return wE(t,n,e)}return e}function TT(t,e,n,i,r,o,a,c,h){return t=Vm(n,i,!0,t,r,o,a,c,h),t.context=ET(null),n=t.current,i=Nt(),r=Ui(n),o=ii(i,r),o.callback=e??null,Fi(n,o,r),t.current.lanes=r,Ka(t,r,i),$t(t,i),t}function Hc(t,e,n,i){var r=e.current,o=Nt(),a=Ui(r);return n=ET(n),e.context===null?e.context=n:e.pendingContext=n,e=ii(o,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Fi(r,e,a),t!==null&&(yn(t,r,a,o),vu(t,r,a)),a}function sc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Fm(t,e){Sy(t,e),(t=t.alternate)&&Sy(t,e)}function uk(){return null}var IT=typeof reportError=="function"?reportError:function(t){console.error(t)};function zm(t){this._internalRoot=t}Wc.prototype.render=zm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));Hc(t,e,null,null)};Wc.prototype.unmount=zm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Lr(function(){Hc(null,t,null,null)}),e[ai]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var e=X0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Si.length&&e!==0&&e<Si[n].priority;n++);Si.splice(n,0,t),n===0&&tE(t)}};function Um(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Py(){}function ck(t,e,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var f=sc(a);o.call(f)}}var a=TT(e,i,t,0,null,!1,!1,"",Py);return t._reactRootContainer=a,t[ai]=a.current,ga(t.nodeType===8?t.parentNode:t),Lr(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var c=i;i=function(){var f=sc(h);c.call(f)}}var h=Vm(t,0,!1,null,null,!1,!1,"",Py);return t._reactRootContainer=h,t[ai]=h.current,ga(t.nodeType===8?t.parentNode:t),Lr(function(){Hc(e,h,n,i)}),h}function Kc(t,e,n,i,r){var o=n._reactRootContainer;if(o){var a=o;if(typeof r=="function"){var c=r;r=function(){var h=sc(a);c.call(h)}}Hc(e,a,t,r)}else a=ck(n,e,t,r,i);return sc(a)}Y0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fo(e.pendingLanes);n!==0&&(sm(e,n|1),$t(e,je()),!(ve&6)&&(Us=je()+500,tr()))}break;case 13:Lr(function(){var i=li(t,1);if(i!==null){var r=Nt();yn(i,t,1,r)}}),Fm(t,1)}};om=function(t){if(t.tag===13){var e=li(t,134217728);if(e!==null){var n=Nt();yn(e,t,134217728,n)}Fm(t,134217728)}};J0=function(t){if(t.tag===13){var e=Ui(t),n=li(t,e);if(n!==null){var i=Nt();yn(n,t,e,i)}Fm(t,e)}};X0=function(){return Ie};eE=function(t,e){var n=Ie;try{return Ie=t,e()}finally{Ie=n}};Cf=function(t,e,n){switch(e){case"input":if(yf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Vc(i);if(!r)throw Error(F(90));L0(i),yf(i,r)}}}break;case"textarea":N0(t,n);break;case"select":e=n.value,e!=null&&Is(t,!!n.multiple,e,!1)}};U0=Nm;B0=Lr;var hk={usingClientEntryPoint:!1,Events:[Ga,ps,Vc,F0,z0,Nm]},Lo={findFiberByHostInstance:_r,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},dk={bundleType:Lo.bundleType,version:Lo.version,rendererPackageName:Lo.rendererPackageName,rendererConfig:Lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=H0(t),t===null?null:t.stateNode},findFiberByHostInstance:Lo.findFiberByHostInstance||uk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{Nc=nu.inject(dk),Dn=nu}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hk;Gt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Um(e))throw Error(F(200));return lk(t,e,null,n)};Gt.createRoot=function(t,e){if(!Um(t))throw Error(F(299));var n=!1,i="",r=IT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Vm(t,1,!1,null,null,n,!1,i,r),t[ai]=e.current,ga(t.nodeType===8?t.parentNode:t),new zm(e)};Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=H0(e),t=t===null?null:t.stateNode,t};Gt.flushSync=function(t){return Lr(t)};Gt.hydrate=function(t,e,n){if(!qc(e))throw Error(F(200));return Kc(null,t,e,!0,n)};Gt.hydrateRoot=function(t,e,n){if(!Um(t))throw Error(F(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",a=IT;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=TT(e,null,t,1,n??null,r,!1,o,a),t[ai]=e.current,ga(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Wc(e)};Gt.render=function(t,e,n){if(!qc(e))throw Error(F(200));return Kc(null,t,e,!1,n)};Gt.unmountComponentAtNode=function(t){if(!qc(t))throw Error(F(40));return t._reactRootContainer?(Lr(function(){Kc(null,null,t,!1,function(){t._reactRootContainer=null,t[ai]=null})}),!0):!1};Gt.unstable_batchedUpdates=Nm;Gt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!qc(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return Kc(t,e,n,!1,i)};Gt.version="18.2.0-next-9e3b772b8-20220608";function ST(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ST)}catch(t){console.error(t)}}ST(),T0.exports=Gt;var PT=T0.exports,Cy=PT;df.createRoot=Cy.createRoot,df.hydrateRoot=Cy.hydrateRoot;/**
 * @remix-run/router v1.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pa(){return Pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pa.apply(this,arguments)}var Oi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Oi||(Oi={}));const Ay="popstate";function fk(t){t===void 0&&(t={});function e(r,o){let{pathname:a="/",search:c="",hash:h=""}=Br(r.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),sp("",{pathname:a,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){let a=r.document.querySelector("base"),c="";if(a&&a.getAttribute("href")){let h=r.location.href,f=h.indexOf("#");c=f===-1?h:h.slice(0,f)}return c+"#"+(typeof o=="string"?o:oc(o))}function i(r,o){Zc(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return mk(e,n,i,t)}function Ge(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pk(){return Math.random().toString(36).substr(2,8)}function Ry(t,e){return{usr:t.state,key:t.key,idx:e}}function sp(t,e,n,i){return n===void 0&&(n=null),Pa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Br(e):e,{state:n,key:e&&e.key||i||pk()})}function oc(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Br(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function mk(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,a=r.history,c=Oi.Pop,h=null,f=m();f==null&&(f=0,a.replaceState(Pa({},a.state,{idx:f}),""));function m(){return(a.state||{idx:null}).idx}function g(){c=Oi.Pop;let R=m(),E=R==null?null:R-f;f=R,h&&h({action:c,location:S.location,delta:E})}function v(R,E){c=Oi.Push;let y=sp(S.location,R,E);n&&n(y,R),f=m()+1;let w=Ry(y,f),x=S.createHref(y);try{a.pushState(w,"",x)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;r.location.assign(x)}o&&h&&h({action:c,location:S.location,delta:1})}function I(R,E){c=Oi.Replace;let y=sp(S.location,R,E);n&&n(y,R),f=m();let w=Ry(y,f),x=S.createHref(y);a.replaceState(w,"",x),o&&h&&h({action:c,location:S.location,delta:0})}function P(R){let E=r.location.origin!=="null"?r.location.origin:r.location.href,y=typeof R=="string"?R:oc(R);return Ge(E,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,E)}let S={get action(){return c},get location(){return t(r,a)},listen(R){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(Ay,g),h=R,()=>{r.removeEventListener(Ay,g),h=null}},createHref(R){return e(r,R)},createURL:P,encodeLocation(R){let E=P(R);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:I,go(R){return a.go(R)}};return S}var ky;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ky||(ky={}));function gk(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?Br(e):e,r=Bm(i.pathname||"/",n);if(r==null)return null;let o=CT(t);_k(o);let a=null;for(let c=0;a==null&&c<o.length;++c)a=Ck(o[c],kk(r));return a}function CT(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(o,a,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};h.relativePath.startsWith("/")&&(Ge(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let f=$i([i,h.relativePath]),m=n.concat(h);o.children&&o.children.length>0&&(Ge(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),CT(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:Sk(f,o.index),routesMeta:m})};return t.forEach((o,a)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))r(o,a);else for(let h of AT(o.path))r(o,a,h)}),e}function AT(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let a=AT(i.join("/")),c=[];return c.push(...a.map(h=>h===""?o:[o,h].join("/"))),r&&c.push(...a),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function _k(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Pk(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const vk=/^:[\w-]+$/,yk=3,wk=2,Ek=1,Tk=10,Ik=-2,xy=t=>t==="*";function Sk(t,e){let n=t.split("/"),i=n.length;return n.some(xy)&&(i+=Ik),e&&(i+=wk),n.filter(r=>!xy(r)).reduce((r,o)=>r+(vk.test(o)?yk:o===""?Ek:Tk),i)}function Pk(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function Ck(t,e){let{routesMeta:n}=t,i={},r="/",o=[];for(let a=0;a<n.length;++a){let c=n[a],h=a===n.length-1,f=r==="/"?e:e.slice(r.length)||"/",m=Ak({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},f);if(!m)return null;Object.assign(i,m.params);let g=c.route;o.push({params:i,pathname:$i([r,m.pathname]),pathnameBase:Mk($i([r,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(r=$i([r,m.pathnameBase]))}return o}function Ak(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=Rk(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],a=o.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((f,m,g)=>{let{paramName:v,isOptional:I}=m;if(v==="*"){let S=c[g]||"";a=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const P=c[g];return I&&!P?f[v]=void 0:f[v]=xk(P||"",v),f},{}),pathname:o,pathnameBase:a,pattern:t}}function Rk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Zc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function kk(t){try{return decodeURI(t)}catch(e){return Zc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xk(t,e){try{return decodeURIComponent(t)}catch(n){return Zc(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Bm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function Lk(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Br(t):t;return{pathname:n?n.startsWith("/")?n:Ok(n,e):e,search:Dk(i),hash:bk(r)}}function Ok(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Bd(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Nk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function RT(t,e){let n=Nk(t);return e?n.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function kT(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Br(t):(r=Pa({},t),Ge(!r.pathname||!r.pathname.includes("?"),Bd("?","pathname","search",r)),Ge(!r.pathname||!r.pathname.includes("#"),Bd("#","pathname","hash",r)),Ge(!r.search||!r.search.includes("#"),Bd("#","search","hash",r)));let o=t===""||r.pathname==="",a=o?"/":r.pathname,c;if(a==null)c=n;else{let g=e.length-1;if(!i&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),g-=1;r.pathname=v.join("/")}c=g>=0?e[g]:"/"}let h=Lk(r,c),f=a&&a!=="/"&&a.endsWith("/"),m=(o||a===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}const $i=t=>t.join("/").replace(/\/\/+/g,"/"),Mk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Dk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Vk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xT=["post","put","patch","delete"];new Set(xT);const Fk=["get",...xT];new Set(Fk);/**
 * React Router v6.21.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ca(){return Ca=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ca.apply(this,arguments)}const $m=N.createContext(null),zk=N.createContext(null),$r=N.createContext(null),Gc=N.createContext(null),jr=N.createContext({outlet:null,matches:[],isDataRoute:!1}),LT=N.createContext(null);function Uk(t,e){let{relative:n}=e===void 0?{}:e;Ya()||Ge(!1);let{basename:i,navigator:r}=N.useContext($r),{hash:o,pathname:a,search:c}=NT(t,{relative:n}),h=a;return i!=="/"&&(h=a==="/"?i:$i([i,a])),r.createHref({pathname:h,search:c,hash:o})}function Ya(){return N.useContext(Gc)!=null}function Qc(){return Ya()||Ge(!1),N.useContext(Gc).location}function OT(t){N.useContext($r).static||N.useLayoutEffect(t)}function Bk(){let{isDataRoute:t}=N.useContext(jr);return t?ex():$k()}function $k(){Ya()||Ge(!1);let t=N.useContext($m),{basename:e,future:n,navigator:i}=N.useContext($r),{matches:r}=N.useContext(jr),{pathname:o}=Qc(),a=JSON.stringify(RT(r,n.v7_relativeSplatPath)),c=N.useRef(!1);return OT(()=>{c.current=!0}),N.useCallback(function(f,m){if(m===void 0&&(m={}),!c.current)return;if(typeof f=="number"){i.go(f);return}let g=kT(f,JSON.parse(a),o,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:$i([e,g.pathname])),(m.replace?i.replace:i.push)(g,m.state,m)},[e,i,a,o,t])}function NT(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=N.useContext($r),{matches:r}=N.useContext(jr),{pathname:o}=Qc(),a=JSON.stringify(RT(r,i.v7_relativeSplatPath));return N.useMemo(()=>kT(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function jk(t,e){return Hk(t,e)}function Hk(t,e,n,i){Ya()||Ge(!1);let{navigator:r}=N.useContext($r),{matches:o}=N.useContext(jr),a=o[o.length-1],c=a?a.params:{};a&&a.pathname;let h=a?a.pathnameBase:"/";a&&a.route;let f=Qc(),m;if(e){var g;let R=typeof e=="string"?Br(e):e;h==="/"||(g=R.pathname)!=null&&g.startsWith(h)||Ge(!1),m=R}else m=f;let v=m.pathname||"/",I=h==="/"?v:v.slice(h.length)||"/",P=gk(t,{pathname:I}),S=Gk(P&&P.map(R=>Object.assign({},R,{params:Object.assign({},c,R.params),pathname:$i([h,r.encodeLocation?r.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?h:$i([h,r.encodeLocation?r.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),o,n,i);return e&&S?N.createElement(Gc.Provider,{value:{location:Ca({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Oi.Pop}},S):S}function Wk(){let t=Xk(),e=Vk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:r},n):null,o)}const qk=N.createElement(Wk,null);class Kk extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(jr.Provider,{value:this.props.routeContext},N.createElement(LT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zk(t){let{routeContext:e,match:n,children:i}=t,r=N.useContext($m);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(jr.Provider,{value:e},i)}function Gk(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let a=t,c=(r=n)==null?void 0:r.errors;if(c!=null){let m=a.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id]));m>=0||Ge(!1),a=a.slice(0,Math.min(a.length,m+1))}let h=!1,f=-1;if(n&&i&&i.v7_partialHydration)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:v,errors:I}=n,P=g.route.loader&&v[g.route.id]===void 0&&(!I||I[g.route.id]===void 0);if(g.route.lazy||P){h=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,g,v)=>{let I,P=!1,S=null,R=null;n&&(I=c&&g.route.id?c[g.route.id]:void 0,S=g.route.errorElement||qk,h&&(f<0&&v===0?(tx("route-fallback",!1),P=!0,R=null):f===v&&(P=!0,R=g.route.hydrateFallbackElement||null)));let E=e.concat(a.slice(0,v+1)),y=()=>{let w;return I?w=S:P?w=R:g.route.Component?w=N.createElement(g.route.Component,null):g.route.element?w=g.route.element:w=m,N.createElement(Zk,{match:g,routeContext:{outlet:m,matches:E,isDataRoute:n!=null},children:w})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?N.createElement(Kk,{location:n.location,revalidation:n.revalidation,component:S,error:I,children:y(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):y()},null)}var MT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(MT||{}),ac=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ac||{});function Qk(t){let e=N.useContext($m);return e||Ge(!1),e}function Yk(t){let e=N.useContext(zk);return e||Ge(!1),e}function Jk(t){let e=N.useContext(jr);return e||Ge(!1),e}function DT(t){let e=Jk(),n=e.matches[e.matches.length-1];return n.route.id||Ge(!1),n.route.id}function Xk(){var t;let e=N.useContext(LT),n=Yk(ac.UseRouteError),i=DT(ac.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function ex(){let{router:t}=Qk(MT.UseNavigateStable),e=DT(ac.UseNavigateStable),n=N.useRef(!1);return OT(()=>{n.current=!0}),N.useCallback(function(r,o){o===void 0&&(o={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Ca({fromRouteId:e},o)))},[t,e])}const Ly={};function tx(t,e,n){!e&&!Ly[t]&&(Ly[t]=!0)}function Gn(t){Ge(!1)}function nx(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Oi.Pop,navigator:o,static:a=!1,future:c}=t;Ya()&&Ge(!1);let h=e.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:h,navigator:o,static:a,future:Ca({v7_relativeSplatPath:!1},c)}),[h,c,o,a]);typeof i=="string"&&(i=Br(i));let{pathname:m="/",search:g="",hash:v="",state:I=null,key:P="default"}=i,S=N.useMemo(()=>{let R=Bm(m,h);return R==null?null:{location:{pathname:R,search:g,hash:v,state:I,key:P},navigationType:r}},[h,m,g,v,I,P,r]);return S==null?null:N.createElement($r.Provider,{value:f},N.createElement(Gc.Provider,{children:n,value:S}))}function ix(t){let{children:e,location:n}=t;return jk(op(e),n)}new Promise(()=>{});function op(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(i,r)=>{if(!N.isValidElement(i))return;let o=[...e,r];if(i.type===N.Fragment){n.push.apply(n,op(i.props.children,o));return}i.type!==Gn&&Ge(!1),!i.props.index||!i.props.children||Ge(!1);let a={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=op(i.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.21.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ap(){return ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ap.apply(this,arguments)}function rx(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function sx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ox(t,e){return t.button===0&&(!e||e==="_self")&&!sx(t)}const ax=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],lx="startTransition",Oy=nA[lx];function ux(t){let{basename:e,children:n,future:i,window:r}=t,o=N.useRef();o.current==null&&(o.current=fk({window:r,v5Compat:!0}));let a=o.current,[c,h]=N.useState({action:a.action,location:a.location}),{v7_startTransition:f}=i||{},m=N.useCallback(g=>{f&&Oy?Oy(()=>h(g)):h(g)},[h,f]);return N.useLayoutEffect(()=>a.listen(m),[a,m]),N.createElement(nx,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:i})}const cx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fr=N.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:o,replace:a,state:c,target:h,to:f,preventScrollReset:m,unstable_viewTransition:g}=e,v=rx(e,ax),{basename:I}=N.useContext($r),P,S=!1;if(typeof f=="string"&&hx.test(f)&&(P=f,cx))try{let w=new URL(window.location.href),x=f.startsWith("//")?new URL(w.protocol+f):new URL(f),z=Bm(x.pathname,I);x.origin===w.origin&&z!=null?f=z+x.search+x.hash:S=!0}catch{}let R=Uk(f,{relative:r}),E=dx(f,{replace:a,state:c,target:h,preventScrollReset:m,relative:r,unstable_viewTransition:g});function y(w){i&&i(w),w.defaultPrevented||E(w)}return N.createElement("a",ap({},v,{href:P||R,onClick:S||o?i:y,ref:n,target:h}))});var Ny;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ny||(Ny={}));var My;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(My||(My={}));function dx(t,e){let{target:n,replace:i,state:r,preventScrollReset:o,relative:a,unstable_viewTransition:c}=e===void 0?{}:e,h=Bk(),f=Qc(),m=NT(t,{relative:a});return N.useCallback(g=>{if(ox(g,n)){g.preventDefault();let v=i!==void 0?i:oc(f)===oc(m);h(t,{replace:v,state:r,preventScrollReset:o,relative:a,unstable_viewTransition:c})}},[f,h,m,i,r,n,t,o,a,c])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},fx=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],a=t[n++],c=t[n++],h=((r&7)<<18|(o&63)<<12|(a&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|a&63)}}return e.join("")},VT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],a=r+1<t.length,c=a?t[r+1]:0,h=r+2<t.length,f=h?t[r+2]:0,m=o>>2,g=(o&3)<<4|c>>4;let v=(c&15)<<2|f>>6,I=f&63;h||(I=64,a||(v=64)),i.push(n[m],n[g],n[v],n[I])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],c=r<t.length?n[t.charAt(r)]:0;++r;const f=r<t.length?n[t.charAt(r)]:64;++r;const g=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||c==null||f==null||g==null)throw new px;const v=o<<2|c>>4;if(i.push(v),f!==64){const I=c<<4&240|f>>2;if(i.push(I),g!==64){const P=f<<6&192|g;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class px extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mx=function(t){const e=bT(t);return VT.encodeByteArray(e,!0)},lc=function(t){return mx(t).replace(/\./g,"")},FT=function(t){try{return VT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=()=>gx().__FIREBASE_DEFAULTS__,vx=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FT(t[1]);return e&&JSON.parse(e)},jm=()=>{try{return _x()||vx()||yx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zT=t=>{var e,n;return(n=(e=jm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wx=t=>{const e=zT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},UT=()=>{var t;return(t=jm())===null||t===void 0?void 0:t.config},BT=t=>{var e;return(e=jm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[lc(JSON.stringify(n)),lc(JSON.stringify(a)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ix(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function Sx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Px(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Cx(){const t=Rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ax(){try{return typeof indexedDB=="object"}catch{return!1}}function Rx(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="FirebaseError";class mi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=kx,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ja.prototype.create)}}class Ja{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],a=o?xx(o,i):"Error",c=`${this.serviceName}: ${a} (${r}).`;return new mi(r,c,i)}}function xx(t,e){return t.replace(Lx,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const Lx=/\{\$([^}]+)}/g;function Ox(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uc(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],a=e[r];if(Dy(o)&&Dy(a)){if(!uc(o,a))return!1}else if(o!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Dy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Uo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Bo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Nx(t,e){const n=new Mx(t,e);return n.subscribe.bind(n)}class Mx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Dx(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=$d),r.error===void 0&&(r.error=$d),r.complete===void 0&&(r.complete=$d);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $d(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class Or{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Ex;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Fx(e))try{this.getOrInitializeService({instanceIdentifier:gr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gr){return this.instances.has(e)}getOptions(e=gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&a.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Vx(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=gr){return this.component?this.component.multipleInstances?e:gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Vx(t){return t===gr?void 0:t}function Fx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const Ux={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},Bx=fe.INFO,$x={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},jx=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=$x[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hm{constructor(e){this.name=e,this._logLevel=Bx,this._logHandler=jx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ux[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const Hx=(t,e)=>e.some(n=>t instanceof n);let by,Vy;function Wx(){return by||(by=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qx(){return Vy||(Vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $T=new WeakMap,lp=new WeakMap,jT=new WeakMap,jd=new WeakMap,Wm=new WeakMap;function Kx(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(ji(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&$T.set(n,t)}).catch(()=>{}),Wm.set(e,t),e}function Zx(t){if(lp.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});lp.set(t,e)}let up={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Gx(t){up=t(up)}function Qx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Hd(this),e,...n);return jT.set(i,e.sort?e.sort():[e]),ji(i)}:qx().includes(t)?function(...e){return t.apply(Hd(this),e),ji($T.get(this))}:function(...e){return ji(t.apply(Hd(this),e))}}function Yx(t){return typeof t=="function"?Qx(t):(t instanceof IDBTransaction&&Zx(t),Hx(t,Wx())?new Proxy(t,up):t)}function ji(t){if(t instanceof IDBRequest)return Kx(t);if(jd.has(t))return jd.get(t);const e=Yx(t);return e!==t&&(jd.set(t,e),Wm.set(e,t)),e}const Hd=t=>Wm.get(t);function Jx(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const a=indexedDB.open(t,e),c=ji(a);return i&&a.addEventListener("upgradeneeded",h=>{i(ji(a.result),h.oldVersion,h.newVersion,ji(a.transaction),h)}),n&&a.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const Xx=["get","getKey","getAll","getAllKeys","count"],eL=["put","add","delete","clear"],Wd=new Map;function Fy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wd.get(e))return Wd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=eL.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Xx.includes(n)))return;const o=async function(a,...c){const h=this.transaction(a,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),r&&h.done]))[0]};return Wd.set(e,o),o}Gx(t=>({...t,get:(e,n,i)=>Fy(e,n)||t.get(e,n,i),has:(e,n)=>!!Fy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nL(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function nL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cp="@firebase/app",zy="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new Hm("@firebase/app"),iL="@firebase/app-compat",rL="@firebase/analytics-compat",sL="@firebase/analytics",oL="@firebase/app-check-compat",aL="@firebase/app-check",lL="@firebase/auth",uL="@firebase/auth-compat",cL="@firebase/database",hL="@firebase/database-compat",dL="@firebase/functions",fL="@firebase/functions-compat",pL="@firebase/installations",mL="@firebase/installations-compat",gL="@firebase/messaging",_L="@firebase/messaging-compat",vL="@firebase/performance",yL="@firebase/performance-compat",wL="@firebase/remote-config",EL="@firebase/remote-config-compat",TL="@firebase/storage",IL="@firebase/storage-compat",SL="@firebase/firestore",PL="@firebase/firestore-compat",CL="firebase",AL="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="[DEFAULT]",RL={[cp]:"fire-core",[iL]:"fire-core-compat",[sL]:"fire-analytics",[rL]:"fire-analytics-compat",[aL]:"fire-app-check",[oL]:"fire-app-check-compat",[lL]:"fire-auth",[uL]:"fire-auth-compat",[cL]:"fire-rtdb",[hL]:"fire-rtdb-compat",[dL]:"fire-fn",[fL]:"fire-fn-compat",[pL]:"fire-iid",[mL]:"fire-iid-compat",[gL]:"fire-fcm",[_L]:"fire-fcm-compat",[vL]:"fire-perf",[yL]:"fire-perf-compat",[wL]:"fire-rc",[EL]:"fire-rc-compat",[TL]:"fire-gcs",[IL]:"fire-gcs-compat",[SL]:"fire-fst",[PL]:"fire-fst-compat","fire-js":"fire-js",[CL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=new Map,dp=new Map;function kL(t,e){try{t.container.addComponent(e)}catch(n){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bs(t){const e=t.name;if(dp.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;dp.set(e,t);for(const n of cc.values())kL(n,t);return!0}function qm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Hi=new Ja("app","Firebase",xL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=AL;function Km(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:hp,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Hi.create("bad-app-name",{appName:String(r)});if(n||(n=UT()),!n)throw Hi.create("no-options");const o=cc.get(r);if(o){if(uc(n,o.options)&&uc(i,o.config))return o;throw Hi.create("duplicate-app",{appName:r})}const a=new zx(r);for(const h of dp.values())a.addComponent(h);const c=new LL(n,i,a);return cc.set(r,c),c}function HT(t=hp){const e=cc.get(t);if(!e&&t===hp&&UT())return Km();if(!e)throw Hi.create("no-app",{appName:t});return e}function Wi(t,e,n){var i;let r=(i=RL[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(c.join(" "));return}Bs(new Or(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="firebase-heartbeat-database",NL=1,Aa="firebase-heartbeat-store";let qd=null;function WT(){return qd||(qd=Jx(OL,NL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Aa)}}}).catch(t=>{throw Hi.create("idb-open",{originalErrorMessage:t.message})})),qd}async function ML(t){try{return await(await WT()).transaction(Aa).objectStore(Aa).get(qT(t))}catch(e){if(e instanceof mi)Nr.warn(e.message);else{const n=Hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nr.warn(n.message)}}}async function Uy(t,e){try{const i=(await WT()).transaction(Aa,"readwrite");await i.objectStore(Aa).put(e,qT(t)),await i.done}catch(n){if(n instanceof mi)Nr.warn(n.message);else{const i=Hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Nr.warn(i.message)}}}function qT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=1024,bL=30*24*60*60*1e3;class VL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zL(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=By();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=bL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=By(),{heartbeatsToSend:i,unsentEntries:r}=FL(this._heartbeatsCache.heartbeats),o=lc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function By(){return new Date().toISOString().substring(0,10)}function FL(t,e=DL){const n=[];let i=t.slice();for(const r of t){const o=n.find(a=>a.agent===r.agent);if(o){if(o.dates.push(r.date),$y(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),$y(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class zL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ax()?Rx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ML(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Uy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Uy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function $y(t){return lc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t){Bs(new Or("platform-logger",e=>new tL(e),"PRIVATE")),Bs(new Or("heartbeat",e=>new VL(e),"PRIVATE")),Wi(cp,zy,t),Wi(cp,zy,"esm2017"),Wi("fire-js","")}UL("");var BL="firebase",$L="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi(BL,$L,"app");function Zm(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function KT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jL=KT,ZT=new Ja("auth","Firebase",KT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new Hm("@firebase/auth");function HL(t,...e){hc.logLevel<=fe.WARN&&hc.warn(`Auth (${eo}): ${t}`,...e)}function Pu(t,...e){hc.logLevel<=fe.ERROR&&hc.error(`Auth (${eo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,...e){throw Gm(t,...e)}function Vn(t,...e){return Gm(t,...e)}function WL(t,e,n){const i=Object.assign(Object.assign({},jL()),{[e]:n});return new Ja("auth","Firebase",i).create(e,{appName:t.name})}function Gm(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return ZT.create(t,...e)}function J(t,e,...n){if(!t)throw Gm(e,...n)}function ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pu(e),new Error(e)}function ci(t,e){t||ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qL(){return jy()==="http:"||jy()==="https:"}function jy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qL()||Sx()||"connection"in navigator)?navigator.onLine:!0}function ZL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n){this.shortDelay=e,this.longDelay=n,ci(n>e,"Short delay should be less than long delay!"),this.isMobile=Ix()||Px()}get(){return KL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(t,e){ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=new el(3e4,6e4);function nr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ir(t,e,n,i,r={}){return QT(t,r,async()=>{let o={},a={};i&&(e==="GET"?a=i:o={body:JSON.stringify(i)});const c=Xa(Object.assign({key:t.config.apiKey},a)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),GT.fetch()(YT(t,t.config.apiHost,n,c),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},o))})}async function QT(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},GL),e);try{const r=new JL(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw iu(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const c=o.ok?a.errorMessage:a.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw iu(t,"credential-already-in-use",a);if(h==="EMAIL_EXISTS")throw iu(t,"email-already-in-use",a);if(h==="USER_DISABLED")throw iu(t,"user-disabled",a);const m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw WL(t,m,f);Tn(t,m)}}catch(r){if(r instanceof mi)throw r;Tn(t,"network-request-failed",{message:String(r)})}}async function tl(t,e,n,i,r={}){const o=await ir(t,e,n,i,r);return"mfaPendingCredential"in o&&Tn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function YT(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?Qm(t.config,r):`${t.config.apiScheme}://${r}`}function YL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Vn(this.auth,"network-request-failed")),QL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function iu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Vn(t,e,i);return r.customData._tokenResponse=n,r}function Hy(t){return t!==void 0&&t.enterprise!==void 0}class XL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return YL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function eO(t,e){return ir(t,"GET","/v2/recaptchaConfig",nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(t,e){return ir(t,"POST","/v1/accounts:delete",e)}async function nO(t,e){return ir(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iO(t,e=!1){const n=jt(t),i=await n.getIdToken(e),r=Ym(i);J(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:ta(Kd(r.auth_time)),issuedAtTime:ta(Kd(r.iat)),expirationTime:ta(Kd(r.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Kd(t){return Number(t)*1e3}function Ym(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Pu("JWT malformed, contained fewer than 3 sections"),null;try{const r=FT(n);return r?JSON.parse(r):(Pu("Failed to decode base64 JWT payload"),null)}catch(r){return Pu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function rO(t){const e=Ym(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof mi&&sO(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function sO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ta(this.lastLoginAt),this.creationTime=ta(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Ra(t,nO(n,{idToken:i}));J(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?uO(o.providerUserInfo):[],c=lO(t.providerData,a),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),m=h?f:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new JT(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function aO(t){const e=jt(t);await dc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lO(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function uO(t){return t.map(e=>{var{providerId:n}=e,i=Zm(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(t,e){const n=await QT(t,{},async()=>{const i=Xa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,a=YT(t,r,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",GT.fetch()(a,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hO(t,e){return ir(t,"POST","/v2/accounts:revokeToken",nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return J(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await cO(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,a=new ka;return i&&(J(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(J(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),o&&(J(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ka,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pr{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=Zm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new JT(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ra(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return iO(this,e)}reload(){return aO(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await dc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ra(this,tO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,a,c,h,f,m;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(r=n.email)!==null&&r!==void 0?r:void 0,I=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,P=(a=n.photoURL)!==null&&a!==void 0?a:void 0,S=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,E=(f=n.createdAt)!==null&&f!==void 0?f:void 0,y=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:w,emailVerified:x,isAnonymous:z,providerData:$,stsTokenManager:j}=n;J(w&&j,e,"internal-error");const K=ka.fromJSON(this.name,j);J(typeof w=="string",e,"internal-error"),wi(g,e.name),wi(v,e.name),J(typeof x=="boolean",e,"internal-error"),J(typeof z=="boolean",e,"internal-error"),wi(I,e.name),wi(P,e.name),wi(S,e.name),wi(R,e.name),wi(E,e.name),wi(y,e.name);const Ee=new Pr({uid:w,auth:e,email:v,emailVerified:x,displayName:g,isAnonymous:z,photoURL:P,phoneNumber:I,tenantId:S,stsTokenManager:K,createdAt:E,lastLoginAt:y});return $&&Array.isArray($)&&(Ee.providerData=$.map(re=>Object.assign({},re))),R&&(Ee._redirectEventId=R),Ee}static async _fromIdTokenResponse(e,n,i=!1){const r=new ka;r.updateFromServerResponse(n);const o=new Pr({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await dc(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy=new Map;function ti(t){ci(t instanceof Function,"Expected a class definition");let e=Wy.get(t);return e?(ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Wy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XT.type="NONE";const qy=XT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t,e,n){return`firebase:${t}:${e}:${n}`}class ks{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Cu(this.userKey,r.apiKey,o),this.fullPersistenceKey=Cu("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Pr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ks(ti(qy),e,i);const r=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||ti(qy);const a=Cu(i,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(a);if(m){const g=Pr._fromJSON(e,m);f!==o&&(c=g),o=f;break}}catch{}const h=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new ks(o,e,i):(o=h[0],c&&await o._set(a,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(a)}catch{}})),new ks(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(n1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(e1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(r1(e))return"Blackberry";if(s1(e))return"Webos";if(Jm(e))return"Safari";if((e.includes("chrome/")||t1(e))&&!e.includes("edge/"))return"Chrome";if(i1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function e1(t=Rt()){return/firefox\//i.test(t)}function Jm(t=Rt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function t1(t=Rt()){return/crios\//i.test(t)}function n1(t=Rt()){return/iemobile/i.test(t)}function i1(t=Rt()){return/android/i.test(t)}function r1(t=Rt()){return/blackberry/i.test(t)}function s1(t=Rt()){return/webos/i.test(t)}function Yc(t=Rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dO(t=Rt()){var e;return Yc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fO(){return Cx()&&document.documentMode===10}function o1(t=Rt()){return Yc(t)||i1(t)||s1(t)||r1(t)||/windows phone/i.test(t)||n1(t)}function pO(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(t,e=[]){let n;switch(t){case"Browser":n=Ky(Rt());break;case"Worker":n=`${Ky(Rt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${eo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((a,c)=>{try{const h=e(o);a(h)}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(t,e={}){return ir(t,"GET","/v2/passwordPolicy",nr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=6;class vO{constructor(e){var n,i,r,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:_O,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,a,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(r=h.containsLowercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsNumericCharacter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zy(this),this.idTokenSubscription=new Zy(this),this.beforeStateQueue=new mO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ti(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await ks.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===c)&&(h!=null&&h.user)&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?jt(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gO(this),n=new vO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ja("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await hO(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ti(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await ks.create(this,[ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(c,this,"internal-error"),c.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,r);return()=>{a=!0,h()}}else{const h=e.addObserver(n);return()=>{a=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=a1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&HL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Hr(t){return jt(t)}class Zy{constructor(e){this.auth=e,this.observer=null,this.addObserver=Nx(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function l1(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=Vn("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",wO().appendChild(i)})}function EO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const TO="https://www.google.com/recaptcha/enterprise.js?render=",IO="recaptcha-enterprise",SO="NO_RECAPTCHA";class PO{constructor(e){this.type=IO,this.auth=Hr(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,c)=>{eO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new XL(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(h=>{c(h)})})}function r(o,a,c){const h=window.grecaptcha;Hy(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(SO)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{i(this.auth).then(c=>{if(!n&&Hy(window.grecaptcha))r(c,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}l1(TO+c).then(()=>{r(c,o,a)}).catch(h=>{a(h)})}}).catch(c=>{a(c)})})}}async function Gy(t,e,n,i=!1){const r=new PO(t);let o;try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const a=Object.assign({},e);return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function pp(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Gy(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Gy(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(t,e){const n=qm(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(uc(o,e??{}))return r;Tn(r,"already-initialized")}return n.initialize({options:e})}function AO(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ti);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function RO(t,e,n){const i=Hr(t);J(i._canInitEmulator,i,"emulator-config-failed"),J(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),o=u1(e),{host:a,port:c}=kO(e),h=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${a}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||xO()}function u1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kO(t){const e=u1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Qy(i.substr(o.length+1))}}else{const[o,a]=i.split(":");return{host:o,port:Qy(a)}}}function Qy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,n){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}async function LO(t,e){return ir(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(t,e){return tl(t,"POST","/v1/accounts:signInWithPassword",nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(t,e){return tl(t,"POST","/v1/accounts:signInWithEmailLink",nr(t,e))}async function MO(t,e){return tl(t,"POST","/v1/accounts:signInWithEmailLink",nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Xm{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new xa(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new xa(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,n,"signInWithPassword",OO);case"emailLink":return NO(e,{email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,i,"signUpPassword",LO);case"emailLink":return MO(e,{idToken:n,email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xs(t,e){return tl(t,"POST","/v1/accounts:signInWithIdp",nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="http://localhost";class Mr extends Xm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Mr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=Zm(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new Mr(i,r);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return xs(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,xs(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xs(e,n)}buildRequest(){const e={requestUri:DO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VO(t){const e=Uo(Bo(t)).link,n=e?Uo(Bo(e)).deep_link_id:null,i=Uo(Bo(t)).deep_link_id;return(i?Uo(Bo(i)).link:null)||i||n||e||t}class eg{constructor(e){var n,i,r,o,a,c;const h=Uo(Bo(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,m=(i=h.oobCode)!==null&&i!==void 0?i:null,g=bO((r=h.mode)!==null&&r!==void 0?r:null);J(f&&m&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=m,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=h.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=VO(e);try{return new eg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.providerId=to.PROVIDER_ID}static credential(e,n){return xa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=eg.parseLink(n);return J(i,"argument-error"),xa._fromEmailAndCode(e,i.code,i.tenantId)}}to.PROVIDER_ID="password";to.EMAIL_PASSWORD_SIGN_IN_METHOD="password";to.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl extends c1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends nl{constructor(){super("facebook.com")}static credential(e){return Mr._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends nl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Mr._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ai.credential(n,i)}catch{return null}}}Ai.GOOGLE_SIGN_IN_METHOD="google.com";Ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends nl{constructor(){super("github.com")}static credential(e){return Mr._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ri.credential(e.oauthAccessToken)}catch{return null}}}Ri.GITHUB_SIGN_IN_METHOD="github.com";Ri.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends nl{constructor(){super("twitter.com")}static credential(e,n){return Mr._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ki.credential(n,i)}catch{return null}}}ki.TWITTER_SIGN_IN_METHOD="twitter.com";ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(t,e){return tl(t,"POST","/v1/accounts:signUp",nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await Pr._fromIdTokenResponse(e,i,r),a=Yy(i);return new Dr({user:o,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=Yy(i);return new Dr({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function Yy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends mi{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,fc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new fc(e,n,i,r)}}function h1(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fc._fromErrorAndOperation(t,o,e,i):o})}async function zO(t,e,n=!1){const i=await Ra(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Dr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const o=await Ra(t,h1(i,r,e,t),n);J(o.idToken,i,"internal-error");const a=Ym(o.idToken);J(a,i,"internal-error");const{sub:c}=a;return J(t.uid===c,i,"user-mismatch"),Dr._forOperation(t,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Tn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d1(t,e,n=!1){const i="signIn",r=await h1(t,i,e),o=await Dr._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function BO(t,e){return d1(Hr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f1(t){const e=Hr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $O(t,e,n){const i=Hr(t),a=await pp(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FO).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&f1(t),h}),c=await Dr._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(c.user),c}function jO(t,e,n){return BO(jt(t),to.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&f1(t),i})}function HO(t,e,n,i){return jt(t).onIdTokenChanged(e,n,i)}function WO(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function qO(t,e,n,i){return jt(t).onAuthStateChanged(e,n,i)}function KO(t){return jt(t).signOut()}const pc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pc,"1"),this.storage.removeItem(pc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(){const t=Rt();return Jm(t)||Yc(t)}const GO=1e3,QO=10;class m1 extends p1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ZO()&&pO(),this.fallbackToPolling=o1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,h)=>{this.notifyListeners(a,h)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);fO()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,QO):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},GO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}m1.type="LOCAL";const YO=m1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1 extends p1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}g1.type="SESSION";const _1=g1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Jc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const c=Array.from(a).map(async f=>f(n.origin,o)),h=await JO(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,a;return new Promise((c,h)=>{const f=tg("",20);r.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(g){const v=g;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(v.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return window}function eN(t){Fn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function tN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iN(){return v1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="firebaseLocalStorageDb",rN=1,mc="firebaseLocalStorage",w1="fbase_key";class il{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xc(t,e){return t.transaction([mc],e?"readwrite":"readonly").objectStore(mc)}function sN(){const t=indexedDB.deleteDatabase(y1);return new il(t).toPromise()}function mp(){const t=indexedDB.open(y1,rN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(mc,{keyPath:w1})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(mc)?e(i):(i.close(),await sN(),e(await mp()))})})}async function Jy(t,e,n){const i=Xc(t,!0).put({[w1]:e,value:n});return new il(i).toPromise()}async function oN(t,e){const n=Xc(t,!1).get(e),i=await new il(n).toPromise();return i===void 0?null:i.value}function Xy(t,e){const n=Xc(t,!0).delete(e);return new il(n).toPromise()}const aN=800,lN=3;class E1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>lN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return v1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jc._getInstance(iN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tN(),!this.activeServiceWorker)return;this.sender=new XO(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mp();return await Jy(e,pc,"1"),await Xy(e,pc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Jy(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>oN(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Xy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=Xc(r,!1).getAll();return new il(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E1.type="LOCAL";const uN=E1;new el(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t,e){return e?ti(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng extends Xm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hN(t){return d1(t.auth,new ng(t),t.bypassAuthState)}function dN(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),UO(n,new ng(t),t.bypassAuthState)}async function fN(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),zO(n,new ng(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:a,type:c}=e;if(a){this.reject(a);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hN;case"linkViaPopup":case"linkViaRedirect":return fN;case"reauthViaPopup":case"reauthViaRedirect":return dN;default:Tn(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new el(2e3,1e4);class Es extends T1{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Es.currentPopupAction&&Es.currentPopupAction.cancel(),Es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pN.get())};e()}}Es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="pendingRedirect",Au=new Map;class gN extends T1{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Au.get(this.auth._key());if(!e){try{const i=await _N(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Au.set(this.auth._key(),e)}return this.bypassAuthState||Au.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _N(t,e){const n=wN(e),i=yN(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function vN(t,e){Au.set(t._key(),e)}function yN(t){return ti(t._redirectPersistence)}function wN(t){return Cu(mN,t.config.apiKey,t.name)}async function EN(t,e,n=!1){const i=Hr(t),r=cN(i,e),a=await new gN(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=10*60*1e3;class IN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!I1(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Vn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TN&&this.cachedEventUids.clear(),this.cachedEventUids.has(ew(e))}saveEventToCache(e){this.cachedEventUids.add(ew(e)),this.lastProcessedEventTime=Date.now()}}function ew(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function I1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return I1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(t,e={}){return ir(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AN=/^https?/;async function RN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PN(t);for(const n of e)try{if(kN(n))return}catch{}Tn(t,"unauthorized-domain")}function kN(t){const e=fp(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!AN.test(n))return!1;if(CN.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=new el(3e4,6e4);function tw(){const t=Fn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function LN(t){return new Promise((e,n)=>{var i,r,o;function a(){tw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tw(),n(Vn(t,"network-request-failed"))},timeout:xN.get()})}if(!((r=(i=Fn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=Fn().gapi)===null||o===void 0)&&o.load)a();else{const c=EO("iframefcb");return Fn()[c]=()=>{gapi.load?a():n(Vn(t,"network-request-failed"))},l1(`https://apis.google.com/js/api.js?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw Ru=null,e})}let Ru=null;function ON(t){return Ru=Ru||LN(t),Ru}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new el(5e3,15e3),MN="__/auth/iframe",DN="emulator/auth/iframe",bN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FN(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Qm(e,DN):`https://${t.config.authDomain}/${MN}`,i={apiKey:e.apiKey,appName:t.name,v:eo},r=VN.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Xa(i).slice(1)}`}async function zN(t){const e=await ON(t),n=Fn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:FN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bN,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const a=Vn(t,"network-request-failed"),c=Fn().setTimeout(()=>{o(a)},NN.get());function h(){Fn().clearTimeout(c),r(i)}i.ping(h).then(h,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BN=500,$N=600,jN="_blank",HN="http://localhost";class nw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WN(t,e,n,i=BN,r=$N){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},UN),{width:i.toString(),height:r.toString(),top:o,left:a}),f=Rt().toLowerCase();n&&(c=t1(f)?jN:n),e1(f)&&(e=e||HN,h.scrollbars="yes");const m=Object.entries(h).reduce((v,[I,P])=>`${v}${I}=${P},`,"");if(dO(f)&&c!=="_self")return qN(e||"",c),new nw(null);const g=window.open(e||"",c,m);J(g,t,"popup-blocked");try{g.focus()}catch{}return new nw(g)}function qN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="__/auth/handler",ZN="emulator/auth/handler",GN=encodeURIComponent("fac");async function iw(t,e,n,i,r,o){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:eo,eventId:r};if(e instanceof c1){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Ox(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries(o||{}))a[m]=g}if(e instanceof nl){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(a.scopes=m.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await t._getAppCheckToken(),f=h?`#${GN}=${encodeURIComponent(h)}`:"";return`${QN(t)}?${Xa(c).slice(1)}${f}`}function QN({config:t}){return t.emulator?Qm(t,ZN):`https://${t.authDomain}/${KN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="webStorageSupport";class YN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_1,this._completeRedirectFn=EN,this._overrideRedirectResult=vN}async _openPopup(e,n,i,r){var o;ci((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await iw(e,n,i,fp(),r);return WN(e,a,tg())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await iw(e,n,i,fp(),r);return eN(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(ci(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await zN(e),i=new IN(e);return n.register("authEvent",r=>(J(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zd,{type:Zd},r=>{var o;const a=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[Zd];a!==void 0&&n(!!a),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return o1()||Jm()||Yc()}}const JN=YN;var rw="@firebase/auth",sw="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function tM(t){Bs(new Or("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=i.options;J(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:a1(t)},f=new yO(i,r,o,h);return AO(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Bs(new Or("auth-internal",e=>{const n=Hr(e.getProvider("auth").getImmediate());return(i=>new XN(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(rw,sw,eM(t)),Wi(rw,sw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=5*60,iM=BT("authIdTokenMaxAge")||nM;let ow=null;const rM=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>iM)return;const r=n==null?void 0:n.token;ow!==r&&(ow=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function sM(t=HT()){const e=qm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=CO(t,{popupRedirectResolver:JN,persistence:[uN,YO,_1]}),i=BT("authTokenSyncURL");if(i){const o=rM(i);WO(n,o,()=>o(n.currentUser)),HO(n,a=>o(a))}const r=zT("auth");return r&&RO(n,`http://${r}`),n}tM("Browser");var oM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B,ig=ig||{},te=oM||self;function eh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function rl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function aM(t){return Object.prototype.hasOwnProperty.call(t,Gd)&&t[Gd]||(t[Gd]=++lM)}var Gd="closure_uid_"+(1e9*Math.random()>>>0),lM=0;function uM(t,e,n){return t.call.apply(t.bind,arguments)}function cM(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Pt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Pt=uM:Pt=cM,Pt.apply(null,arguments)}function ru(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function lt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,o){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return e.prototype[r].apply(i,a)}}function rr(){this.s=this.s,this.o=this.o}var hM=0;rr.prototype.s=!1;rr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),hM!=0)&&aM(this)};rr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const S1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function rg(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function aw(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(eh(i)){const r=t.length||0,o=i.length||0;t.length=r+o;for(let a=0;a<o;a++)t[r+a]=i[a]}else t.push(i)}}function Ct(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ct.prototype.h=function(){this.defaultPrevented=!0};var dM=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};te.addEventListener("test",n,e),te.removeEventListener("test",n,e)}catch{}return t}();function La(t){return/^[\s\xa0]*$/.test(t)}function th(){var t=te.navigator;return t&&(t=t.userAgent)?t:""}function Ln(t){return th().indexOf(t)!=-1}function sg(t){return sg[" "](t),t}sg[" "]=function(){};function fM(t,e){var n=sD;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var pM=Ln("Opera"),$s=Ln("Trident")||Ln("MSIE"),P1=Ln("Edge"),gp=P1||$s,C1=Ln("Gecko")&&!(th().toLowerCase().indexOf("webkit")!=-1&&!Ln("Edge"))&&!(Ln("Trident")||Ln("MSIE"))&&!Ln("Edge"),mM=th().toLowerCase().indexOf("webkit")!=-1&&!Ln("Edge");function A1(){var t=te.document;return t?t.documentMode:void 0}var _p;e:{var Qd="",Yd=function(){var t=th();if(C1)return/rv:([^\);]+)(\)|;)/.exec(t);if(P1)return/Edge\/([\d\.]+)/.exec(t);if($s)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(mM)return/WebKit\/(\S+)/.exec(t);if(pM)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Yd&&(Qd=Yd?Yd[1]:""),$s){var Jd=A1();if(Jd!=null&&Jd>parseFloat(Qd)){_p=String(Jd);break e}}_p=Qd}var vp;if(te.document&&$s){var lw=A1();vp=lw||parseInt(_p,10)||void 0}else vp=void 0;var gM=vp;function Oa(t,e){if(Ct.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(C1){e:{try{sg(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:_M[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Oa.$.h.call(this)}}lt(Oa,Ct);var _M={2:"touch",3:"pen",4:"mouse"};Oa.prototype.h=function(){Oa.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var sl="closure_listenable_"+(1e6*Math.random()|0),vM=0;function yM(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++vM,this.fa=this.ia=!1}function nh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function og(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function wM(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function R1(t){const e={};for(const n in t)e[n]=t[n];return e}const uw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k1(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let o=0;o<uw.length;o++)n=uw[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function ih(t){this.src=t,this.g={},this.h=0}ih.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=wp(t,e,i,r);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new yM(e,this.src,o,!!i,r),e.ia=n,t.push(e)),e};function yp(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=S1(i,e),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(nh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function wp(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}var ag="closure_lm_"+(1e6*Math.random()|0),Xd={};function x1(t,e,n,i,r){if(i&&i.once)return O1(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)x1(t,e[o],n,i,r);return null}return n=cg(n),t&&t[sl]?t.O(e,n,rl(i)?!!i.capture:!!i,r):L1(t,e,n,!1,i,r)}function L1(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=rl(r)?!!r.capture:!!r,c=ug(t);if(c||(t[ag]=c=new ih(t)),n=c.add(e,n,i,a,o),n.proxy)return n;if(i=EM(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)dM||(r=a),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(M1(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function EM(){function t(n){return e.call(t.src,t.listener,n)}const e=TM;return t}function O1(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)O1(t,e[o],n,i,r);return null}return n=cg(n),t&&t[sl]?t.P(e,n,rl(i)?!!i.capture:!!i,r):L1(t,e,n,!0,i,r)}function N1(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)N1(t,e[o],n,i,r);else i=rl(i)?!!i.capture:!!i,n=cg(n),t&&t[sl]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=wp(o,n,i,r),-1<n&&(nh(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=ug(t))&&(e=t.g[e.toString()],t=-1,e&&(t=wp(e,n,i,r)),(n=-1<t?e[t]:null)&&lg(n))}function lg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[sl])yp(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(M1(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=ug(e))?(yp(n,t),n.h==0&&(n.src=null,e[ag]=null)):nh(t)}}}function M1(t){return t in Xd?Xd[t]:Xd[t]="on"+t}function TM(t,e){if(t.fa)t=!0;else{e=new Oa(e,this);var n=t.listener,i=t.la||t.src;t.ia&&lg(t),t=n.call(i,e)}return t}function ug(t){return t=t[ag],t instanceof ih?t:null}var ef="__closure_events_fn_"+(1e9*Math.random()>>>0);function cg(t){return typeof t=="function"?t:(t[ef]||(t[ef]=function(e){return t.handleEvent(e)}),t[ef])}function at(){rr.call(this),this.i=new ih(this),this.S=this,this.J=null}lt(at,rr);at.prototype[sl]=!0;at.prototype.removeEventListener=function(t,e,n,i){N1(this,t,e,n,i)};function gt(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Ct(e,t);else if(e instanceof Ct)e.target=e.target||t;else{var r=e;e=new Ct(i,t),k1(e,r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];r=su(a,i,!0,e)&&r}if(a=e.g=t,r=su(a,i,!0,e)&&r,r=su(a,i,!1,e)&&r,n)for(o=0;o<n.length;o++)a=e.g=n[o],r=su(a,i,!1,e)&&r}at.prototype.N=function(){if(at.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)nh(n[i]);delete t.g[e],t.h--}}this.J=null};at.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};at.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function su(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.fa&&a.capture==n){var c=a.listener,h=a.la||a.src;a.ia&&yp(t.i,a),r=c.call(h,i)!==!1&&r}}return r&&!i.defaultPrevented}var hg=te.JSON.stringify;class IM{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function SM(){var t=dg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class PM{constructor(){this.h=this.g=null}add(e,n){const i=D1.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var D1=new IM(()=>new CM,t=>t.reset());class CM{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function AM(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function RM(t){te.setTimeout(()=>{throw t},0)}let Na,Ma=!1,dg=new PM,b1=()=>{const t=te.Promise.resolve(void 0);Na=()=>{t.then(kM)}};var kM=()=>{for(var t;t=SM();){try{t.h.call(t.g)}catch(n){RM(n)}var e=D1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ma=!1};function rh(t,e){at.call(this),this.h=t||1,this.g=e||te,this.j=Pt(this.qb,this),this.l=Date.now()}lt(rh,at);B=rh.prototype;B.ga=!1;B.T=null;B.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),gt(this,"tick"),this.ga&&(fg(this),this.start()))}};B.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function fg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}B.N=function(){rh.$.N.call(this),fg(this),delete this.g};function pg(t,e,n){if(typeof t=="function")n&&(t=Pt(t,n));else if(t&&typeof t.handleEvent=="function")t=Pt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:te.setTimeout(t,e||0)}function V1(t){t.g=pg(()=>{t.g=null,t.i&&(t.i=!1,V1(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class xM extends rr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:V1(this)}N(){super.N(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Da(t){rr.call(this),this.h=t,this.g={}}lt(Da,rr);var cw=[];function F1(t,e,n,i){Array.isArray(n)||(n&&(cw[0]=n.toString()),n=cw);for(var r=0;r<n.length;r++){var o=x1(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function z1(t){og(t.g,function(e,n){this.g.hasOwnProperty(n)&&lg(e)},t),t.g={}}Da.prototype.N=function(){Da.$.N.call(this),z1(this)};Da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function sh(){this.g=!0}sh.prototype.Ea=function(){this.g=!1};function LM(t,e,n,i,r,o){t.info(function(){if(t.g)if(o)for(var a="",c=o.split("&"),h=0;h<c.length;h++){var f=c[h].split("=");if(1<f.length){var m=f[0];f=f[1];var g=m.split("_");a=2<=g.length&&g[1]=="type"?a+(m+"="+f+"&"):a+(m+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+a})}function OM(t,e,n,i,r,o,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+o+" "+a})}function Ts(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+MM(t,n)+(i?" "+i:"")})}function NM(t,e){t.info(function(){return"TIMEOUT: "+e})}sh.prototype.info=function(){};function MM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<r.length;a++)r[a]=""}}}}return hg(n)}catch{return e}}var Wr={},hw=null;function oh(){return hw=hw||new at}Wr.Ta="serverreachability";function U1(t){Ct.call(this,Wr.Ta,t)}lt(U1,Ct);function ba(t){const e=oh();gt(e,new U1(e))}Wr.STAT_EVENT="statevent";function B1(t,e){Ct.call(this,Wr.STAT_EVENT,t),this.stat=e}lt(B1,Ct);function Ot(t){const e=oh();gt(e,new B1(e,t))}Wr.Ua="timingevent";function $1(t,e){Ct.call(this,Wr.Ua,t),this.size=e}lt($1,Ct);function ol(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){t()},e)}var ah={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},j1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function mg(){}mg.prototype.h=null;function dw(t){return t.h||(t.h=t.i())}function H1(){}var al={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function gg(){Ct.call(this,"d")}lt(gg,Ct);function _g(){Ct.call(this,"c")}lt(_g,Ct);var Ep;function lh(){}lt(lh,mg);lh.prototype.g=function(){return new XMLHttpRequest};lh.prototype.i=function(){return{}};Ep=new lh;function ll(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Da(this),this.P=DM,t=gp?125:void 0,this.V=new rh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new W1}function W1(){this.i=null,this.g="",this.h=!1}var DM=45e3,q1={},Tp={};B=ll.prototype;B.setTimeout=function(t){this.P=t};function Ip(t,e,n){t.L=1,t.A=ch(hi(e)),t.u=n,t.S=!0,K1(t,null)}function K1(t,e){t.G=Date.now(),ul(t),t.B=hi(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),tI(n.i,"t",i),t.o=0,n=t.l.J,t.h=new W1,t.g=TI(t.l,n?e:null,!t.u),0<t.O&&(t.M=new xM(Pt(t.Pa,t,t.g),t.O)),F1(t.U,t.g,"readystatechange",t.nb),e=t.I?R1(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ba(),LM(t.j,t.v,t.B,t.m,t.W,t.u)}B.nb=function(t){t=t.target;const e=this.M;e&&On(t)==3?e.l():this.Pa(t)};B.Pa=function(t){try{if(t==this.g)e:{const m=On(this.g);var e=this.g.Ia();const g=this.g.da();if(!(3>m)&&(m!=3||gp||this.g&&(this.h.h||this.g.ja()||gw(this.g)))){this.J||m!=4||e==7||(e==8||0>=g?ba(3):ba(2)),uh(this);var n=this.g.da();this.ca=n;t:if(Z1(this)){var i=gw(this.g);t="";var r=i.length,o=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wr(this),na(this);var a="";break t}this.h.i=new te.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=t,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,OM(this.j,this.v,this.B,this.m,this.W,m,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,h=this.g;if((c=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!La(c)){var f=c;break t}}f=null}if(n=f)Ts(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sp(this,n);else{this.i=!1,this.s=3,Ot(12),wr(this),na(this);break e}}this.S?(G1(this,m,a),gp&&this.i&&m==3&&(F1(this.U,this.V,"tick",this.mb),this.V.start())):(Ts(this.j,this.m,a,null),Sp(this,a)),m==4&&wr(this),this.i&&!this.J&&(m==4?vI(this.l,this):(this.i=!1,ul(this)))}else nD(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),wr(this),na(this)}}}catch{}finally{}};function Z1(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function G1(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=bM(t,n),r==Tp){e==4&&(t.s=4,Ot(14),i=!1),Ts(t.j,t.m,null,"[Incomplete Response]");break}else if(r==q1){t.s=4,Ot(15),Ts(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Ts(t.j,t.m,r,null),Sp(t,r);Z1(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Ot(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ig(e),e.M=!0,Ot(11))):(Ts(t.j,t.m,n,"[Invalid Chunked Response]"),wr(t),na(t))}B.mb=function(){if(this.g){var t=On(this.g),e=this.g.ja();this.o<e.length&&(uh(this),G1(this,t,e),this.i&&t!=4&&ul(this))}};function bM(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?Tp:(n=Number(e.substring(n,i)),isNaN(n)?q1:(i+=1,i+n>e.length?Tp:(e=e.slice(i,i+n),t.o=i+n,e)))}B.cancel=function(){this.J=!0,wr(this)};function ul(t){t.Y=Date.now()+t.P,Q1(t,t.P)}function Q1(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ol(Pt(t.lb,t),e)}function uh(t){t.C&&(te.clearTimeout(t.C),t.C=null)}B.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(NM(this.j,this.B),this.L!=2&&(ba(),Ot(17)),wr(this),this.s=2,na(this)):Q1(this,this.Y-t)};function na(t){t.l.H==0||t.J||vI(t.l,t)}function wr(t){uh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,fg(t.V),z1(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Sp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Pp(n.i,t))){if(!t.K&&Pp(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)vc(n),ph(n);else break e;Tg(n),Ot(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=ol(Pt(n.ib,n),6e3));if(1>=rI(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Er(n,11)}else if((t.K||n.g==t)&&vc(n),!La(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let f=r[e];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.K=f[1],n.pa=f[2];const m=f[3];m!=null&&(n.ra=m,n.l.info("VER="+n.ra));const g=f[4];g!=null&&(n.Ga=g,n.l.info("SVER="+n.Ga));const v=f[5];v!=null&&typeof v=="number"&&0<v&&(i=1.5*v,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const I=t.g;if(I){const P=I.g?I.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var o=i.i;o.g||P.indexOf("spdy")==-1&&P.indexOf("quic")==-1&&P.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(vg(o,o.h),o.h=null))}if(i.F){const S=I.g?I.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(i.Da=S,Le(i.I,i.F,S))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var a=t;if(i.wa=EI(i,i.J?i.pa:null,i.Y),a.K){sI(i.i,a);var c=a,h=i.L;h&&c.setTimeout(h),c.C&&(uh(c),ul(c)),i.g=a}else gI(i);0<n.j.length&&mh(n)}else f[0]!="stop"&&f[0]!="close"||Er(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?Er(n,7):Eg(n):f[0]!="noop"&&n.h&&n.h.Aa(f),n.A=0)}}ba(4)}catch{}}function VM(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(eh(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function FM(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(eh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function Y1(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(eh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=FM(t),i=VM(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}var J1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zM(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Cr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Cr){this.h=t.h,gc(this,t.j),this.s=t.s,this.g=t.g,_c(this,t.m),this.l=t.l;var e=t.i,n=new Va;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),fw(this,n),this.o=t.o}else t&&(e=String(t).match(J1))?(this.h=!1,gc(this,e[1]||"",!0),this.s=$o(e[2]||""),this.g=$o(e[3]||"",!0),_c(this,e[4]),this.l=$o(e[5]||"",!0),fw(this,e[6]||"",!0),this.o=$o(e[7]||"")):(this.h=!1,this.i=new Va(null,this.h))}Cr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(jo(e,pw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(jo(e,pw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(jo(n,n.charAt(0)=="/"?$M:BM,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",jo(n,HM)),t.join("")};function hi(t){return new Cr(t)}function gc(t,e,n){t.j=n?$o(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function _c(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function fw(t,e,n){e instanceof Va?(t.i=e,WM(t.i,t.h)):(n||(e=jo(e,jM)),t.i=new Va(e,t.h))}function Le(t,e,n){t.i.set(e,n)}function ch(t){return Le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function $o(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,UM),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function UM(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var pw=/[#\/\?@]/g,BM=/[#\?:]/g,$M=/[#\?]/g,jM=/[#\?@]/g,HM=/#/g;function Va(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function sr(t){t.g||(t.g=new Map,t.h=0,t.i&&zM(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}B=Va.prototype;B.add=function(t,e){sr(this),this.i=null,t=no(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function X1(t,e){sr(t),e=no(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function eI(t,e){return sr(t),e=no(t,e),t.g.has(e)}B.forEach=function(t,e){sr(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};B.ta=function(){sr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let o=0;o<r.length;o++)n.push(e[i])}return n};B.Z=function(t){sr(this);let e=[];if(typeof t=="string")eI(this,t)&&(e=e.concat(this.g.get(no(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};B.set=function(t,e){return sr(this),this.i=null,t=no(this,t),eI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};B.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function tI(t,e,n){X1(t,e),0<n.length&&(t.i=null,t.g.set(no(t,e),rg(n)),t.h+=n.length)}B.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const o=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=o;a[i]!==""&&(r+="="+encodeURIComponent(String(a[i]))),t.push(r)}}return this.i=t.join("&")};function no(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function WM(t,e){e&&!t.j&&(sr(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(X1(this,i),tI(this,r,n))},t)),t.j=e}var qM=class{constructor(t,e){this.g=t,this.map=e}};function nI(t){this.l=t||KM,te.PerformanceNavigationTiming?(t=te.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(te.g&&te.g.Ka&&te.g.Ka()&&te.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var KM=10;function iI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function rI(t){return t.h?1:t.g?t.g.size:0}function Pp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function vg(t,e){t.g?t.g.add(e):t.h=e}function sI(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}nI.prototype.cancel=function(){if(this.i=oI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function oI(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return rg(t.i)}var ZM=class{stringify(t){return te.JSON.stringify(t,void 0)}parse(t){return te.JSON.parse(t,void 0)}};function GM(){this.g=new ZM}function QM(t,e,n){const i=n||"";try{Y1(t,function(r,o){let a=r;rl(r)&&(a=hg(r)),e.push(i+o+"="+encodeURIComponent(a))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function YM(t,e){const n=new sh;if(te.Image){const i=new Image;i.onload=ru(ou,n,i,"TestLoadImage: loaded",!0,e),i.onerror=ru(ou,n,i,"TestLoadImage: error",!1,e),i.onabort=ru(ou,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=ru(ou,n,i,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function ou(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function hh(t){this.l=t.ec||null,this.j=t.ob||!1}lt(hh,mg);hh.prototype.g=function(){return new dh(this.l,this.j)};hh.prototype.i=function(t){return function(){return t}}({});function dh(t,e){at.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=yg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lt(dh,at);var yg=0;B=dh.prototype;B.open=function(t,e){if(this.readyState!=yg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Fa(this)};B.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cl(this)),this.readyState=yg};B.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Fa(this)),this.g&&(this.readyState=3,Fa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;aI(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function aI(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}B.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?cl(this):Fa(this),this.readyState==3&&aI(this)}};B.Za=function(t){this.g&&(this.response=this.responseText=t,cl(this))};B.Ya=function(t){this.g&&(this.response=t,cl(this))};B.ka=function(){this.g&&cl(this)};function cl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Fa(t)}B.setRequestHeader=function(t,e){this.v.append(t,e)};B.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};B.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Fa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(dh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var JM=te.JSON.parse;function Be(t){at.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=lI,this.L=this.M=!1}lt(Be,at);var lI="",XM=/^https?$/i,eD=["POST","PUT"];B=Be.prototype;B.Oa=function(t){this.M=t};B.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ep.g(),this.C=this.u?dw(this.u):dw(Ep),this.g.onreadystatechange=Pt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){mw(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),r=te.FormData&&t instanceof te.FormData,!(0<=S1(eD,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{hI(this),0<this.B&&((this.L=tD(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pt(this.ua,this)):this.A=pg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){mw(this,o)}};function tD(t){return $s&&typeof t.timeout=="number"&&t.ontimeout!==void 0}B.ua=function(){typeof ig<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gt(this,"timeout"),this.abort(8))};function mw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,uI(t),fh(t)}function uI(t){t.F||(t.F=!0,gt(t,"complete"),gt(t,"error"))}B.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,gt(this,"complete"),gt(this,"abort"),fh(this))};B.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fh(this,!0)),Be.$.N.call(this)};B.La=function(){this.s||(this.G||this.v||this.l?cI(this):this.kb())};B.kb=function(){cI(this)};function cI(t){if(t.h&&typeof ig<"u"&&(!t.C[1]||On(t)!=4||t.da()!=2)){if(t.v&&On(t)==4)pg(t.La,0,t);else if(gt(t,"readystatechange"),On(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=a===0){var r=String(t.I).match(J1)[1]||null;!r&&te.self&&te.self.location&&(r=te.self.location.protocol.slice(0,-1)),i=!XM.test(r?r.toLowerCase():"")}n=i}if(n)gt(t,"complete"),gt(t,"success");else{t.m=6;try{var o=2<On(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",uI(t)}}finally{fh(t)}}}}function fh(t,e){if(t.g){hI(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||gt(t,"ready");try{n.onreadystatechange=i}catch{}}}function hI(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(te.clearTimeout(t.A),t.A=null)}B.isActive=function(){return!!this.g};function On(t){return t.g?t.g.readyState:0}B.da=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}};B.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};B.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),JM(e)}};function gw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case lI:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function nD(t){const e={};t=(t.g&&2<=On(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(La(t[i]))continue;var n=AM(t[i]);const r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[r]||[];e[r]=o,o.push(n)}wM(e,function(i){return i.join(", ")})}B.Ia=function(){return this.m};B.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function dI(t){let e="";return og(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function wg(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=dI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Le(t,e,n))}function Oo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function fI(t){this.Ga=0,this.j=[],this.l=new sh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Oo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Oo("baseRetryDelayMs",5e3,t),this.hb=Oo("retryDelaySeedMs",1e4,t),this.eb=Oo("forwardChannelMaxRetries",2,t),this.xa=Oo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new nI(t&&t.concurrentRequestLimit),this.Ja=new GM,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}B=fI.prototype;B.ra=8;B.H=1;function Eg(t){if(pI(t),t.H==3){var e=t.W++,n=hi(t.I);if(Le(n,"SID",t.K),Le(n,"RID",e),Le(n,"TYPE","terminate"),hl(t,n),e=new ll(t,t.l,e),e.L=2,e.A=ch(hi(n)),n=!1,te.navigator&&te.navigator.sendBeacon)try{n=te.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&te.Image&&(new Image().src=e.A,n=!0),n||(e.g=TI(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ul(e)}wI(t)}function ph(t){t.g&&(Ig(t),t.g.cancel(),t.g=null)}function pI(t){ph(t),t.u&&(te.clearTimeout(t.u),t.u=null),vc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&te.clearTimeout(t.m),t.m=null)}function mh(t){if(!iI(t.i)&&!t.m){t.m=!0;var e=t.Na;Na||b1(),Ma||(Na(),Ma=!0),dg.add(e,t),t.C=0}}function iD(t,e){return rI(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ol(Pt(t.Na,t,e),yI(t,t.C)),t.C++,!0)}B.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new ll(this,this.l,t);let o=this.s;if(this.U&&(o?(o=R1(o),k1(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=mI(this,r,e),n=hi(this.I),Le(n,"RID",t),Le(n,"CVER",22),this.F&&Le(n,"X-HTTP-Session-Id",this.F),hl(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(dI(o)))+"&"+e:this.o&&wg(n,this.o,o)),vg(this.i,r),this.bb&&Le(n,"TYPE","init"),this.P?(Le(n,"$req",e),Le(n,"SID","null"),r.aa=!0,Ip(r,n,null)):Ip(r,n,e),this.H=2}}else this.H==3&&(t?_w(this,t):this.j.length==0||iI(this.i)||_w(this))};function _w(t,e){var n;e?n=e.m:n=t.W++;const i=hi(t.I);Le(i,"SID",t.K),Le(i,"RID",n),Le(i,"AID",t.V),hl(t,i),t.o&&t.s&&wg(i,t.o,t.s),n=new ll(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=mI(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),vg(t.i,n),Ip(n,i,e)}function hl(t,e){t.na&&og(t.na,function(n,i){Le(e,i,n)}),t.h&&Y1({},function(n,i){Le(e,i,n)})}function mI(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Pt(t.h.Va,t.h,t):null;e:{var r=t.j;let o=-1;for(;;){const a=["count="+n];o==-1?0<n?(o=r[0].g,a.push("ofs="+o)):o=0:a.push("ofs="+o);let c=!0;for(let h=0;h<n;h++){let f=r[h].g;const m=r[h].map;if(f-=o,0>f)o=Math.max(0,r[h].g-100),c=!1;else try{QM(m,a,"req"+f+"_")}catch{i&&i(m)}}if(c){i=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function gI(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Na||b1(),Ma||(Na(),Ma=!0),dg.add(e,t),t.A=0}}function Tg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ol(Pt(t.Ma,t),yI(t,t.A)),t.A++,!0)}B.Ma=function(){if(this.u=null,_I(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ol(Pt(this.jb,this),t)}};B.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ot(10),ph(this),_I(this))};function Ig(t){t.B!=null&&(te.clearTimeout(t.B),t.B=null)}function _I(t){t.g=new ll(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=hi(t.wa);Le(e,"RID","rpc"),Le(e,"SID",t.K),Le(e,"AID",t.V),Le(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Le(e,"TO",t.qa),Le(e,"TYPE","xmlhttp"),hl(t,e),t.o&&t.s&&wg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=ch(hi(e)),n.u=null,n.S=!0,K1(n,t)}B.ib=function(){this.v!=null&&(this.v=null,ph(this),Tg(this),Ot(19))};function vc(t){t.v!=null&&(te.clearTimeout(t.v),t.v=null)}function vI(t,e){var n=null;if(t.g==e){vc(t),Ig(t),t.g=null;var i=2}else if(Pp(t.i,e))n=e.F,sI(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=oh(),gt(i,new $1(i,n)),mh(t)}else gI(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&iD(t,e)||i==2&&Tg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Er(t,5);break;case 4:Er(t,10);break;case 3:Er(t,6);break;default:Er(t,2)}}}function yI(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Er(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Pt(t.pb,t);n||(n=new Cr("//www.google.com/images/cleardot.gif"),te.location&&te.location.protocol=="http"||gc(n,"https"),ch(n)),YM(n.toString(),i)}else Ot(2);t.H=0,t.h&&t.h.za(e),wI(t),pI(t)}B.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ot(2)):(this.l.info("Failed to ping google.com"),Ot(1))};function wI(t){if(t.H=0,t.ma=[],t.h){const e=oI(t.i);(e.length!=0||t.j.length!=0)&&(aw(t.ma,e),aw(t.ma,t.j),t.i.i.length=0,rg(t.j),t.j.length=0),t.h.ya()}}function EI(t,e,n){var i=n instanceof Cr?hi(n):new Cr(n);if(i.g!="")e&&(i.g=e+"."+i.g),_c(i,i.m);else{var r=te.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Cr(null);i&&gc(o,i),e&&(o.g=e),r&&_c(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&Le(i,n,e),Le(i,"VER",t.ra),hl(t,i),i}function TI(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Be(new hh({ob:n})):new Be(t.va),e.Oa(t.J),e}B.isActive=function(){return!!this.h&&this.h.isActive(this)};function II(){}B=II.prototype;B.Ba=function(){};B.Aa=function(){};B.za=function(){};B.ya=function(){};B.isActive=function(){return!0};B.Va=function(){};function yc(){if($s&&!(10<=Number(gM)))throw Error("Environmental error: no available transport.")}yc.prototype.g=function(t,e){return new Zt(t,e)};function Zt(t,e){at.call(this),this.g=new fI(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!La(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!La(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new io(this)}lt(Zt,at);Zt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ot(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=EI(t,null,t.Y),mh(t)};Zt.prototype.close=function(){Eg(this.g)};Zt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=hg(t),t=n);e.j.push(new qM(e.fb++,t)),e.H==3&&mh(e)};Zt.prototype.N=function(){this.g.h=null,delete this.j,Eg(this.g),delete this.g,Zt.$.N.call(this)};function SI(t){gg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}lt(SI,gg);function PI(){_g.call(this),this.status=1}lt(PI,_g);function io(t){this.g=t}lt(io,II);io.prototype.Ba=function(){gt(this.g,"a")};io.prototype.Aa=function(t){gt(this.g,new SI(t))};io.prototype.za=function(t){gt(this.g,new PI)};io.prototype.ya=function(){gt(this.g,"b")};function rD(){this.blockSize=-1}function In(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}lt(In,rD);In.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function tf(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],a=e+(o^n&(r^o))+i[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[1]+3905402710&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[2]+606105819&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[3]+3250441966&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[5]+1200080426&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[6]+2821735955&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[7]+4249261313&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[9]+2336552879&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[10]+4294925233&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[11]+2304563134&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[13]+4254626195&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[14]+2792965006&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[15]+1236535329&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(r^o&(n^r))+i[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[6]+3225465664&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[11]+643717713&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[0]+3921069994&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[10]+38016083&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[15]+3634488961&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[4]+3889429448&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[14]+3275163606&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[3]+4107603335&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[8]+1163531501&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[2]+4243563512&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[7]+1735328473&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[12]+2368359562&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(n^r^o)+i[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[8]+2272392833&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[11]+1839030562&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[14]+4259657740&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[4]+1272893353&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[7]+4139469664&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[10]+3200236656&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[0]+3936430074&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[3]+3572445317&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[6]+76029189&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[12]+3873151461&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[15]+530742520&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[2]+3299628645&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(r^(n|~o))+i[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[7]+1126891415&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[14]+2878612391&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[5]+4237533241&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[3]+2399980690&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[10]+4293915773&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[1]+2240044497&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[15]+4264355552&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[6]+2734768916&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[13]+1309151649&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[11]+3174756917&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[2]+718787259&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}In.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=n;)tf(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){tf(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){tf(this,i),r=0;break}}this.h=r,this.i+=e};In.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function Se(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=t[r]|0;i&&o==e||(n[r]=o,i=!1)}this.g=n}var sD={};function Sg(t){return-128<=t&&128>t?fM(t,function(e){return new Se([e|0],0>e?-1:0)}):new Se([t|0],0>t?-1:0)}function Nn(t){if(isNaN(t)||!isFinite(t))return Ls;if(0>t)return ft(Nn(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=Cp;return new Se(e,0)}function CI(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ft(CI(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Nn(Math.pow(e,8)),i=Ls,r=0;r<t.length;r+=8){var o=Math.min(8,t.length-r),a=parseInt(t.substring(r,r+o),e);8>o?(o=Nn(Math.pow(e,o)),i=i.R(o).add(Nn(a))):(i=i.R(n),i=i.add(Nn(a)))}return i}var Cp=4294967296,Ls=Sg(0),Ap=Sg(1),vw=Sg(16777216);B=Se.prototype;B.ea=function(){if(rn(this))return-ft(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:Cp+i)*e,e*=Cp}return t};B.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ni(this))return"0";if(rn(this))return"-"+ft(this).toString(t);for(var e=Nn(Math.pow(t,6)),n=this,i="";;){var r=Ec(n,e).g;n=wc(n,r.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,ni(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};B.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ni(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function rn(t){return t.h==-1}B.X=function(t){return t=wc(this,t),rn(t)?-1:ni(t)?0:1};function ft(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new Se(n,~t.h).add(Ap)}B.abs=function(){return rn(this)?ft(this):this};B.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(this.D(r)&65535)+(t.D(r)&65535),a=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=a>>>16,o&=65535,a&=65535,n[r]=a<<16|o}return new Se(n,n[n.length-1]&-2147483648?-1:0)};function wc(t,e){return t.add(ft(e))}B.R=function(t){if(ni(this)||ni(t))return Ls;if(rn(this))return rn(t)?ft(this).R(ft(t)):ft(ft(this).R(t));if(rn(t))return ft(this.R(ft(t)));if(0>this.X(vw)&&0>t.X(vw))return Nn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,a=this.D(i)&65535,c=t.D(r)>>>16,h=t.D(r)&65535;n[2*i+2*r]+=a*h,au(n,2*i+2*r),n[2*i+2*r+1]+=o*h,au(n,2*i+2*r+1),n[2*i+2*r+1]+=a*c,au(n,2*i+2*r+1),n[2*i+2*r+2]+=o*c,au(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Se(n,0)};function au(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function No(t,e){this.g=t,this.h=e}function Ec(t,e){if(ni(e))throw Error("division by zero");if(ni(t))return new No(Ls,Ls);if(rn(t))return e=Ec(ft(t),e),new No(ft(e.g),ft(e.h));if(rn(e))return e=Ec(t,ft(e)),new No(ft(e.g),e.h);if(30<t.g.length){if(rn(t)||rn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ap,i=e;0>=i.X(t);)n=yw(n),i=yw(i);var r=ss(n,1),o=ss(i,1);for(i=ss(i,2),n=ss(n,2);!ni(i);){var a=o.add(i);0>=a.X(t)&&(r=r.add(n),o=a),i=ss(i,1),n=ss(n,1)}return e=wc(t,r.R(e)),new No(r,e)}for(r=Ls;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=Nn(n),a=o.R(e);rn(a)||0<a.X(t);)n-=i,o=Nn(n),a=o.R(e);ni(o)&&(o=Ap),r=r.add(o),t=wc(t,a)}return new No(r,t)}B.gb=function(t){return Ec(this,t).h};B.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new Se(n,this.h&t.h)};B.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new Se(n,this.h|t.h)};B.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new Se(n,this.h^t.h)};function yw(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new Se(n,t.h)}function ss(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Se(r,t.h)}yc.prototype.createWebChannel=yc.prototype.g;Zt.prototype.send=Zt.prototype.u;Zt.prototype.open=Zt.prototype.m;Zt.prototype.close=Zt.prototype.close;ah.NO_ERROR=0;ah.TIMEOUT=8;ah.HTTP_ERROR=6;j1.COMPLETE="complete";H1.EventType=al;al.OPEN="a";al.CLOSE="b";al.ERROR="c";al.MESSAGE="d";at.prototype.listen=at.prototype.O;Be.prototype.listenOnce=Be.prototype.P;Be.prototype.getLastError=Be.prototype.Sa;Be.prototype.getLastErrorCode=Be.prototype.Ia;Be.prototype.getStatus=Be.prototype.da;Be.prototype.getResponseJson=Be.prototype.Wa;Be.prototype.getResponseText=Be.prototype.ja;Be.prototype.send=Be.prototype.ha;Be.prototype.setWithCredentials=Be.prototype.Oa;In.prototype.digest=In.prototype.l;In.prototype.reset=In.prototype.reset;In.prototype.update=In.prototype.j;Se.prototype.add=Se.prototype.add;Se.prototype.multiply=Se.prototype.R;Se.prototype.modulo=Se.prototype.gb;Se.prototype.compare=Se.prototype.X;Se.prototype.toNumber=Se.prototype.ea;Se.prototype.toString=Se.prototype.toString;Se.prototype.getBits=Se.prototype.D;Se.fromNumber=Nn;Se.fromString=CI;var oD=function(){return new yc},aD=function(){return oh()},nf=ah,lD=j1,uD=Wr,ww={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},lu=H1,cD=Be,hD=In,Os=Se;const Ew="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new Hm("@firebase/firestore");function Mo(){return br.logLevel}function q(t,...e){if(br.logLevel<=fe.DEBUG){const n=e.map(Pg);br.debug(`Firestore (${ro}): ${t}`,...n)}}function di(t,...e){if(br.logLevel<=fe.ERROR){const n=e.map(Pg);br.error(`Firestore (${ro}): ${t}`,...n)}}function js(t,...e){if(br.logLevel<=fe.WARN){const n=e.map(Pg);br.warn(`Firestore (${ro}): ${t}`,...n)}}function Pg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t="Unexpected state"){const e=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: `+t;throw di(e),new Error(e)}function ke(t,e){t||X()}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class fD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pD{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let o=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new qi,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await r(this.currentUser)})},c=h=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new qi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ke(typeof i.accessToken=="string"),new AI(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new Tt(e)}}class mD{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gD{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new mD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _D{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.R=n.token,new _D(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=yD(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}}function Te(t,e){return t<e?-1:t>e?1:0}function Hs(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new tt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ie(e)}static min(){return new ie(new tt(0,0))}static max(){return new ie(new tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n,i){n===void 0?n=0:n>e.length&&X(),i===void 0?i=e.length-n:i>e.length-n&&X(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return za.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof za?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const o=e.get(r),a=n.get(r);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Me extends za{construct(e,n,i){return new Me(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new G(V.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const wD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends za{construct(e,n,i){return new pt(e,n,i)}static isValidIdentifier(e){return wD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new pt(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const o=()=>{if(i.length===0)throw new G(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<e.length;){const c=e[r];if(c==="\\"){if(r+1===e.length)throw new G(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[r+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new G(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,r+=2}else c==="`"?(a=!a,r++):c!=="."||a?(i+=c,r++):(o(),r++)}if(o(),a)throw new G(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(n)}static emptyPath(){return new pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Me.fromString(e))}static fromName(e){return new Q(Me.fromString(e).popFirst(5))}static empty(){return new Q(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Me(e.slice()))}}function ED(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=ie.fromTimestamp(i===1e9?new tt(n+1,0):new tt(n,i));return new Qi(r,Q.empty(),e)}function TD(t){return new Qi(t.readTime,t.key,-1)}class Qi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Qi(ie.min(),Q.empty(),-1)}static max(){return new Qi(ie.max(),Q.empty(),-1)}}function ID(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==SD)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new b((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof b?n:b.resolve(n)}catch(n){return b.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):b.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):b.reject(n)}static resolve(e){return new b((n,i)=>{n(e)})}static reject(e){return new b((n,i)=>{i(e)})}static waitFor(e){return new b((n,i)=>{let r=0,o=0,a=!1;e.forEach(c=>{++r,c.next(()=>{++o,a&&o===r&&n()},h=>i(h))}),a=!0,o===r&&n()})}static or(e){let n=b.resolve(!1);for(const i of e)n=n.next(r=>r?b.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new b((i,r)=>{const o=e.length,a=new Array(o);let c=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next(m=>{a[f]=m,++c,c===o&&i(a)},m=>r(m))}})}static doWhile(e,n){return new b((i,r)=>{const o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}}function fl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Cg._e=-1;function gh(t){return t==null}function Tc(t){return t===0&&1/t==-1/0}function CD(t){return typeof t=="number"&&Number.isInteger(t)&&!Tc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function so(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){this.comparator=e,this.root=n||dt.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uu(this.root,e,this.comparator,!0)}}class uu{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??dt.RED,this.left=r??dt.EMPTY,this.right=o??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new dt(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return dt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,i,r,o){return this}insert(e,n,i){return new dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Iw(this.data.getIterator())}getIteratorFrom(e){return new Iw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class Iw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new _n([])}unionWith(e){let n=new _t(pt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hs(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new xI("Invalid base64 string: "+o):o}}(e);return new kt(n)}static fromUint8Array(e){const n=function(r){let o="";for(let a=0;a<r.length;++a)o+=String.fromCharCode(r[a]);return o}(e);return new kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const AD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(t){if(ke(!!t),typeof t=="string"){let e=0;const n=AD.exec(t);if(ke(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vr(t){return typeof t=="string"?kt.fromBase64String(t):kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Rg(t){const e=t.mapValue.fields.__previous_value__;return Ag(e)?Rg(e):e}function Ua(t){const e=Yi(t.mapValue.fields.__local_write_time__.timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,i,r,o,a,c,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f}}class Ba{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ba("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ba&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ag(t)?4:kD(t)?9007199254740991:10:X()}function Bn(t,e){if(t===e)return!0;const n=Fr(t);if(n!==Fr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ua(t).isEqual(Ua(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const a=Yi(r.timestampValue),c=Yi(o.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Vr(r.bytesValue).isEqual(Vr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return Ke(r.geoPointValue.latitude)===Ke(o.geoPointValue.latitude)&&Ke(r.geoPointValue.longitude)===Ke(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ke(r.integerValue)===Ke(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const a=Ke(r.doubleValue),c=Ke(o.doubleValue);return a===c?Tc(a)===Tc(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return Hs(t.arrayValue.values||[],e.arrayValue.values||[],Bn);case 10:return function(r,o){const a=r.mapValue.fields||{},c=o.mapValue.fields||{};if(Tw(a)!==Tw(c))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(c[h]===void 0||!Bn(a[h],c[h])))return!1;return!0}(t,e);default:return X()}}function $a(t,e){return(t.values||[]).find(n=>Bn(n,e))!==void 0}function Ws(t,e){if(t===e)return 0;const n=Fr(t),i=Fr(e);if(n!==i)return Te(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(o,a){const c=Ke(o.integerValue||o.doubleValue),h=Ke(a.integerValue||a.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return Sw(t.timestampValue,e.timestampValue);case 4:return Sw(Ua(t),Ua(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(o,a){const c=Vr(o),h=Vr(a);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const c=o.split("/"),h=a.split("/");for(let f=0;f<c.length&&f<h.length;f++){const m=Te(c[f],h[f]);if(m!==0)return m}return Te(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const c=Te(Ke(o.latitude),Ke(a.latitude));return c!==0?c:Te(Ke(o.longitude),Ke(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,a){const c=o.values||[],h=a.values||[];for(let f=0;f<c.length&&f<h.length;++f){const m=Ws(c[f],h[f]);if(m)return m}return Te(c.length,h.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,a){if(o===cu.mapValue&&a===cu.mapValue)return 0;if(o===cu.mapValue)return 1;if(a===cu.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),f=a.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let g=0;g<h.length&&g<m.length;++g){const v=Te(h[g],m[g]);if(v!==0)return v;const I=Ws(c[h[g]],f[m[g]]);if(I!==0)return I}return Te(h.length,m.length)}(t.mapValue,e.mapValue);default:throw X()}}function Sw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=Yi(t),i=Yi(e),r=Te(n.seconds,i.seconds);return r!==0?r:Te(n.nanos,i.nanos)}function qs(t){return Rp(t)}function Rp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Yi(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const o of n.values||[])r?r=!1:i+=",",i+=Rp(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",o=!0;for(const a of i)o?o=!1:r+=",",r+=`${a}:${Rp(n.fields[a])}`;return r+"}"}(t.mapValue):X()}function kp(t){return!!t&&"integerValue"in t}function kg(t){return!!t&&"arrayValue"in t}function Pw(t){return!!t&&"nullValue"in t}function Cw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ku(t){return!!t&&"mapValue"in t}function ia(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return so(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=ia(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ia(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!ku(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ia(n)}setAll(e){let n=pt.emptyPath(),i={},r=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,i,r),i={},r=[],n=c.popLast()}a?i[c.lastSegment()]=ia(a):r.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){const n=this.field(e.popLast());ku(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];ku(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){so(n,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new sn(ia(this.value))}}function LI(t){const e=[];return so(t.fields,(n,i)=>{const r=new pt([n]);if(ku(i)){const o=LI(i.mapValue).fields;if(o.length===0)e.push(r);else for(const a of o)e.push(r.child(a))}else e.push(r)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,i,r,o,a,c){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=a,this.documentState=c}static newInvalidDocument(e){return new St(e,0,ie.min(),ie.min(),ie.min(),sn.empty(),0)}static newFoundDocument(e,n,i,r){return new St(e,1,n,ie.min(),i,r,0)}static newNoDocument(e,n){return new St(e,2,n,ie.min(),ie.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new St(e,3,n,ie.min(),ie.min(),sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n){this.position=e,this.inclusive=n}}function Aw(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const o=e[r],a=t.position[r];if(o.field.isKeyField()?i=Q.comparator(Q.fromName(a.referenceValue),n.key):i=Ws(a,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Rw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n="asc"){this.field=e,this.dir=n}}function xD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{}class Xe extends OI{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new OD(e,n,i):n==="array-contains"?new DD(e,i):n==="in"?new bD(e,i):n==="not-in"?new VD(e,i):n==="array-contains-any"?new FD(e,i):new Xe(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new ND(e,i):new MD(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ws(n,this.value)):n!==null&&Fr(this.value)===Fr(n)&&this.matchesComparison(Ws(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends OI{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new $n(e,n)}matches(e){return NI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function NI(t){return t.op==="and"}function MI(t){return LD(t)&&NI(t)}function LD(t){for(const e of t.filters)if(e instanceof $n)return!1;return!0}function xp(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+qs(t.value);if(MI(t))return t.filters.map(e=>xp(e)).join(",");{const e=t.filters.map(n=>xp(n)).join(",");return`${t.op}(${e})`}}function DI(t,e){return t instanceof Xe?function(i,r){return r instanceof Xe&&i.op===r.op&&i.field.isEqual(r.field)&&Bn(i.value,r.value)}(t,e):t instanceof $n?function(i,r){return r instanceof $n&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,a,c)=>o&&DI(a,r.filters[c]),!0):!1}(t,e):void X()}function bI(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${qs(n.value)}`}(t):t instanceof $n?function(n){return n.op.toString()+" {"+n.getFilters().map(bI).join(" ,")+"}"}(t):"Filter"}class OD extends Xe{constructor(e,n,i){super(e,n,i),this.key=Q.fromName(i.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class ND extends Xe{constructor(e,n){super(e,"in",n),this.keys=VI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class MD extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=VI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function VI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Q.fromName(i.referenceValue))}class DD extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kg(n)&&$a(n.arrayValue,this.value)}}class bD extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$a(this.value.arrayValue,n)}}class VD extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if($a(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!$a(this.value.arrayValue,n)}}class FD extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>$a(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n=null,i=[],r=[],o=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=a,this.endAt=c,this.ce=null}}function kw(t,e=null,n=[],i=[],r=null,o=null,a=null){return new zD(t,e,n,i,r,o,a)}function xg(t){const e=ae(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>xp(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>qs(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>qs(i)).join(",")),e.ce=n}return e.ce}function Lg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!DI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Rw(t.startAt,e.startAt)&&Rw(t.endAt,e.endAt)}function Lp(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n=null,i=[],r=[],o=null,a="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=a,this.startAt=c,this.endAt=h,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function UD(t,e,n,i,r,o,a,c){return new _h(t,e,n,i,r,o,a,c)}function FI(t){return new _h(t)}function xw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function BD(t){return t.collectionGroup!==null}function ra(t){const e=ae(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new _t(pt.comparator);return a.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Sc(o,i))}),n.has(pt.keyField().canonicalString())||e.le.push(new Sc(pt.keyField(),i))}return e.le}function zn(t){const e=ae(t);return e.he||(e.he=$D(e,ra(t))),e.he}function $D(t,e){if(t.limitType==="F")return kw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new Sc(r.field,o)});const n=t.endAt?new Ic(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ic(t.startAt.position,t.startAt.inclusive):null;return kw(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Op(t,e,n){return new _h(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vh(t,e){return Lg(zn(t),zn(e))&&t.limitType===e.limitType}function zI(t){return`${xg(zn(t))}|lt:${t.limitType}`}function os(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>bI(r)).join(", ")}]`),gh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>qs(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>qs(r)).join(",")),`Target(${i})`}(zn(t))}; limitType=${t.limitType})`}function yh(t,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Q.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(const o of ra(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,c,h){const f=Aw(a,c,h);return a.inclusive?f<=0:f<0}(i.startAt,ra(i),r)||i.endAt&&!function(a,c,h){const f=Aw(a,c,h);return a.inclusive?f>=0:f>0}(i.endAt,ra(i),r))}(t,e)}function jD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function UI(t){return(e,n)=>{let i=!1;for(const r of ra(t)){const o=HD(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function HD(t,e,n){const i=t.field.isKeyField()?Q.comparator(e.key,n.key):function(o,a,c){const h=a.data.field(o),f=c.data.field(o);return h!==null&&f!==null?Ws(h,f):X()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return X()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){so(this.inner,(n,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return kI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new ze(Q.comparator);function fi(){return WD}const BI=new ze(Q.comparator);function Ho(...t){let e=BI;for(const n of t)e=e.insert(n.key,n);return e}function $I(t){let e=BI;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Tr(){return sa()}function jI(){return sa()}function sa(){return new oo(t=>t.toString(),(t,e)=>t.isEqual(e))}const qD=new ze(Q.comparator),KD=new _t(Q.comparator);function he(...t){let e=KD;for(const n of t)e=e.add(n);return e}const ZD=new _t(Te);function GD(){return ZD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tc(e)?"-0":e}}function WI(t){return{integerValue:""+t}}function QD(t,e){return CD(e)?WI(e):HI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function YD(t,e,n){return t instanceof Pc?function(r,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Ag(o)&&(o=Rg(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof ja?KI(t,e):t instanceof Ha?ZI(t,e):function(r,o){const a=qI(r,o),c=Lw(a)+Lw(r.Ie);return kp(a)&&kp(r.Ie)?WI(c):HI(r.serializer,c)}(t,e)}function JD(t,e,n){return t instanceof ja?KI(t,e):t instanceof Ha?ZI(t,e):n}function qI(t,e){return t instanceof Cc?function(i){return kp(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class Pc extends wh{}class ja extends wh{constructor(e){super(),this.elements=e}}function KI(t,e){const n=GI(e);for(const i of t.elements)n.some(r=>Bn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Ha extends wh{constructor(e){super(),this.elements=e}}function ZI(t,e){let n=GI(e);for(const i of t.elements)n=n.filter(r=>!Bn(r,i));return{arrayValue:{values:n}}}class Cc extends wh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Lw(t){return Ke(t.integerValue||t.doubleValue)}function GI(t){return kg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function XD(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof ja&&r instanceof ja||i instanceof Ha&&r instanceof Ha?Hs(i.elements,r.elements,Bn):i instanceof Cc&&r instanceof Cc?Bn(i.Ie,r.Ie):i instanceof Pc&&r instanceof Pc}(t.transform,e.transform)}class e2{constructor(e,n){this.version=e,this.transformResults=n}}class ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Eh{}function QI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new JI(t.key,ri.none()):new pl(t.key,t.data,ri.none());{const n=t.data,i=sn.empty();let r=new _t(pt.comparator);for(let o of e.fields)if(!r.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?i.delete(o):i.set(o,a),r=r.add(o)}return new qr(t.key,i,new _n(r.toArray()),ri.none())}}function t2(t,e,n){t instanceof pl?function(r,o,a){const c=r.value.clone(),h=Nw(r.fieldTransforms,o,a.transformResults);c.setAll(h),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof qr?function(r,o,a){if(!xu(r.precondition,o))return void o.convertToUnknownDocument(a.version);const c=Nw(r.fieldTransforms,o,a.transformResults),h=o.data;h.setAll(YI(r)),h.setAll(c),o.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(t,e,n):function(r,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function oa(t,e,n,i){return t instanceof pl?function(o,a,c,h){if(!xu(o.precondition,a))return c;const f=o.value.clone(),m=Mw(o.fieldTransforms,h,a);return f.setAll(m),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,i):t instanceof qr?function(o,a,c,h){if(!xu(o.precondition,a))return c;const f=Mw(o.fieldTransforms,h,a),m=a.data;return m.setAll(YI(o)),m.setAll(f),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,i):function(o,a,c){return xu(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function n2(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),o=qI(i.transform,r||null);o!=null&&(n===null&&(n=sn.empty()),n.set(i.field,o))}return n||null}function Ow(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Hs(i,r,(o,a)=>XD(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pl extends Eh{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class qr extends Eh{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function YI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Nw(t,e,n){const i=new Map;ke(t.length===n.length);for(let r=0;r<n.length;r++){const o=t[r],a=o.transform,c=e.data.field(o.field);i.set(o.field,JD(a,c,n[r]))}return i}function Mw(t,e,n){const i=new Map;for(const r of t){const o=r.transform,a=n.data.field(r.field);i.set(r.field,YD(o,a,e))}return i}class JI extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class i2 extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&t2(o,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=oa(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=oa(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=jI();return this.mutations.forEach(r=>{const o=e.get(r.key),a=o.overlayedDocument;let c=this.applyToLocalView(a,o.mutatedFields);c=n.has(r.key)?null:c;const h=QI(a,c);h!==null&&i.set(r.key,h),a.isValidDocument()||a.convertToNoDocument(ie.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&Hs(this.mutations,e.mutations,(n,i)=>Ow(n,i))&&Hs(this.baseMutations,e.baseMutations,(n,i)=>Ow(n,i))}}class Og{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){ke(e.mutations.length===i.length);let r=function(){return qD}();const o=e.mutations;for(let a=0;a<o.length;a++)r=r.insert(o[a].key,i[a].version);return new Og(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,me;function a2(t){switch(t){default:return X();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function XI(t){if(t===void 0)return di("GRPC error has no .code"),V.UNKNOWN;switch(t){case qe.OK:return V.OK;case qe.CANCELLED:return V.CANCELLED;case qe.UNKNOWN:return V.UNKNOWN;case qe.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case qe.INTERNAL:return V.INTERNAL;case qe.UNAVAILABLE:return V.UNAVAILABLE;case qe.UNAUTHENTICATED:return V.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case qe.NOT_FOUND:return V.NOT_FOUND;case qe.ALREADY_EXISTS:return V.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return V.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case qe.ABORTED:return V.ABORTED;case qe.OUT_OF_RANGE:return V.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return V.UNIMPLEMENTED;case qe.DATA_LOSS:return V.DATA_LOSS;default:return X()}}(me=qe||(qe={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new Os([4294967295,4294967295],0);function Dw(t){const e=l2().encode(t),n=new hD;return n.update(e),new Uint8Array(n.digest())}function bw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Os([n,i],0),new Os([r,o],0)]}class Ng{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Wo(`Invalid padding: ${n}`);if(i<0)throw new Wo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Wo(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Wo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Os.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(Os.fromNumber(i)));return r.compare(u2)===1&&(r=new Os([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Dw(e),[i,r]=bw(n);for(let o=0;o<this.hashCount;o++){const a=this.de(i,r,o);if(!this.Ae(a))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new Ng(o,r,n);return i.forEach(c=>a.insert(c)),a}insert(e){if(this.Te===0)return;const n=Dw(e),[i,r]=bw(n);for(let o=0;o<this.hashCount;o++){const a=this.de(i,r,o);this.Re(a)}}Re(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,ml.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Th(ie.min(),r,new ze(Te),fi(),he())}}class ml{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new ml(i,n,he(),he(),he())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}}class eS{constructor(e,n){this.targetId=e,this.fe=n}}class tS{constructor(e,n,i=kt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class Vw{constructor(){this.ge=0,this.pe=zw(),this.ye=kt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=he(),n=he(),i=he();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:X()}}),new ml(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=zw()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ke(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class c2{constructor(e){this.Le=e,this.ke=new Map,this.qe=fi(),this.Qe=Fw(),this.Ke=new ze(Te)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){const n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){const o=r.target;if(Lp(o))if(i===0){const a=new Q(o.path);this.We(n,a,St.newNoDocument(a,ie.min()))}else ke(i===1);else{const a=this.Ze(n);if(a!==i){const c=this.Xe(e),h=c?this.et(c,e,a):1;if(h!==0){this.He(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n;let a,c;try{a=Vr(i).toUint8Array()}catch(h){if(h instanceof xI)return js("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Ng(a,r,o)}catch(h){return js(h instanceof Wo?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Te===0?null:c}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(o=>{const a=this.Le.nt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.We(n,o,null),r++)}),r}it(e){const n=new Map;this.ke.forEach((o,a)=>{const c=this.Ye(a);if(c){if(o.current&&Lp(c.target)){const h=new Q(c.target.path);this.qe.get(h)!==null||this.st(a,h)||this.We(a,h,St.newNoDocument(h,e))}o.De&&(n.set(a,o.ve()),o.Fe())}});let i=he();this.Qe.forEach((o,a)=>{let c=!0;a.forEachWhile(h=>{const f=this.Ye(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.qe.forEach((o,a)=>a.setReadTime(e));const r=new Th(e,n,this.Ke,this.qe,i);return this.qe=fi(),this.Qe=Fw(),this.Ke=new ze(Te),r}Ue(e,n){if(!this.je(e))return;const i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Vw,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new _t(Te),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Vw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Fw(){return new ze(Q.comparator)}function zw(){return new ze(Q.comparator)}const h2=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),d2=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),f2=(()=>({and:"AND",or:"OR"}))();class p2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Np(t,e){return t.useProto3Json||gh(e)?e:{value:e}}function Ac(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function m2(t,e){return Ac(t,e.toTimestamp())}function Un(t){return ke(!!t),ie.fromTimestamp(function(n){const i=Yi(n);return new tt(i.seconds,i.nanos)}(t))}function Mg(t,e){return function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents").child(e).canonicalString()}function iS(t){const e=Me.fromString(t);return ke(aS(e)),e}function Mp(t,e){return Mg(t.databaseId,e.path)}function rf(t,e){const n=iS(e);if(n.get(1)!==t.databaseId.projectId)throw new G(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(rS(n))}function Dp(t,e){return Mg(t.databaseId,e)}function g2(t){const e=iS(t);return e.length===4?Me.emptyPath():rS(e)}function bp(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rS(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Uw(t,e,n){return{name:Mp(t,e),fields:n.value.mapValue.fields}}function _2(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(ke(m===void 0||typeof m=="string"),kt.fromBase64String(m||"")):(ke(m===void 0||m instanceof Uint8Array),kt.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(f){const m=f.code===void 0?V.UNKNOWN:XI(f.code);return new G(m,f.message||"")}(a);n=new tS(i,r,o,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=rf(t,i.document.name),o=Un(i.document.updateTime),a=i.document.createTime?Un(i.document.createTime):ie.min(),c=new sn({mapValue:{fields:i.document.fields}}),h=St.newFoundDocument(r,o,a,c),f=i.targetIds||[],m=i.removedTargetIds||[];n=new Lu(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=rf(t,i.document),o=i.readTime?Un(i.readTime):ie.min(),a=St.newNoDocument(r,o),c=i.removedTargetIds||[];n=new Lu([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=rf(t,i.document),o=i.removedTargetIds||[];n=new Lu([],o,r,null)}else{if(!("filter"in e))return X();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,a=new o2(r,o),c=i.targetId;n=new eS(c,a)}}return n}function v2(t,e){let n;if(e instanceof pl)n={update:Uw(t,e.key,e.value)};else if(e instanceof JI)n={delete:Mp(t,e.key)};else if(e instanceof qr)n={update:Uw(t,e.key,e.data),updateMask:A2(e.fieldMask)};else{if(!(e instanceof i2))return X();n={verify:Mp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,a){const c=a.transform;if(c instanceof Pc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ja)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ha)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Cc)return{fieldPath:a.field.canonicalString(),increment:c.Ie};throw X()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:m2(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:X()}(t,e.precondition)),n}function y2(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(r,o){let a=r.updateTime?Un(r.updateTime):Un(o);return a.isEqual(ie.min())&&(a=Un(o)),new e2(a,r.transformResults||[])}(n,e))):[]}function w2(t,e){return{documents:[Dp(t,e.path)]}}function E2(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=Dp(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Dp(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(h){if(h.length!==0)return oS($n.create(h,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const o=function(h){if(h.length!==0)return h.map(f=>function(g){return{field:as(g.field),direction:S2(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Np(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),n}function T2(t){let e=g2(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){ke(i===1);const m=n.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(g){const v=sS(g);return v instanceof $n&&MI(v)?v.getFilters():[v]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(v=>function(P){return new Sc(ls(P.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(v))}(n.orderBy));let c=null;n.limit&&(c=function(g){let v;return v=typeof g=="object"?g.value:g,gh(v)?null:v}(n.limit));let h=null;n.startAt&&(h=function(g){const v=!!g.before,I=g.values||[];return new Ic(I,v)}(n.startAt));let f=null;return n.endAt&&(f=function(g){const v=!g.before,I=g.values||[];return new Ic(I,v)}(n.endAt)),UD(e,r,a,o,c,"F",h,f)}function I2(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ls(n.unaryFilter.field);return Xe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ls(n.unaryFilter.field);return Xe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ls(n.unaryFilter.field);return Xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ls(n.unaryFilter.field);return Xe.create(a,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(ls(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $n.create(n.compositeFilter.filters.map(i=>sS(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X()}function S2(t){return h2[t]}function P2(t){return d2[t]}function C2(t){return f2[t]}function as(t){return{fieldPath:t.canonicalString()}}function ls(t){return pt.fromServerFormat(t.fieldPath)}function oS(t){return t instanceof Xe?function(n){if(n.op==="=="){if(Cw(n.value))return{unaryFilter:{field:as(n.field),op:"IS_NAN"}};if(Pw(n.value))return{unaryFilter:{field:as(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Cw(n.value))return{unaryFilter:{field:as(n.field),op:"IS_NOT_NAN"}};if(Pw(n.value))return{unaryFilter:{field:as(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:as(n.field),op:P2(n.op),value:n.value}}}(t):t instanceof $n?function(n){const i=n.getFilters().map(r=>oS(r));return i.length===1?i[0]:{compositeFilter:{op:C2(n.op),filters:i}}}(t):X()}function A2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n,i,r,o=ie.min(),a=ie.min(),c=kt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.ut=e}}function k2(t){const e=T2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.on=new L2}addToCollectionParentIndex(e,n){return this.on.add(n),b.resolve()}getCollectionParents(e,n){return b.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return b.resolve()}deleteFieldIndex(e,n){return b.resolve()}deleteAllFieldIndexes(e){return b.resolve()}createTargetIndexes(e,n){return b.resolve()}getDocumentsMatchingTarget(e,n){return b.resolve(null)}getIndexType(e,n){return b.resolve(0)}getFieldIndexes(e,n){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,n){return b.resolve(Qi.min())}getMinOffsetFromCollectionGroup(e,n){return b.resolve(Qi.min())}updateCollectionGroup(e,n,i){return b.resolve()}updateIndexEntries(e,n){return b.resolve()}}class L2{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new _t(Me.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new _t(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Ks(0)}static Nn(){return new Ks(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.changes=new oo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?b.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&oa(i.mutation,r,_n.empty(),tt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,he()).next(()=>i))}getLocalViewOfDocuments(e,n,i=he()){const r=Tr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let a=Ho();return o.forEach((c,h)=>{a=a.insert(c,h.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Tr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,he()))}populateOverlays(e,n,i){const r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,i,r){let o=fi();const a=sa(),c=function(){return sa()}();return n.forEach((h,f)=>{const m=i.get(f.key);r.has(f.key)&&(m===void 0||m.mutation instanceof qr)?o=o.insert(f.key,f):m!==void 0?(a.set(f.key,m.mutation.getFieldMask()),oa(m.mutation,f,m.mutation.getFieldMask(),tt.now())):a.set(f.key,_n.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,m)=>a.set(f,m)),n.forEach((f,m)=>{var g;return c.set(f,new N2(m,(g=a.get(f))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){const i=sa();let r=new ze((a,c)=>a-c),o=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const c of a)c.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let m=i.get(h)||_n.empty();m=c.applyToLocalView(f,m),i.set(h,m);const g=(r.get(c.batchId)||he()).add(h);r=r.insert(c.batchId,g)})}).next(()=>{const a=[],c=r.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,m=h.value,g=jI();m.forEach(v=>{if(!o.has(v)){const I=QI(n.get(v),i.get(v));I!==null&&g.set(v,I),o=o.add(v)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,g))}return b.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(a){return Q.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):BD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{const a=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):b.resolve(Tr());let c=-1,h=o;return a.next(f=>b.forEach(f,(m,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(m)?b.resolve():this.remoteDocumentCache.getEntry(e,m).next(v=>{h=h.insert(m,v)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,he())).next(m=>({batchId:c,changes:$I(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(i=>{let r=Ho();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const o=n.collectionGroup;let a=Ho();return this.indexManager.getCollectionParents(e,o).next(c=>b.forEach(c,h=>{const f=function(g,v){return new _h(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,r).next(m=>{m.forEach((g,v)=>{a=a.insert(g,v)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(a=>{o.forEach((h,f)=>{const m=f.getKey();a.get(m)===null&&(a=a.insert(m,St.newInvalidDocument(m)))});let c=Ho();return a.forEach((h,f)=>{const m=o.get(h);m!==void 0&&oa(m.mutation,f,_n.empty(),tt.now()),yh(n,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return b.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Un(r.createTime)}}(n)),b.resolve()}getNamedQuery(e,n){return b.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(r){return{name:r.name,query:k2(r.bundledQuery),readTime:Un(r.readTime)}}(n)),b.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.overlays=new ze(Q.comparator),this.lr=new Map}getOverlay(e,n){return b.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Tr();return b.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.lt(e,n,o)}),b.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.lr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),b.resolve()}getOverlaysForCollection(e,n,i){const r=Tr(),o=n.length+1,a=new Q(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>i&&r.set(h.getKey(),h)}return b.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new ze((f,m)=>f-m);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let m=o.get(f.largestBatchId);m===null&&(m=Tr(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=Tr(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,m)=>c.set(f,m)),!(c.size()>=r)););return b.resolve(c)}lt(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new s2(n,i));let o=this.lr.get(n);o===void 0&&(o=he(),this.lr.set(n,o)),this.lr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(){this.hr=new _t(rt.Pr),this.Ir=new _t(rt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const i=new rt(e,n);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.dr(new rt(e,n))}Ar(e,n){e.forEach(i=>this.removeReference(i,n))}Rr(e){const n=new Q(new Me([])),i=new rt(n,e),r=new rt(n,e+1),o=[];return this.Ir.forEachInRange([i,r],a=>{this.dr(a),o.push(a.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Q(new Me([])),i=new rt(n,e),r=new rt(n,e+1);let o=he();return this.Ir.forEachInRange([i,r],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new rt(e,0),i=this.hr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class rt{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Q.comparator(e.key,n.key)||Te(e.gr,n.gr)}static Tr(e,n){return Te(e.gr,n.gr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new _t(rt.Pr)}checkEmpty(e){return b.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new r2(o,n,i,r);this.mutationQueue.push(a);for(const c of r)this.yr=this.yr.add(new rt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return b.resolve(a)}lookupMutationBatch(e,n){return b.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.Sr(i),o=r<0?0:r;return b.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new rt(n,0),r=new rt(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],a=>{const c=this.wr(a.gr);o.push(c)}),b.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new _t(Te);return n.forEach(r=>{const o=new rt(r,0),a=new rt(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,a],c=>{i=i.add(c.gr)})}),b.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let o=i;Q.isDocumentKey(o)||(o=o.child(""));const a=new rt(new Q(o),0);let c=new _t(Te);return this.yr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(c=c.add(h.gr)),!0)},a),b.resolve(this.br(c))}br(e){const n=[];return e.forEach(i=>{const r=this.wr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){ke(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return b.forEach(n.mutations,r=>{const o=new rt(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,n){const i=new rt(n,0),r=this.yr.firstAfterOrEqual(i);return b.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,b.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.Cr=e,this.docs=function(){return new ze(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),o=r?r.size:0,a=this.Cr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return b.resolve(i?i.document.mutableCopy():St.newInvalidDocument(n))}getEntries(e,n){let i=fi();return n.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():St.newInvalidDocument(r))}),b.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=fi();const a=n.path,c=new Q(a.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||ID(TD(m),i)<=0||(r.has(m.key)||yh(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return b.resolve(o)}getAllFromCollectionGroup(e,n,i,r){X()}vr(e,n){return b.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new z2(this)}getSize(e){return b.resolve(this.size)}}class z2 extends O2{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),b.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.persistence=e,this.Fr=new oo(n=>xg(n),Lg),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Dg,this.targetCount=0,this.Nr=Ks.On()}forEachTarget(e,n){return this.Fr.forEach((i,r)=>n(r)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Mr&&(this.Mr=n),b.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Ks(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,b.resolve()}updateTargetData(e,n){return this.kn(n),b.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,n,i){let r=0;const o=[];return this.Fr.forEach((a,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Fr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),b.waitFor(o).next(()=>r)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,n){const i=this.Fr.get(n)||null;return b.resolve(i)}addMatchingKeys(e,n,i){return this.Or.Er(n,i),b.resolve()}removeMatchingKeys(e,n,i){this.Or.Ar(n,i);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(a=>{o.push(r.markPotentiallyOrphaned(e,a))}),b.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),b.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Or.mr(n);return b.resolve(i)}containsKey(e,n){return b.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Cg(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new U2(this),this.indexManager=new x2,this.remoteDocumentCache=function(r){return new F2(r)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new R2(n),this.Kr=new D2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new b2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new V2(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,i){q("MemoryPersistence","Starting transaction:",e);const r=new $2(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,n){return b.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class $2 extends PD{constructor(e){super(),this.currentSequenceNumber=e}}class bg{constructor(e){this.persistence=e,this.Gr=new Dg,this.zr=null}static jr(e){return new bg(e)}get Hr(){if(this.zr)return this.zr;throw X()}addReference(e,n,i){return this.Gr.addReference(i,n),this.Hr.delete(i.toString()),b.resolve()}removeReference(e,n,i){return this.Gr.removeReference(i,n),this.Hr.add(i.toString()),b.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),b.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Hr,i=>{const r=Q.fromPath(i);return this.Jr(e,r).next(o=>{o||n.removeEntry(r,ie.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(i=>{i?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return b.or([()=>b.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.ki=i,this.qi=r}static Qi(e,n){let i=he(),r=he();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Vg(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,i,r){const o={result:null};return this.zi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.ji(e,n,r,i).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new j2;return this.Hi(e,n,a).next(c=>{if(o.result=c,this.$i)return this.Ji(e,n,a,c.size)})}).next(()=>o.result)}Ji(e,n,i,r){return i.documentReadCount<this.Ui?(Mo()<=fe.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",os(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),b.resolve()):(Mo()<=fe.DEBUG&&q("QueryEngine","Query:",os(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Mo()<=fe.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",os(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zn(n))):b.resolve())}zi(e,n){if(xw(n))return b.resolve(null);let i=zn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Op(n,null,"F"),i=zn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const a=he(...o);return this.Gi.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,i).next(h=>{const f=this.Yi(n,c);return this.Zi(n,f,a,h.readTime)?this.zi(e,Op(n,null,"F")):this.Xi(e,f,n,h)}))})))}ji(e,n,i,r){return xw(n)||r.isEqual(ie.min())?b.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const a=this.Yi(n,o);return this.Zi(n,a,i,r)?b.resolve(null):(Mo()<=fe.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),os(n)),this.Xi(e,a,n,ED(r,-1)).next(c=>c))})}Yi(e,n){let i=new _t(UI(e));return n.forEach((r,o)=>{yh(e,o)&&(i=i.add(o))}),i}Zi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,n,i){return Mo()<=fe.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",os(n)),this.Gi.getDocumentsMatchingQuery(e,n,Qi.min(),i)}Xi(e,n,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n,i,r){this.persistence=e,this.es=n,this.serializer=r,this.ts=new ze(Te),this.ns=new oo(o=>xg(o),Lg),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M2(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function q2(t,e,n,i){return new W2(t,e,n,i)}async function lS(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.os(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const a=[],c=[];let h=he();for(const f of r){a.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of o){c.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(i,h).next(f=>({_s:f,removedBatchIds:a,addedBatchIds:c}))})})}function K2(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(c,h,f,m){const g=f.batch,v=g.keys();let I=b.resolve();return v.forEach(P=>{I=I.next(()=>m.getEntry(h,P)).next(S=>{const R=f.docVersions.get(P);ke(R!==null),S.version.compareTo(R)<0&&(g.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),m.addEntry(S)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(h,g))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=he();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function uS(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Z2(t,e){const n=ae(t),i=e.snapshotVersion;let r=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.ss.newChangeBuffer({trackRemovals:!0});r=n.ts;const c=[];e.targetChanges.forEach((m,g)=>{const v=r.get(g);if(!v)return;c.push(n.qr.removeMatchingKeys(o,m.removedDocuments,g).next(()=>n.qr.addMatchingKeys(o,m.addedDocuments,g)));let I=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?I=I.withResumeToken(kt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):m.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(m.resumeToken,i)),r=r.insert(g,I),function(S,R,E){return S.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(v,I,m)&&c.push(n.qr.updateTargetData(o,I))});let h=fi(),f=he();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(G2(o,a,e.documentUpdates).next(m=>{h=m.us,f=m.cs})),!i.isEqual(ie.min())){const m=n.qr.getLastRemoteSnapshotVersion(o).next(g=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(m)}return b.waitFor(c).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(n.ts=r,o))}function G2(t,e,n){let i=he(),r=he();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let a=fi();return n.forEach((c,h)=>{const f=o.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(c)),h.isNoDocument()&&h.version.isEqual(ie.min())?(e.removeEntry(c,h.readTime),a=a.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),a=a.insert(c,h)):q("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),{us:a,cs:r}})}function Q2(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Y2(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.qr.getTargetData(i,e).next(o=>o?(r=o,b.resolve(r)):n.qr.allocateTargetId(i).next(a=>(r=new Ni(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(i.targetId,i),n.ns.set(e,i.targetId)),i})}async function Vp(t,e,n){const i=ae(t),r=i.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!fl(a))throw a;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)}function Bw(t,e,n){const i=ae(t);let r=ie.min(),o=he();return i.persistence.runTransaction("Execute query","readwrite",a=>function(h,f,m){const g=ae(h),v=g.ns.get(m);return v!==void 0?b.resolve(g.ts.get(v)):g.qr.getTargetData(f,m)}(i,a,zn(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(a,c.targetId).next(h=>{o=h})}).next(()=>i.es.getDocumentsMatchingQuery(a,e,n?r:ie.min(),n?o:he())).next(c=>(J2(i,jD(e),c),{documents:c,ls:o})))}function J2(t,e,n){let i=t.rs.get(e)||ie.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.rs.set(e,i)}class $w{constructor(){this.activeTargetIds=GD()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class X2{constructor(){this.eo=new $w,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,i){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new $w,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu=null;function sf(){return hu===null?hu=function(){return 268435456+Math.round(2147483648*Math.random())}():hu++,"0x"+hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="WebChannelConnection";class ib extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+n.host,this.fo=`projects/${r}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(n,i,r,o,a){const c=sf(),h=this.So(n,i);q("RestConnection",`Sending RPC '${n}' ${c}:`,h,r);const f={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(f,o,a),this.Do(n,h,f,r).then(m=>(q("RestConnection",`Received RPC '${n}' ${c}: `,m),m),m=>{throw js("RestConnection",`RPC '${n}' ${c} failed with error: `,m,"url: ",h,"request:",r),m})}Co(n,i,r,o,a,c){return this.wo(n,i,r,o,a)}bo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ro}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,a)=>n[a]=o),r&&r.headers.forEach((o,a)=>n[a]=o)}So(n,i){const r=tb[n];return`${this.mo}/v1/${i}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,i,r){const o=sf();return new Promise((a,c)=>{const h=new cD;h.setWithCredentials(!0),h.listenOnce(lD.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case nf.NO_ERROR:const m=h.getResponseJson();q(Et,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case nf.TIMEOUT:q(Et,`RPC '${e}' ${o} timed out`),c(new G(V.DEADLINE_EXCEEDED,"Request time out"));break;case nf.HTTP_ERROR:const g=h.getStatus();if(q(Et,`RPC '${e}' ${o} failed with status:`,g,"response text:",h.getResponseText()),g>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const I=v==null?void 0:v.error;if(I&&I.status&&I.message){const P=function(R){const E=R.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(E)>=0?E:V.UNKNOWN}(I.status);c(new G(P,I.message))}else c(new G(V.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new G(V.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{q(Et,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(r);q(Et,`RPC '${e}' ${o} sending request:`,r),h.send(n,"POST",f,i,15)})}vo(e,n,i){const r=sf(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=oD(),c=aD(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.bo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const m=o.join("");q(Et,`Creating RPC '${e}' stream ${r}: ${m}`,h);const g=a.createWebChannel(m,h);let v=!1,I=!1;const P=new nb({co:R=>{I?q(Et,`Not sending because RPC '${e}' stream ${r} is closed:`,R):(v||(q(Et,`Opening RPC '${e}' stream ${r} transport.`),g.open(),v=!0),q(Et,`RPC '${e}' stream ${r} sending:`,R),g.send(R))},lo:()=>g.close()}),S=(R,E,y)=>{R.listen(E,w=>{try{y(w)}catch(x){setTimeout(()=>{throw x},0)}})};return S(g,lu.EventType.OPEN,()=>{I||q(Et,`RPC '${e}' stream ${r} transport opened.`)}),S(g,lu.EventType.CLOSE,()=>{I||(I=!0,q(Et,`RPC '${e}' stream ${r} transport closed`),P.Ro())}),S(g,lu.EventType.ERROR,R=>{I||(I=!0,js(Et,`RPC '${e}' stream ${r} transport errored:`,R),P.Ro(new G(V.UNAVAILABLE,"The operation could not be completed")))}),S(g,lu.EventType.MESSAGE,R=>{var E;if(!I){const y=R.data[0];ke(!!y);const w=y,x=w.error||((E=w[0])===null||E===void 0?void 0:E.error);if(x){q(Et,`RPC '${e}' stream ${r} received error:`,x);const z=x.status;let $=function(Ee){const re=qe[Ee];if(re!==void 0)return XI(re)}(z),j=x.message;$===void 0&&($=V.INTERNAL,j="Unknown error status: "+z+" with message "+x.message),I=!0,P.Ro(new G($,j)),g.close()}else q(Et,`RPC '${e}' stream ${r} received:`,y),P.Vo(y)}}),S(c,uD.STAT_EVENT,R=>{R.stat===ww.PROXY?q(Et,`RPC '${e}' stream ${r} detected buffering proxy`):R.stat===ww.NOPROXY&&q(Et,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{P.Ao()},0),P}}function of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(t){return new p2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,n-i);r>0&&q("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n,i,r,o,a,c,h){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new cS(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(di(n.toString()),di("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===n&&this.s_(i,r)},i=>{e(()=>{const r=new G(V.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,n){const i=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rb extends hS{constructor(e,n,i,r,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=_2(this.serializer,e),i=function(o){if(!("targetChange"in o))return ie.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?ie.min():a.readTime?Un(a.readTime):ie.min()}(e);return this.listener.a_(n,i)}u_(e){const n={};n.database=bp(this.serializer),n.addTarget=function(o,a){let c;const h=a.target;if(c=Lp(h)?{documents:w2(o,h)}:{query:E2(o,h)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=nS(o,a.resumeToken);const f=Np(o,a.expectedCount);f!==null&&(c.expectedCount=f)}else if(a.snapshotVersion.compareTo(ie.min())>0){c.readTime=Ac(o,a.snapshotVersion.toTimestamp());const f=Np(o,a.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const i=I2(this.serializer,e);i&&(n.labels=i),this.e_(n)}c_(e){const n={};n.database=bp(this.serializer),n.removeTarget=e,this.e_(n)}}class sb extends hS{constructor(e,n,i,r,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=y2(e.writeResults,e.commitTime),i=Un(e.commitTime);return this.listener.I_(i,n)}return ke(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=bp(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>v2(this.serializer,i))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new G(V.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,n,i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new G(V.UNKNOWN,r.toString())})}Co(e,n,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,n,i,o,a,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(V.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class ab{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(di(n),this.f_=!1):q("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{i.enqueueAndForget(async()=>{Kr(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(h){const f=ae(h);f.C_.add(4),await gl(f),f.M_.set("Unknown"),f.C_.delete(4),await Sh(f)}(this))})}),this.M_=new ab(i,r)}}async function Sh(t){if(Kr(t))for(const e of t.v_)await e(!0)}async function gl(t){for(const e of t.v_)await e(!1)}function dS(t,e){const n=ae(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Ug(n)?zg(n):ao(n).Ho()&&Fg(n,e))}function fS(t,e){const n=ae(t),i=ao(n);n.D_.delete(e),i.Ho()&&pS(n,e),n.D_.size===0&&(i.Ho()?i.Zo():Kr(n)&&n.M_.set("Unknown"))}function Fg(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ao(t).u_(e)}function pS(t,e){t.x_.Oe(e),ao(t).c_(e)}function zg(t){t.x_=new c2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ao(t).start(),t.M_.g_()}function Ug(t){return Kr(t)&&!ao(t).jo()&&t.D_.size>0}function Kr(t){return ae(t).C_.size===0}function mS(t){t.x_=void 0}async function ub(t){t.D_.forEach((e,n)=>{Fg(t,e)})}async function cb(t,e){mS(t),Ug(t)?(t.M_.w_(e),zg(t)):t.M_.set("Unknown")}async function hb(t,e,n){if(t.M_.set("Online"),e instanceof tS&&e.state===2&&e.cause)try{await async function(r,o){const a=o.cause;for(const c of o.targetIds)r.D_.has(c)&&(await r.remoteSyncer.rejectListen(c,a),r.D_.delete(c),r.x_.removeTarget(c))}(t,e)}catch(i){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Rc(t,i)}else if(e instanceof Lu?t.x_.$e(e):e instanceof eS?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ie.min()))try{const i=await uS(t.localStore);n.compareTo(i)>=0&&await function(o,a){const c=o.x_.it(a);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.D_.get(f);m&&o.D_.set(f,m.withResumeToken(h.resumeToken,a))}}),c.targetMismatches.forEach((h,f)=>{const m=o.D_.get(h);if(!m)return;o.D_.set(h,m.withResumeToken(kt.EMPTY_BYTE_STRING,m.snapshotVersion)),pS(o,h);const g=new Ni(m.target,h,f,m.sequenceNumber);Fg(o,g)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(i){q("RemoteStore","Failed to raise snapshot:",i),await Rc(t,i)}}async function Rc(t,e,n){if(!fl(e))throw e;t.C_.add(1),await gl(t),t.M_.set("Offline"),n||(n=()=>uS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Sh(t)})}function gS(t,e){return e().catch(n=>Rc(t,n,e))}async function Ph(t){const e=ae(t),n=Ji(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;db(e);)try{const r=await Q2(e.localStore,i);if(r===null){e.b_.length===0&&n.Zo();break}i=r.batchId,fb(e,r)}catch(r){await Rc(e,r)}_S(e)&&vS(e)}function db(t){return Kr(t)&&t.b_.length<10}function fb(t,e){t.b_.push(e);const n=Ji(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function _S(t){return Kr(t)&&!Ji(t).jo()&&t.b_.length>0}function vS(t){Ji(t).start()}async function pb(t){Ji(t).E_()}async function mb(t){const e=Ji(t);for(const n of t.b_)e.P_(n.mutations)}async function gb(t,e,n){const i=t.b_.shift(),r=Og.from(i,e,n);await gS(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Ph(t)}async function _b(t,e){e&&Ji(t).h_&&await async function(i,r){if(function(a){return a2(a)&&a!==V.ABORTED}(r.code)){const o=i.b_.shift();Ji(i).Yo(),await gS(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Ph(i)}}(t,e),_S(t)&&vS(t)}async function Hw(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const i=Kr(n);n.C_.add(3),await gl(n),i&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Sh(n)}async function vb(t,e){const n=ae(t);e?(n.C_.delete(2),await Sh(n)):e||(n.C_.add(2),await gl(n),n.M_.set("Unknown"))}function ao(t){return t.O_||(t.O_=function(n,i,r){const o=ae(n);return o.A_(),new rb(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{ho:ub.bind(null,t),Io:cb.bind(null,t),a_:hb.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),Ug(t)?zg(t):t.M_.set("Unknown")):(await t.O_.stop(),mS(t))})),t.O_}function Ji(t){return t.N_||(t.N_=function(n,i,r){const o=ae(n);return o.A_(),new sb(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{ho:pb.bind(null,t),Io:_b.bind(null,t),T_:mb.bind(null,t),I_:gb.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Ph(t)):(await t.N_.stop(),t.b_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){const a=Date.now()+i,c=new Bg(e,n,a,r,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $g(t,e){if(di("AsyncQueue",`${e}: ${t}`),fl(t))return new G(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Q.comparator(n.key,i.key):(n,i)=>Q.comparator(n.key,i.key),this.keyedMap=Ho(),this.sortedSet=new ze(this.comparator)}static emptySet(e){return new Ns(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ns)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Ns;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this.B_=new ze(Q.comparator)}track(e){const n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):X():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Zs{constructor(e,n,i,r,o,a,c,h,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,i,r,o){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new Zs(e,n,Ns.emptySet(n),a,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.k_=void 0,this.listeners=[]}}class wb{constructor(){this.queries=new oo(e=>zI(e),vh),this.onlineState="Unknown",this.q_=new Set}}async function Eb(t,e){const n=ae(t),i=e.query;let r=!1,o=n.queries.get(i);if(o||(r=!0,o=new yb),r)try{o.k_=await n.onListen(i)}catch(a){const c=$g(a,`Initialization of query '${os(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&jg(n)}async function Tb(t,e){const n=ae(t),i=e.query;let r=!1;const o=n.queries.get(i);if(o){const a=o.listeners.indexOf(e);a>=0&&(o.listeners.splice(a,1),r=o.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function Ib(t,e){const n=ae(t);let i=!1;for(const r of e){const o=r.query,a=n.queries.get(o);if(a){for(const c of a.listeners)c.K_(r)&&(i=!0);a.k_=r}}i&&jg(n)}function Sb(t,e,n){const i=ae(t),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(n);i.queries.delete(e)}function jg(t){t.q_.forEach(e=>{e.next()})}class Pb{constructor(e,n,i){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Zs(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.J_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.key=e}}class wS{constructor(e){this.key=e}}class Cb{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=he(),this.mutatedKeys=he(),this._a=UI(e),this.aa=new Ns(this._a)}get ua(){return this.ia}ca(e,n){const i=n?n.la:new Ww,r=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,a=r,c=!1;const h=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((m,g)=>{const v=r.get(m),I=yh(this.query,g)?g:null,P=!!v&&this.mutatedKeys.has(v.key),S=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let R=!1;v&&I?v.data.isEqual(I.data)?P!==S&&(i.track({type:3,doc:I}),R=!0):this.ha(v,I)||(i.track({type:2,doc:I}),R=!0,(h&&this._a(I,h)>0||f&&this._a(I,f)<0)&&(c=!0)):!v&&I?(i.track({type:0,doc:I}),R=!0):v&&!I&&(i.track({type:1,doc:v}),R=!0,(h||f)&&(c=!0)),R&&(I?(a=a.add(I),o=S?o.add(m):o.delete(m)):(a=a.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{aa:a,la:i,Zi:c,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const a=e.la.L_();a.sort((m,g)=>function(I,P){const S=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return S(I)-S(P)}(m.type,g.type)||this._a(m.doc,g.doc)),this.Pa(i),r=r!=null&&r;const c=n&&!r?this.Ia():[],h=this.oa.size===0&&this.current&&!r?1:0,f=h!==this.sa;return this.sa=h,a.length!==0||f?{snapshot:new Zs(this.query,e.aa,o,a,e.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:c}:{Ta:c}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Ww,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=he(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const n=[];return e.forEach(i=>{this.oa.has(i)||n.push(new wS(i))}),this.oa.forEach(i=>{e.has(i)||n.push(new yS(i))}),n}da(e){this.ia=e.ls,this.oa=he();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Zs.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class Ab{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class Rb{constructor(e){this.key=e,this.Ra=!1}}class kb{constructor(e,n,i,r,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Va={},this.ma=new oo(c=>zI(c),vh),this.fa=new Map,this.ga=new Set,this.pa=new ze(Q.comparator),this.ya=new Map,this.wa=new Dg,this.Sa={},this.ba=new Map,this.Da=Ks.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function xb(t,e){const n=Ub(t);let i,r;const o=n.ma.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{const a=await Y2(n.localStore,zn(e)),c=n.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=await Lb(n,e,i,c==="current",a.resumeToken),n.isPrimaryClient&&dS(n.remoteStore,a)}return r}async function Lb(t,e,n,i,r){t.va=(g,v,I)=>async function(S,R,E,y){let w=R.view.ca(E);w.Zi&&(w=await Bw(S.localStore,R.query,!1).then(({documents:j})=>R.view.ca(j,w)));const x=y&&y.targetChanges.get(R.targetId),z=y&&y.targetMismatches.get(R.targetId)!=null,$=R.view.applyChanges(w,S.isPrimaryClient,x,z);return Kw(S,R.targetId,$.Ta),$.snapshot}(t,g,v,I);const o=await Bw(t.localStore,e,!0),a=new Cb(e,o.ls),c=a.ca(o.documents),h=ml.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),f=a.applyChanges(c,t.isPrimaryClient,h);Kw(t,n,f.Ta);const m=new Ab(e,n,a);return t.ma.set(e,m),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),f.snapshot}async function Ob(t,e){const n=ae(t),i=n.ma.get(e),r=n.fa.get(i.targetId);if(r.length>1)return n.fa.set(i.targetId,r.filter(o=>!vh(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Vp(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),fS(n.remoteStore,i.targetId),Fp(n,i.targetId)}).catch(dl)):(Fp(n,i.targetId),await Vp(n.localStore,i.targetId,!0))}async function Nb(t,e,n){const i=Bb(t);try{const r=await function(a,c){const h=ae(a),f=tt.now(),m=c.reduce((I,P)=>I.add(P.key),he());let g,v;return h.persistence.runTransaction("Locally write mutations","readwrite",I=>{let P=fi(),S=he();return h.ss.getEntries(I,m).next(R=>{P=R,P.forEach((E,y)=>{y.isValidDocument()||(S=S.add(E))})}).next(()=>h.localDocuments.getOverlayedDocuments(I,P)).next(R=>{g=R;const E=[];for(const y of c){const w=n2(y,g.get(y.key).overlayedDocument);w!=null&&E.push(new qr(y.key,w,LI(w.value.mapValue),ri.exists(!0)))}return h.mutationQueue.addMutationBatch(I,f,E,c)}).next(R=>{v=R;const E=R.applyToLocalDocumentSet(g,S);return h.documentOverlayCache.saveOverlays(I,R.batchId,E)})}).then(()=>({batchId:v.batchId,changes:$I(g)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,c,h){let f=a.Sa[a.currentUser.toKey()];f||(f=new ze(Te)),f=f.insert(c,h),a.Sa[a.currentUser.toKey()]=f}(i,r.batchId,n),await _l(i,r.changes),await Ph(i.remoteStore)}catch(r){const o=$g(r,"Failed to persist write");n.reject(o)}}async function ES(t,e){const n=ae(t);try{const i=await Z2(n.localStore,e);e.targetChanges.forEach((r,o)=>{const a=n.ya.get(o);a&&(ke(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.Ra=!0:r.modifiedDocuments.size>0?ke(a.Ra):r.removedDocuments.size>0&&(ke(a.Ra),a.Ra=!1))}),await _l(n,i,e)}catch(i){await dl(i)}}function qw(t,e,n){const i=ae(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ma.forEach((o,a)=>{const c=a.view.Q_(e);c.snapshot&&r.push(c.snapshot)}),function(a,c){const h=ae(a);h.onlineState=c;let f=!1;h.queries.forEach((m,g)=>{for(const v of g.listeners)v.Q_(c)&&(f=!0)}),f&&jg(h)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Mb(t,e,n){const i=ae(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.ya.get(e),o=r&&r.key;if(o){let a=new ze(Q.comparator);a=a.insert(o,St.newNoDocument(o,ie.min()));const c=he().add(o),h=new Th(ie.min(),new Map,new ze(Te),a,c);await ES(i,h),i.pa=i.pa.remove(o),i.ya.delete(e),Hg(i)}else await Vp(i.localStore,e,!1).then(()=>Fp(i,e,n)).catch(dl)}async function Db(t,e){const n=ae(t),i=e.batch.batchId;try{const r=await K2(n.localStore,e);IS(n,i,null),TS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await _l(n,r)}catch(r){await dl(r)}}async function bb(t,e,n){const i=ae(t);try{const r=await function(a,c){const h=ae(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return h.mutationQueue.lookupMutationBatch(f,c).next(g=>(ke(g!==null),m=g.keys(),h.mutationQueue.removeMutationBatch(f,g))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>h.localDocuments.getDocuments(f,m))})}(i.localStore,e);IS(i,e,n),TS(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await _l(i,r)}catch(r){await dl(r)}}function TS(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function IS(t,e,n){const i=ae(t);let r=i.Sa[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function Fp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.fa.get(e))t.ma.delete(i),n&&t.Va.Fa(i,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(i=>{t.wa.containsKey(i)||SS(t,i)})}function SS(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(fS(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),Hg(t))}function Kw(t,e,n){for(const i of n)i instanceof yS?(t.wa.addReference(i.key,e),Vb(t,i)):i instanceof wS?(q("SyncEngine","Document no longer in limbo: "+i.key),t.wa.removeReference(i.key,e),t.wa.containsKey(i.key)||SS(t,i.key)):X()}function Vb(t,e){const n=e.key,i=n.path.canonicalString();t.pa.get(n)||t.ga.has(i)||(q("SyncEngine","New document in limbo: "+n),t.ga.add(i),Hg(t))}function Hg(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new Q(Me.fromString(e)),i=t.Da.next();t.ya.set(i,new Rb(n)),t.pa=t.pa.insert(n,i),dS(t.remoteStore,new Ni(zn(FI(n.path)),i,"TargetPurposeLimboResolution",Cg._e))}}async function _l(t,e,n){const i=ae(t),r=[],o=[],a=[];i.ma.isEmpty()||(i.ma.forEach((c,h)=>{a.push(i.va(h,e,n).then(f=>{if((f||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,f!=null&&f.fromCache?"not-current":"current"),f){r.push(f);const m=Vg.Qi(h.targetId,f);o.push(m)}}))}),await Promise.all(a),i.Va.a_(r),await async function(h,f){const m=ae(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>b.forEach(f,v=>b.forEach(v.ki,I=>m.persistence.referenceDelegate.addReference(g,v.targetId,I)).next(()=>b.forEach(v.qi,I=>m.persistence.referenceDelegate.removeReference(g,v.targetId,I)))))}catch(g){if(!fl(g))throw g;q("LocalStore","Failed to update sequence numbers: "+g)}for(const g of f){const v=g.targetId;if(!g.fromCache){const I=m.ts.get(v),P=I.snapshotVersion,S=I.withLastLimboFreeSnapshotVersion(P);m.ts=m.ts.insert(v,S)}}}(i.localStore,o))}async function Fb(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());const i=await lS(n.localStore,e);n.currentUser=e,function(o,a){o.ba.forEach(c=>{c.forEach(h=>{h.reject(new G(V.CANCELLED,a))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await _l(n,i._s)}}function zb(t,e){const n=ae(t),i=n.ya.get(e);if(i&&i.Ra)return he().add(i.key);{let r=he();const o=n.fa.get(e);if(!o)return r;for(const a of o){const c=n.ma.get(a);r=r.unionWith(c.view.ua)}return r}}function Ub(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ES.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mb.bind(null,e),e.Va.a_=Ib.bind(null,e.eventManager),e.Va.Fa=Sb.bind(null,e.eventManager),e}function Bb(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Db.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bb.bind(null,e),e}class Zw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return q2(this.persistence,new H2,e.initialUser,this.serializer)}createPersistence(e){return new B2(bg.jr,this.serializer)}createSharedClientState(e){return new X2}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class $b{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>qw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Fb.bind(null,this.syncEngine),await vb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wb}()}createDatastore(e){const n=Ih(e.databaseInfo.databaseId),i=function(o){return new ib(o)}(e.databaseInfo);return function(o,a,c,h){return new ob(o,a,c,h)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,a,c){return new lb(i,r,o,a,c)}(this.localStore,this.datastore,e.asyncQueue,n=>qw(this.syncEngine,n,0),function(){return jw.D()?new jw:new eb}())}createSyncEngine(e,n){return function(r,o,a,c,h,f,m){const g=new kb(r,o,a,c,h,f);return m&&(g.Ca=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const i=ae(n);q("RemoteStore","RemoteStore shutting down."),i.C_.add(5),await gl(i),i.F_.shutdown(),i.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Tt.UNAUTHENTICATED,this.clientId=RI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async o=>{q("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=$g(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function af(t,e){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await lS(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Gw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qb(t);q("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(r=>Hw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,o)=>Hw(e.remoteStore,o)),t._onlineComponents=e}function Wb(t){return t.name==="FirebaseError"?t.code===V.FAILED_PRECONDITION||t.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function qb(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await af(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Wb(n))throw n;js("Error using user provided cache. Falling back to memory cache: "+n),await af(t,new Zw)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await af(t,new Zw);return t._offlineComponents}async function PS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await Gw(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await Gw(t,new $b))),t._onlineComponents}function Kb(t){return PS(t).then(e=>e.syncEngine)}async function Zb(t){const e=await PS(t),n=e.eventManager;return n.onListen=xb.bind(null,e.syncEngine),n.onUnlisten=Ob.bind(null,e.syncEngine),n}function Gb(t,e,n={}){const i=new qi;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,c,h,f){const m=new jb({next:v=>{a.enqueueAndForget(()=>Tb(o,g)),v.fromCache&&h.source==="server"?f.reject(new G(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),g=new Pb(c,m,{includeMetadataChanges:!0,J_:!0});return Eb(o,g)}(await Zb(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t,e,n){if(!n)throw new G(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Qb(t,e,n,i){if(e===!0&&i===!0)throw new G(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Yw(t){if(!Q.isDocumentKey(t))throw new G(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Jw(t){if(Q.isDocumentKey(t))throw new G(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function kc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wg(t);throw new G(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new G(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CS((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new G(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new G(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new G(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new G(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xw(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new dD;switch(i.type){case"firstParty":return new gD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new G(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Qw.get(n);i&&(q("ComponentProvider","Removing Datastore"),Qw.delete(n),i.terminate())}(this),Promise.resolve()}}function Yb(t,e,n,i={}){var r;const o=(t=kc(t,Ch))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),i.mockUserToken){let c,h;if(typeof i.mockUserToken=="string")c=i.mockUserToken,h=Tt.MOCK_USER;else{c=Tx(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new G(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Tt(f)}t._authCredentials=new fD(new AI(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ah(this.firestore,e,this._query)}}class wn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class Ki extends Ah{constructor(e,n,i){super(e,n,FI(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new Q(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function qg(t,e,...n){if(t=jt(t),AS("collection","path",e),t instanceof Ch){const i=Me.fromString(e,...n);return Jw(i),new Ki(t,null,i)}{if(!(t instanceof wn||t instanceof Ki))throw new G(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Me.fromString(e,...n));return Jw(i),new Ki(t.firestore,null,i)}}function Jb(t,e,...n){if(t=jt(t),arguments.length===1&&(e=RI.newId()),AS("doc","path",e),t instanceof Ch){const i=Me.fromString(e,...n);return Yw(i),new wn(t,null,new Q(i))}{if(!(t instanceof wn||t instanceof Ki))throw new G(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Me.fromString(e,...n));return Yw(i),new wn(t.firestore,t instanceof Ki?t.converter:null,new Q(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new cS(this,"async_queue_retry"),this.iu=()=>{const n=of();n&&q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=of();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=of();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new qi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!fl(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{this.eu=i,this.tu=!1;const r=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(i);throw di("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.tu=!1,i))));return this.Ja=n,n}enqueueAfterDelay(e,n,i){this.su(),this.ru.indexOf(e)>-1&&(n=0);const r=Bg.createAndSchedule(this,e,n,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&X()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class Kg extends Ch{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new Xb}(),this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||kS(this),this._firestoreClient.terminate()}}function eV(t,e){const n=typeof t=="object"?t:HT(),i=typeof t=="string"?t:e||"(default)",r=qm(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=wx("firestore");o&&Yb(r,...o)}return r}function RS(t){return t._firestoreClient||kS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function kS(t){var e,n,i;const r=t._freezeSettings(),o=function(c,h,f,m){return new RD(c,h,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,CS(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new Hb(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gs(kt.fromBase64String(e))}catch(n){throw new G(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gs(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=/^__.*__$/;class nV{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new qr(e,this.data,this.fieldMask,n,this.fieldTransforms):new pl(e,this.data,n,this.fieldTransforms)}}function LS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}class Qg{constructor(e,n,i,r,o,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Qg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return xc(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(LS(this.Iu)&&tV.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class iV{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Ih(e)}pu(e,n,i,r=!1){return new Qg({Iu:e,methodName:n,gu:i,path:pt.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rV(t){const e=t._freezeSettings(),n=Ih(t._databaseId);return new iV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sV(t,e,n,i,r,o={}){const a=t.pu(o.merge||o.mergeFields?2:0,e,n,r);DS("Data must be an object, but it was:",a,i);const c=NS(i,a);let h,f;if(o.merge)h=new _n(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){const m=[];for(const g of o.mergeFields){const v=oV(e,g,n);if(!a.contains(v))throw new G(V.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);lV(m,v)||m.push(v)}h=new _n(m),f=a.fieldTransforms.filter(g=>h.covers(g.field))}else h=null,f=a.fieldTransforms;return new nV(new sn(c),h,f)}function OS(t,e){if(MS(t=jt(t)))return DS("Unsupported field value:",e,t),NS(t,e);if(t instanceof xS)return function(i,r){if(!LS(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(i,r){const o=[];let a=0;for(const c of i){let h=OS(c,r.Vu(a));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),a++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=jt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return QD(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=tt.fromDate(i);return{timestampValue:Ac(r.serializer,o)}}if(i instanceof tt){const o=new tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ac(r.serializer,o)}}if(i instanceof Gg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Gs)return{bytesValue:nS(r.serializer,i._byteString)};if(i instanceof wn){const o=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(o))throw r.mu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Mg(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${Wg(i)}`)}(t,e)}function NS(t,e){const n={};return kI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):so(t,(i,r)=>{const o=OS(r,e.Eu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function MS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof Gg||t instanceof Gs||t instanceof wn||t instanceof xS)}function DS(t,e,n){if(!MS(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=Wg(n);throw i==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+i)}}function oV(t,e,n){if((e=jt(e))instanceof Zg)return e._internalPath;if(typeof e=="string")return bS(t,e);throw xc("Field path arguments must be of type string or ",t,!1,void 0,n)}const aV=new RegExp("[~\\*/\\[\\]]");function bS(t,e,n){if(e.search(aV)>=0)throw xc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zg(...e.split("."))._internalPath}catch{throw xc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xc(t,e,n,i,r){const o=i&&!i.isEmpty(),a=r!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||a)&&(h+=" (found",o&&(h+=` in field ${i}`),a&&(h+=` in document ${r}`),h+=")"),new G(V.INVALID_ARGUMENT,c+t+h)}function lV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(FS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uV extends VS{data(){return super.data()}}function FS(t,e){return typeof e=="string"?bS(t,e):e instanceof Zg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hV{convertValue(e,n="none"){switch(Fr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return so(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new Gg(Ke(e.latitude),Ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Rg(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ua(e));default:return null}}convertTimestamp(e){const n=Yi(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Me.fromString(e);ke(aS(i));const r=new Ba(i.get(1),i.get(3)),o=new Q(i.popFirst(5));return r.isEqual(n)||di(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fV extends VS{constructor(e,n,i,r,o,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ou(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(FS("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Ou extends fV{data(e={}){return super.data(e)}}class pV{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new du(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Ou(this._firestore,this._userDataWriter,i.key,i,new du(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>{const h=new Ou(r._firestore,r._userDataWriter,c.doc.key,c.doc,new du(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const h=new Ou(r._firestore,r._userDataWriter,c.doc.key,c.doc,new du(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,m=-1;return c.type!==0&&(f=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),m=a.indexOf(c.doc.key)),{type:mV(c.type),doc:h,oldIndex:f,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function mV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}class gV extends hV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}function _V(t){t=kc(t,Ah);const e=kc(t.firestore,Kg),n=RS(e),i=new gV(e);return cV(t._query),Gb(n,t._query).then(r=>new pV(e,i,t,r))}function zS(t,e){const n=kc(t.firestore,Kg),i=Jb(t),r=dV(t.converter,e);return vV(n,[sV(rV(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,ri.exists(!1))]).then(()=>i)}function vV(t,e){return function(i,r){const o=new qi;return i.asyncQueue.enqueueAndForget(async()=>Nb(await Kb(i),r,o)),o.promise}(RS(t),e)}(function(e,n=!0){(function(r){ro=r})(eo),Bs(new Or("firestore",(i,{instanceIdentifier:r,options:o})=>{const a=i.getProvider("app").getImmediate(),c=new Kg(new pD(i.getProvider("auth-internal")),new vD(i.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new G(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ba(f.options.projectId,m)}(a,r),a);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Wi(Ew,"4.4.0",e),Wi(Ew,"4.4.0","esm2017")})();const US={apiKey:"AIzaSyD1vvaK-oNpeTLf3YtM5m1dKxHAkgwGR1E",authDomain:"quizapp-2aaae.firebaseapp.com",projectId:"quizapp-2aaae",storageBucket:"quizapp-2aaae.appspot.com",messagingSenderId:"411028115203",appId:"1:411028115203:web:c8807d7f082a2c5a3fa336",measurementId:"G-8RGM6YSZ36"},BS=Km(US),vl=sM(BS),Yg=eV(BS);Km(US);const yV=()=>{const[t,e]=N.useState(null);return N.useEffect(()=>{const n=qO(vl,i=>{e(i||null)});return()=>{n()}},[]),k("div",{children:t?k("p",{children:`Signed In as ${t.email}`}):k("p",{children:"Signed Out"})})},Zr=()=>{const t=vl.currentUser;return ue("nav",{className:"navbar",children:[ue("ul",{children:[k("li",{children:k(fr,{to:"/",children:"Home"})}),k("li",{children:k(fr,{to:"/about",children:"About"})}),k("li",{children:k(fr,{to:"/weather",children:"Weather"})}),k("li",{children:k(fr,{to:"/contact",children:"Contact"})}),t&&k("li",{children:k(fr,{to:"/quiz",children:"Quiz"})}),k("li",{children:t?k(fr,{to:"/logout",children:"Log Out"}):k(fr,{to:"/signin",children:"Sign In"})}),k("li",{className:"authDetail",children:k(yV,{})})]}),k("hr",{})]})},or=()=>ue("nav",{className:"footer",children:[k("hr",{}),ue("footer",{children:[k("p",{children:"Thank you for being a part of the Quizzers journey!"}),k("address",{children:"QuizGenius Huzur Mah. Maslak +90 534 747 29 53"})]})]}),wV=()=>ue("div",{className:"styled",children:[ue("div",{className:"nav",children:[" ",k(Zr,{})]}),k("h1",{children:"Welcome to QuizGenius"}),ue("div",{className:"button-container",children:[k("p",{children:k("img",{src:"src/quizTime-2.png",alt:"Logo"})}),k("a",{className:"button button1",href:"/signin",children:"Sign In"}),k("a",{className:"button button2",href:"/signup",children:"Sign Up"})]}),k(or,{})]}),EV=()=>{const[t,e]=N.useState(""),[n,i]=N.useState(""),[r,o]=N.useState("");return ue("div",{className:"styled",children:[ue("div",{className:"nav",children:[" ",k(Zr,{})]}),k("h2",{children:"Sign Up"}),k("form",{className:"forms",children:ue("div",{className:"formDiv",children:[k("label",{children:"Email"}),k("br",{}),k("input",{type:"email",value:t,onChange:c=>e(c.target.value)}),k("br",{}),k("label",{children:"Password"}),k("br",{}),k("input",{type:"password",value:n,onChange:c=>i(c.target.value)}),k("br",{}),k("label",{children:"Display Name"}),k("br",{}),k("input",{type:"text",value:r,onChange:c=>o(c.target.value)}),k("br",{}),k("button",{type:"button",onClick:async()=>{try{const h=(await $O(vl,t,n)).user,f=qg(Yg,"users");await zS(f,{uid:h.uid,email:h.email,displayName:r,userAllTimScore:userAppTimScore}).then(function(){console.log("user registered",r),window.location.href="/quiz"}),console.log("User signed up:",h)}catch(c){console.error("Error signing up:",c.message)}},children:"Sign Up"})]})}),ue("p",{children:["If you have an account already",k("a",{className:"button button3",href:"/signin",children:"Sign In"})," "]}),k(or,{})]})},TV=()=>{const[t,e]=N.useState(""),[n,i]=N.useState("");return ue("div",{className:"styled",children:[ue("div",{className:"nav",children:[" ",k(Zr,{})]}),k("h2",{children:"Sign In"}),k("form",{className:"forms",onSubmit:o=>{o.preventDefault(),jO(vl,t,n).then(a=>{a.user,alert("Login successful! Welcome"),window.location.href="/quiz"}).catch(a=>{console.log(a)})},children:ue("div",{className:"formDiv",children:[k("label",{children:"Email"}),k("br",{}),k("input",{type:"email",value:t,onChange:o=>e(o.target.value)})," ",k("br",{}),k("label",{children:"Password"}),k("br",{}),k("input",{type:"password",value:n,onChange:o=>i(o.target.value)}),k("br",{}),k("button",{type:"submit",children:"Log In"})]})}),ue("p",{children:["If you don't have an account ",k("a",{className:"button button3",href:"/signup",children:"Sign Up"})," "]}),k(or,{})]})},e0={score:0,correctAnswers:0,wrongAnswers:0},IV=()=>{const[t,e]=N.useState([]),[n,i]=N.useState(0),[r,o]=N.useState(null),[a,c]=N.useState(null),[h,f]=N.useState(e0),[m,g]=N.useState(!1);N.useState(!0),N.useState(""),N.useEffect(()=>{(async()=>{try{const z=(await _V(qg(Yg,"questions"))).docs.map(j=>j.data()),$=v(z,10);e($)}catch(x){console.error("Error fetching questions:",x)}})()},[]);const v=(w,x)=>w.sort(()=>.5-Math.random()).slice(0,x);if(t.length===0)return k("div",{children:"Loading..."});const{question:I,choices:P,correctAnswer:S}=t[n],R=(w,x)=>{o(x),c(w===S)},E=()=>{o(null),f(w=>a?{...w,score:w.score+5,correctAnswers:w.correctAnswers+1}:{...w,wrongAnswers:w.wrongAnswers+1}),n!==t.length-1?i(w=>w+1):(i(0),g(!0))},y=()=>{f(e0),g(!1)};return ue("div",{className:"styled",children:[ue("div",{className:"nav",children:[" ",k(Zr,{})]}),k("div",{className:"quiz-container",children:m?ue("div",{className:"result",children:[k("h3",{children:"Result"}),ue("p",{children:["Total Questions: ",k("span",{children:t.length})]}),ue("p",{children:["Total Score: ",k("span",{children:h.score})]}),ue("p",{children:["Correct Answers: ",k("span",{children:h.correctAnswers})]}),ue("p",{children:["Wrong Answers: ",k("span",{children:h.wrongAnswers})]}),k("button",{onClick:y,children:"Try again"})]}):ue(uA,{children:[k("span",{className:"active-question-no",children:n+1}),ue("span",{className:"total-question",children:["/",t.length]}),k("h2",{children:I}),k("ul",{children:P.map((w,x)=>k("li",{onClick:()=>R(w,x),className:r===x?"selected-answer":null,children:w},w))}),k("div",{children:k("button",{onClick:E,disabled:r===null,children:n===t.length-1?"Finish":"Next"})})]})}),k(or,{})]})},SV=()=>(N.useEffect(()=>{(async()=>{try{await KO(vl),alert("Logout successful!"),window.location.href="/signin"}catch(e){console.error("Error during logout:",e)}})()},[]),ue("div",{children:[k("h1",{children:"Logging Out..."}),k(or,{})]})),PV=()=>{const[t,e]=N.useState(""),[n,i]=N.useState(""),[r,o]=N.useState(""),[a,c]=N.useState("");return ue("div",{className:"styled",children:[ue("div",{className:"nav",children:[" ",k(Zr,{})]}),k("h2",{children:"Contact Page"}),k("form",{className:"forms",onSubmit:async f=>{f.preventDefault();const m={name:t,surname:n,email:r,question:a};try{const g=await zS(qg(Yg,"contacts"),m);console.log("Contact added with ID: ",g.id),e(""),i(""),o(""),c("")}catch(g){console.error("Error adding contact: ",g)}},children:ue("div",{className:"formDiv",children:[k("label",{children:"Name "}),k("br",{}),k("input",{type:"text",value:t,onChange:f=>e(f.target.value)}),k("br",{}),k("label",{children:"Surname"}),k("br",{}),k("input",{type:"text",value:n,onChange:f=>i(f.target.value)}),k("br",{}),k("label",{children:"Email "}),k("br",{}),k("input",{type:"email",value:r,onChange:f=>o(f.target.value)}),k("br",{}),k("label",{children:"Comment "})," ",k("br",{}),k("textarea",{value:a,onChange:f=>c(f.target.value)}),k("br",{}),k("button",{type:"submit",children:"Submit"})]})}),k(or,{})]})},CV=()=>ue("div",{className:"styled",children:[ue("div",{className:"nav",children:[" ",k(Zr,{})]}),k("header",{children:k("h1",{children:"About Us"})}),ue("div",{className:"aboutUs",children:[k("p",{children:"Welcome to our quiz application! This application is designed to test your knowledge on various topics. QuizGenius is designed to test your knowledge on various topics. Our mission is to being the best app on this area"}),k("p",{children:"Founded in 2024. We started with a passion for solving questions, and our commitment to learning has been the driving force behind everything we do. Our team is occured by 3 person. We are a good team and we are in communicate all time"}),ue("p",{children:["We love hearing from our community! If you have any questions, suggestions, or just want to say hello, feel free to reach out to us at ",k("a",{href:"mailto:sahiny@email.com",children:"sahiny@email.com"})," or send your comment on the ",k("a",{href:"/contact",children:"contact "}),"page"]})]}),k(or,{})]});function $S(t,e){const n=N.useRef(e);N.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const AV=1;function RV(t){return Object.freeze({__version:AV,map:t})}function kV(t,e){return Object.freeze({...t,...e})}const jS=N.createContext(null),HS=jS.Provider;function Jg(){const t=N.useContext(jS);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function xV(t){function e(n,i){const{instance:r,context:o}=t(n).current;return N.useImperativeHandle(i,()=>r),n.children==null?null:aa.createElement(HS,{value:o},n.children)}return N.forwardRef(e)}function LV(t){function e(n,i){const[r,o]=N.useState(!1),{instance:a}=t(n,o).current;N.useImperativeHandle(i,()=>a),N.useEffect(function(){r&&a.update()},[a,r,n.children]);const c=a._contentNode;return c?PT.createPortal(n.children,c):null}return N.forwardRef(e)}function OV(t){function e(n,i){const{instance:r}=t(n).current;return N.useImperativeHandle(i,()=>r),null}return N.forwardRef(e)}function WS(t,e){const n=N.useRef();N.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Xg(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function NV(t,e){return function(i,r){const o=Jg(),a=t(Xg(i,o),o);return $S(o.map,i.attribution),WS(a.current,i.eventHandlers),e(a.current,o,i,r),a}}var zp={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(zC,function(n){var i="1.9.4";function r(s){var l,u,d,p;for(u=1,d=arguments.length;u<d;u++){p=arguments[u];for(l in p)s[l]=p[l]}return s}var o=Object.create||function(){function s(){}return function(l){return s.prototype=l,new s}}();function a(s,l){var u=Array.prototype.slice;if(s.bind)return s.bind.apply(s,u.call(arguments,1));var d=u.call(arguments,2);return function(){return s.apply(l,d.length?d.concat(u.call(arguments)):arguments)}}var c=0;function h(s){return"_leaflet_id"in s||(s._leaflet_id=++c),s._leaflet_id}function f(s,l,u){var d,p,_,T;return T=function(){d=!1,p&&(_.apply(u,p),p=!1)},_=function(){d?p=arguments:(s.apply(u,arguments),setTimeout(T,l),d=!0)},_}function m(s,l,u){var d=l[1],p=l[0],_=d-p;return s===d&&u?s:((s-p)%_+_)%_+p}function g(){return!1}function v(s,l){if(l===!1)return s;var u=Math.pow(10,l===void 0?6:l);return Math.round(s*u)/u}function I(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function P(s){return I(s).split(/\s+/)}function S(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var u in l)s.options[u]=l[u];return s.options}function R(s,l,u){var d=[];for(var p in s)d.push(encodeURIComponent(u?p.toUpperCase():p)+"="+encodeURIComponent(s[p]));return(!l||l.indexOf("?")===-1?"?":"&")+d.join("&")}var E=/\{ *([\w_ -]+) *\}/g;function y(s,l){return s.replace(E,function(u,d){var p=l[d];if(p===void 0)throw new Error("No value provided for variable "+u);return typeof p=="function"&&(p=p(l)),p})}var w=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function x(s,l){for(var u=0;u<s.length;u++)if(s[u]===l)return u;return-1}var z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function $(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var j=0;function K(s){var l=+new Date,u=Math.max(0,16-(l-j));return j=l+u,window.setTimeout(s,u)}var Ee=window.requestAnimationFrame||$("RequestAnimationFrame")||K,re=window.cancelAnimationFrame||$("CancelAnimationFrame")||$("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function Ce(s,l,u){if(u&&Ee===K)s.call(l);else return Ee.call(window,a(s,l))}function nt(s){s&&re.call(window,s)}var ar={__proto__:null,extend:r,create:o,bind:a,get lastId(){return c},stamp:h,throttle:f,wrapNum:m,falseFn:g,formatNum:v,trim:I,splitWords:P,setOptions:S,getParamString:R,template:y,isArray:w,indexOf:x,emptyImageUrl:z,requestFn:Ee,cancelFn:re,requestAnimFrame:Ce,cancelAnimFrame:nt};function Yt(){}Yt.extend=function(s){var l=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=l.__super__=this.prototype,d=o(u);d.constructor=l,l.prototype=d;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!=="prototype"&&p!=="__super__"&&(l[p]=this[p]);return s.statics&&r(l,s.statics),s.includes&&(Mh(s.includes),r.apply(null,[d].concat(s.includes))),r(d,s),delete d.statics,delete d.includes,d.options&&(d.options=u.options?o(u.options):{},r(d.options,s.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var _=0,T=d._initHooks.length;_<T;_++)d._initHooks[_].call(this)}},l},Yt.include=function(s){var l=this.prototype.options;return r(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},Yt.mergeOptions=function(s){return r(this.prototype.options,s),this},Yt.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),u=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function Mh(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=w(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ut={on:function(s,l,u){if(typeof s=="object")for(var d in s)this._on(d,s[d],l);else{s=P(s);for(var p=0,_=s.length;p<_;p++)this._on(s[p],l,u)}return this},off:function(s,l,u){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var d in s)this._off(d,s[d],l);else{s=P(s);for(var p=arguments.length===1,_=0,T=s.length;_<T;_++)p?this._off(s[_]):this._off(s[_],l,u)}return this},_on:function(s,l,u,d){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,u)===!1){u===this&&(u=void 0);var p={fn:l,ctx:u};d&&(p.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(p)}},_off:function(s,l,u){var d,p,_;if(this._events&&(d=this._events[s],!!d)){if(arguments.length===1){if(this._firingCount)for(p=0,_=d.length;p<_;p++)d[p].fn=g;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var T=this._listens(s,l,u);if(T!==!1){var C=d[T];this._firingCount&&(C.fn=g,this._events[s]=d=d.slice()),d.splice(T,1)}}},fire:function(s,l,u){if(!this.listens(s,u))return this;var d=r({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var p=this._events[s];if(p){this._firingCount=this._firingCount+1||1;for(var _=0,T=p.length;_<T;_++){var C=p[_],A=C.fn;C.once&&this.off(s,A,C.ctx),A.call(C.ctx||this,d)}this._firingCount--}}return u&&this._propagateEvent(d),this},listens:function(s,l,u,d){typeof s!="string"&&console.warn('"string" type argument expected');var p=l;typeof l!="function"&&(d=!!l,p=void 0,u=void 0);var _=this._events&&this._events[s];if(_&&_.length&&this._listens(s,p,u)!==!1)return!0;if(d){for(var T in this._eventParents)if(this._eventParents[T].listens(s,l,u,d))return!0}return!1},_listens:function(s,l,u){if(!this._events)return!1;var d=this._events[s]||[];if(!l)return!!d.length;u===this&&(u=void 0);for(var p=0,_=d.length;p<_;p++)if(d[p].fn===l&&d[p].ctx===u)return p;return!1},once:function(s,l,u){if(typeof s=="object")for(var d in s)this._on(d,s[d],l,!0);else{s=P(s);for(var p=0,_=s.length;p<_;p++)this._on(s[p],l,u,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[h(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[h(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,r({layer:s.target,propagatedFrom:s.target},s),!0)}};ut.addEventListener=ut.on,ut.removeEventListener=ut.clearAllEventListeners=ut.off,ut.addOneTimeEventListener=ut.once,ut.fireEvent=ut.fire,ut.hasEventListeners=ut.listens;var Hn=Yt.extend(ut);function M(s,l,u){this.x=u?Math.round(s):s,this.y=u?Math.round(l):l}var ne=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};M.prototype={clone:function(){return new M(this.x,this.y)},add:function(s){return this.clone()._add(U(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(U(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new M(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new M(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ne(this.x),this.y=ne(this.y),this},distanceTo:function(s){s=U(s);var l=s.x-this.x,u=s.y-this.y;return Math.sqrt(l*l+u*u)},equals:function(s){return s=U(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=U(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function U(s,l,u){return s instanceof M?s:w(s)?new M(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new M(s.x,s.y):new M(s,l,u)}function ee(s,l){if(s)for(var u=l?[s,l]:s,d=0,p=u.length;d<p;d++)this.extend(u[d])}ee.prototype={extend:function(s){var l,u;if(!s)return this;if(s instanceof M||typeof s[0]=="number"||"x"in s)l=u=U(s);else if(s=_e(s),l=s.min,u=s.max,!l||!u)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=u.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(s){return U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return U(this.min.x,this.max.y)},getTopRight:function(){return U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,u;return typeof s[0]=="number"||s instanceof M?s=U(s):s=_e(s),s instanceof ee?(l=s.min,u=s.max):l=u=s,l.x>=this.min.x&&u.x<=this.max.x&&l.y>=this.min.y&&u.y<=this.max.y},intersects:function(s){s=_e(s);var l=this.min,u=this.max,d=s.min,p=s.max,_=p.x>=l.x&&d.x<=u.x,T=p.y>=l.y&&d.y<=u.y;return _&&T},overlaps:function(s){s=_e(s);var l=this.min,u=this.max,d=s.min,p=s.max,_=p.x>l.x&&d.x<u.x,T=p.y>l.y&&d.y<u.y;return _&&T},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,u=this.max,d=Math.abs(l.x-u.x)*s,p=Math.abs(l.y-u.y)*s;return _e(U(l.x-d,l.y-p),U(u.x+d,u.y+p))},equals:function(s){return s?(s=_e(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function _e(s,l){return!s||s instanceof ee?s:new ee(s,l)}function Ye(s,l){if(s)for(var u=l?[s,l]:s,d=0,p=u.length;d<p;d++)this.extend(u[d])}Ye.prototype={extend:function(s){var l=this._southWest,u=this._northEast,d,p;if(s instanceof ye)d=s,p=s;else if(s instanceof Ye){if(d=s._southWest,p=s._northEast,!d||!p)return this}else return s?this.extend(se(s)||Pe(s)):this;return!l&&!u?(this._southWest=new ye(d.lat,d.lng),this._northEast=new ye(p.lat,p.lng)):(l.lat=Math.min(d.lat,l.lat),l.lng=Math.min(d.lng,l.lng),u.lat=Math.max(p.lat,u.lat),u.lng=Math.max(p.lng,u.lng)),this},pad:function(s){var l=this._southWest,u=this._northEast,d=Math.abs(l.lat-u.lat)*s,p=Math.abs(l.lng-u.lng)*s;return new Ye(new ye(l.lat-d,l.lng-p),new ye(u.lat+d,u.lng+p))},getCenter:function(){return new ye((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ye(this.getNorth(),this.getWest())},getSouthEast:function(){return new ye(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof ye||"lat"in s?s=se(s):s=Pe(s);var l=this._southWest,u=this._northEast,d,p;return s instanceof Ye?(d=s.getSouthWest(),p=s.getNorthEast()):d=p=s,d.lat>=l.lat&&p.lat<=u.lat&&d.lng>=l.lng&&p.lng<=u.lng},intersects:function(s){s=Pe(s);var l=this._southWest,u=this._northEast,d=s.getSouthWest(),p=s.getNorthEast(),_=p.lat>=l.lat&&d.lat<=u.lat,T=p.lng>=l.lng&&d.lng<=u.lng;return _&&T},overlaps:function(s){s=Pe(s);var l=this._southWest,u=this._northEast,d=s.getSouthWest(),p=s.getNorthEast(),_=p.lat>l.lat&&d.lat<u.lat,T=p.lng>l.lng&&d.lng<u.lng;return _&&T},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=Pe(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Pe(s,l){return s instanceof Ye?s:new Ye(s,l)}function ye(s,l,u){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,u!==void 0&&(this.alt=+u)}ye.prototype={equals:function(s,l){if(!s)return!1;s=se(s);var u=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return u<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+v(this.lat,s)+", "+v(this.lng,s)+")"},distanceTo:function(s){return gi.distance(this,se(s))},wrap:function(){return gi.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,u=l/Math.cos(Math.PI/180*this.lat);return Pe([this.lat-l,this.lng-u],[this.lat+l,this.lng+u])},clone:function(){return new ye(this.lat,this.lng,this.alt)}};function se(s,l,u){return s instanceof ye?s:w(s)&&typeof s[0]!="object"?s.length===3?new ye(s[0],s[1],s[2]):s.length===2?new ye(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new ye(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new ye(s,l,u)}var bt={latLngToPoint:function(s,l){var u=this.projection.project(s),d=this.scale(l);return this.transformation._transform(u,d)},pointToLatLng:function(s,l){var u=this.scale(l),d=this.transformation.untransform(s,u);return this.projection.unproject(d)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,u=this.scale(s),d=this.transformation.transform(l.min,u),p=this.transformation.transform(l.max,u);return new ee(d,p)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?m(s.lng,this.wrapLng,!0):s.lng,u=this.wrapLat?m(s.lat,this.wrapLat,!0):s.lat,d=s.alt;return new ye(u,l,d)},wrapLatLngBounds:function(s){var l=s.getCenter(),u=this.wrapLatLng(l),d=l.lat-u.lat,p=l.lng-u.lng;if(d===0&&p===0)return s;var _=s.getSouthWest(),T=s.getNorthEast(),C=new ye(_.lat-d,_.lng-p),A=new ye(T.lat-d,T.lng-p);return new Ye(C,A)}},gi=r({},bt,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var u=Math.PI/180,d=s.lat*u,p=l.lat*u,_=Math.sin((l.lat-s.lat)*u/2),T=Math.sin((l.lng-s.lng)*u/2),C=_*_+Math.cos(d)*Math.cos(p)*T*T,A=2*Math.atan2(Math.sqrt(C),Math.sqrt(1-C));return this.R*A}}),l_=6378137,Dh={R:l_,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,u=this.MAX_LATITUDE,d=Math.max(Math.min(u,s.lat),-u),p=Math.sin(d*l);return new M(this.R*s.lng*l,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(s){var l=180/Math.PI;return new ye((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:function(){var s=l_*Math.PI;return new ee([-s,-s],[s,s])}()};function bh(s,l,u,d){if(w(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=u,this._d=d}bh.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new M((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function uo(s,l,u,d){return new bh(s,l,u,d)}var Vh=r({},gi,{code:"EPSG:3857",projection:Dh,transformation:function(){var s=.5/(Math.PI*Dh.R);return uo(s,.5,-s,.5)}()}),pP=r({},Vh,{code:"EPSG:900913"});function u_(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function c_(s,l){var u="",d,p,_,T,C,A;for(d=0,_=s.length;d<_;d++){for(C=s[d],p=0,T=C.length;p<T;p++)A=C[p],u+=(p?"L":"M")+A.x+" "+A.y;u+=l?Z.svg?"z":"x":""}return u||"M0 0"}var Fh=document.documentElement.style,El="ActiveXObject"in window,mP=El&&!document.addEventListener,h_="msLaunchUri"in navigator&&!("documentMode"in document),zh=Sn("webkit"),d_=Sn("android"),f_=Sn("android 2")||Sn("android 3"),gP=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),_P=d_&&Sn("Google")&&gP<537&&!("AudioNode"in window),Uh=!!window.opera,p_=!h_&&Sn("chrome"),m_=Sn("gecko")&&!zh&&!Uh&&!El,vP=!p_&&Sn("safari"),g_=Sn("phantom"),__="OTransition"in Fh,yP=navigator.platform.indexOf("Win")===0,v_=El&&"transition"in Fh,Bh="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!f_,y_="MozPerspective"in Fh,wP=!window.L_DISABLE_3D&&(v_||Bh||y_)&&!__&&!g_,co=typeof orientation<"u"||Sn("mobile"),EP=co&&zh,TP=co&&Bh,w_=!window.PointerEvent&&window.MSPointerEvent,E_=!!(window.PointerEvent||w_),T_="ontouchstart"in window||!!window.TouchEvent,IP=!window.L_NO_TOUCH&&(T_||E_),SP=co&&Uh,PP=co&&m_,CP=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,AP=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",g,l),window.removeEventListener("testPassiveEventSupport",g,l)}catch{}return s}(),RP=function(){return!!document.createElement("canvas").getContext}(),$h=!!(document.createElementNS&&u_("svg").createSVGRect),kP=!!$h&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),xP=!$h&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),LP=navigator.platform.indexOf("Mac")===0,OP=navigator.platform.indexOf("Linux")===0;function Sn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Z={ie:El,ielt9:mP,edge:h_,webkit:zh,android:d_,android23:f_,androidStock:_P,opera:Uh,chrome:p_,gecko:m_,safari:vP,phantom:g_,opera12:__,win:yP,ie3d:v_,webkit3d:Bh,gecko3d:y_,any3d:wP,mobile:co,mobileWebkit:EP,mobileWebkit3d:TP,msPointer:w_,pointer:E_,touch:IP,touchNative:T_,mobileOpera:SP,mobileGecko:PP,retina:CP,passiveEvents:AP,canvas:RP,svg:$h,vml:xP,inlineSvg:kP,mac:LP,linux:OP},I_=Z.msPointer?"MSPointerDown":"pointerdown",S_=Z.msPointer?"MSPointerMove":"pointermove",P_=Z.msPointer?"MSPointerUp":"pointerup",C_=Z.msPointer?"MSPointerCancel":"pointercancel",jh={touchstart:I_,touchmove:S_,touchend:P_,touchcancel:C_},A_={touchstart:FP,touchmove:Tl,touchend:Tl,touchcancel:Tl},Gr={},R_=!1;function NP(s,l,u){return l==="touchstart"&&VP(),A_[l]?(u=A_[l].bind(this,u),s.addEventListener(jh[l],u,!1),u):(console.warn("wrong event specified:",l),g)}function MP(s,l,u){if(!jh[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(jh[l],u,!1)}function DP(s){Gr[s.pointerId]=s}function bP(s){Gr[s.pointerId]&&(Gr[s.pointerId]=s)}function k_(s){delete Gr[s.pointerId]}function VP(){R_||(document.addEventListener(I_,DP,!0),document.addEventListener(S_,bP,!0),document.addEventListener(P_,k_,!0),document.addEventListener(C_,k_,!0),R_=!0)}function Tl(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var u in Gr)l.touches.push(Gr[u]);l.changedTouches=[l],s(l)}}function FP(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&ct(l),Tl(s,l)}function zP(s){var l={},u,d;for(d in s)u=s[d],l[d]=u&&u.bind?u.bind(s):u;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var UP=200;function BP(s,l){s.addEventListener("dblclick",l);var u=0,d;function p(_){if(_.detail!==1){d=_.detail;return}if(!(_.pointerType==="mouse"||_.sourceCapabilities&&!_.sourceCapabilities.firesTouchEvents)){var T=M_(_);if(!(T.some(function(A){return A instanceof HTMLLabelElement&&A.attributes.for})&&!T.some(function(A){return A instanceof HTMLInputElement||A instanceof HTMLSelectElement}))){var C=Date.now();C-u<=UP?(d++,d===2&&l(zP(_))):d=1,u=C}}}return s.addEventListener("click",p),{dblclick:l,simDblclick:p}}function $P(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var Hh=Pl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ho=Pl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),x_=ho==="webkitTransition"||ho==="OTransition"?ho+"End":"transitionend";function L_(s){return typeof s=="string"?document.getElementById(s):s}function fo(s,l){var u=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!u||u==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(s,null);u=d?d[l]:null}return u==="auto"?null:u}function we(s,l,u){var d=document.createElement(s);return d.className=l||"",u&&u.appendChild(d),d}function De(s){var l=s.parentNode;l&&l.removeChild(s)}function Il(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Qr(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function Yr(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function Wh(s,l){if(s.classList!==void 0)return s.classList.contains(l);var u=Sl(s);return u.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(u)}function le(s,l){if(s.classList!==void 0)for(var u=P(l),d=0,p=u.length;d<p;d++)s.classList.add(u[d]);else if(!Wh(s,l)){var _=Sl(s);qh(s,(_?_+" ":"")+l)}}function $e(s,l){s.classList!==void 0?s.classList.remove(l):qh(s,I((" "+Sl(s)+" ").replace(" "+l+" "," ")))}function qh(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function Sl(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Jt(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&jP(s,l)}function jP(s,l){var u=!1,d="DXImageTransform.Microsoft.Alpha";try{u=s.filters.item(d)}catch{if(l===1)return}l=Math.round(l*100),u?(u.Enabled=l!==100,u.Opacity=l):s.style.filter+=" progid:"+d+"(opacity="+l+")"}function Pl(s){for(var l=document.documentElement.style,u=0;u<s.length;u++)if(s[u]in l)return s[u];return!1}function lr(s,l,u){var d=l||new M(0,0);s.style[Hh]=(Z.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(u?" scale("+u+")":"")}function He(s,l){s._leaflet_pos=l,Z.any3d?lr(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function ur(s){return s._leaflet_pos||new M(0,0)}var po,mo,Kh;if("onselectstart"in document)po=function(){oe(window,"selectstart",ct)},mo=function(){Ae(window,"selectstart",ct)};else{var go=Pl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);po=function(){if(go){var s=document.documentElement.style;Kh=s[go],s[go]="none"}},mo=function(){go&&(document.documentElement.style[go]=Kh,Kh=void 0)}}function Zh(){oe(window,"dragstart",ct)}function Gh(){Ae(window,"dragstart",ct)}var Cl,Qh;function Yh(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Al(),Cl=s,Qh=s.style.outlineStyle,s.style.outlineStyle="none",oe(window,"keydown",Al))}function Al(){Cl&&(Cl.style.outlineStyle=Qh,Cl=void 0,Qh=void 0,Ae(window,"keydown",Al))}function O_(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Jh(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var HP={__proto__:null,TRANSFORM:Hh,TRANSITION:ho,TRANSITION_END:x_,get:L_,getStyle:fo,create:we,remove:De,empty:Il,toFront:Qr,toBack:Yr,hasClass:Wh,addClass:le,removeClass:$e,setClass:qh,getClass:Sl,setOpacity:Jt,testProp:Pl,setTransform:lr,setPosition:He,getPosition:ur,get disableTextSelection(){return po},get enableTextSelection(){return mo},disableImageDrag:Zh,enableImageDrag:Gh,preventOutline:Yh,restoreOutline:Al,getSizedParentNode:O_,getScale:Jh};function oe(s,l,u,d){if(l&&typeof l=="object")for(var p in l)ed(s,p,l[p],u);else{l=P(l);for(var _=0,T=l.length;_<T;_++)ed(s,l[_],u,d)}return this}var Pn="_leaflet_events";function Ae(s,l,u,d){if(arguments.length===1)N_(s),delete s[Pn];else if(l&&typeof l=="object")for(var p in l)td(s,p,l[p],u);else if(l=P(l),arguments.length===2)N_(s,function(C){return x(l,C)!==-1});else for(var _=0,T=l.length;_<T;_++)td(s,l[_],u,d);return this}function N_(s,l){for(var u in s[Pn]){var d=u.split(/\d/)[0];(!l||l(d))&&td(s,d,null,null,u)}}var Xh={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ed(s,l,u,d){var p=l+h(u)+(d?"_"+h(d):"");if(s[Pn]&&s[Pn][p])return this;var _=function(C){return u.call(d||s,C||window.event)},T=_;!Z.touchNative&&Z.pointer&&l.indexOf("touch")===0?_=NP(s,l,_):Z.touch&&l==="dblclick"?_=BP(s,_):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(Xh[l]||l,_,Z.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(_=function(C){C=C||window.event,id(s,C)&&T(C)},s.addEventListener(Xh[l],_,!1)):s.addEventListener(l,T,!1):s.attachEvent("on"+l,_),s[Pn]=s[Pn]||{},s[Pn][p]=_}function td(s,l,u,d,p){p=p||l+h(u)+(d?"_"+h(d):"");var _=s[Pn]&&s[Pn][p];if(!_)return this;!Z.touchNative&&Z.pointer&&l.indexOf("touch")===0?MP(s,l,_):Z.touch&&l==="dblclick"?$P(s,_):"removeEventListener"in s?s.removeEventListener(Xh[l]||l,_,!1):s.detachEvent("on"+l,_),s[Pn][p]=null}function cr(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function nd(s){return ed(s,"wheel",cr),this}function _o(s){return oe(s,"mousedown touchstart dblclick contextmenu",cr),s._leaflet_disable_click=!0,this}function ct(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function hr(s){return ct(s),cr(s),this}function M_(s){if(s.composedPath)return s.composedPath();for(var l=[],u=s.target;u;)l.push(u),u=u.parentNode;return l}function D_(s,l){if(!l)return new M(s.clientX,s.clientY);var u=Jh(l),d=u.boundingClientRect;return new M((s.clientX-d.left)/u.x-l.clientLeft,(s.clientY-d.top)/u.y-l.clientTop)}var WP=Z.linux&&Z.chrome?window.devicePixelRatio:Z.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function b_(s){return Z.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/WP:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function id(s,l){var u=l.relatedTarget;if(!u)return!0;try{for(;u&&u!==s;)u=u.parentNode}catch{return!1}return u!==s}var qP={__proto__:null,on:oe,off:Ae,stopPropagation:cr,disableScrollPropagation:nd,disableClickPropagation:_o,preventDefault:ct,stop:hr,getPropagationPath:M_,getMousePosition:D_,getWheelDelta:b_,isExternalTarget:id,addListener:oe,removeListener:Ae},V_=Hn.extend({run:function(s,l,u,d){this.stop(),this._el=s,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=ur(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ce(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,u=this._duration*1e3;l<u?this._runFrame(this._easeOut(l/u),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var u=this._startPos.add(this._offset.multiplyBy(s));l&&u._round(),He(this._el,u),this.fire("step")},_complete:function(){nt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),pe=Hn.extend({options:{crs:Vh,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=S(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(se(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ho&&Z.any3d&&!Z.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),oe(this._proxy,x_,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,u){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(se(s),l,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=r({animate:u.animate},u.zoom),u.pan=r({animate:u.animate,duration:u.duration},u.pan));var d=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,u.zoom):this._tryAnimatedPan(s,u.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,u.pan&&u.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,u){var d=this.getZoomScale(l),p=this.getSize().divideBy(2),_=s instanceof M?s:this.latLngToContainerPoint(s),T=_.subtract(p).multiplyBy(1-1/d),C=this.containerPointToLatLng(p.add(T));return this.setView(C,l,{zoom:u})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():Pe(s);var u=U(l.paddingTopLeft||l.padding||[0,0]),d=U(l.paddingBottomRight||l.padding||[0,0]),p=this.getBoundsZoom(s,!1,u.add(d));if(p=typeof l.maxZoom=="number"?Math.min(l.maxZoom,p):p,p===1/0)return{center:s.getCenter(),zoom:p};var _=d.subtract(u).divideBy(2),T=this.project(s.getSouthWest(),p),C=this.project(s.getNorthEast(),p),A=this.unproject(T.add(C).divideBy(2).add(_),p);return{center:A,zoom:p}},fitBounds:function(s,l){if(s=Pe(s),!s.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(s,l);return this.setView(u.center,u.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=U(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new V_,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){le(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,u,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,u){if(u=u||{},u.animate===!1||!Z.any3d)return this.setView(s,l,u);this._stop();var d=this.project(this.getCenter()),p=this.project(s),_=this.getSize(),T=this._zoom;s=se(s),l=l===void 0?T:l;var C=Math.max(_.x,_.y),A=C*this.getZoomScale(T,l),D=p.distanceTo(d)||1,H=1.42,Y=H*H;function ce(We){var zl=We?-1:1,MC=We?A:C,DC=A*A-C*C+zl*Y*Y*D*D,bC=2*MC*Y*D,pd=DC/bC,_v=Math.sqrt(pd*pd+1)-pd,VC=_v<1e-9?-18:Math.log(_v);return VC}function xt(We){return(Math.exp(We)-Math.exp(-We))/2}function it(We){return(Math.exp(We)+Math.exp(-We))/2}function en(We){return xt(We)/it(We)}var Vt=ce(0);function is(We){return C*(it(Vt)/it(Vt+H*We))}function xC(We){return C*(it(Vt)*en(Vt+H*We)-xt(Vt))/Y}function LC(We){return 1-Math.pow(1-We,1.5)}var OC=Date.now(),mv=(ce(1)-Vt)/H,NC=u.duration?1e3*u.duration:1e3*mv*.8;function gv(){var We=(Date.now()-OC)/NC,zl=LC(We)*mv;We<=1?(this._flyToFrame=Ce(gv,this),this._move(this.unproject(d.add(p.subtract(d).multiplyBy(xC(zl)/D)),T),this.getScaleZoom(C/is(zl),T),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),gv.call(this),this},flyToBounds:function(s,l){var u=this._getBoundsCenterZoom(s,l);return this.flyTo(u.center,u.zoom,l)},setMaxBounds:function(s){return s=Pe(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var u=this.getCenter(),d=this._limitCenter(u,this._zoom,Pe(s));return u.equals(d)||this.panTo(d,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var u=U(l.paddingTopLeft||l.padding||[0,0]),d=U(l.paddingBottomRight||l.padding||[0,0]),p=this.project(this.getCenter()),_=this.project(s),T=this.getPixelBounds(),C=_e([T.min.add(u),T.max.subtract(d)]),A=C.getSize();if(!C.contains(_)){this._enforcingBounds=!0;var D=_.subtract(C.getCenter()),H=C.extend(_).getSize().subtract(A);p.x+=D.x<0?-H.x:H.x,p.y+=D.y<0?-H.y:H.y,this.panTo(this.unproject(p),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=r({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),d=l.divideBy(2).round(),p=u.divideBy(2).round(),_=d.subtract(p);return!_.x&&!_.y?this:(s.animate&&s.pan?this.panBy(_):(s.pan&&this._rawPanBy(_),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=r({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),u=a(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,u,s):navigator.geolocation.getCurrentPosition(l,u,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,u=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,u=s.coords.longitude,d=new ye(l,u),p=d.toBounds(s.coords.accuracy*2),_=this._locateOptions;if(_.setView){var T=this.getBoundsZoom(p);this.setView(d,_.maxZoom?Math.min(T,_.maxZoom):T)}var C={latlng:d,bounds:p,timestamp:s.timestamp};for(var A in s.coords)typeof s.coords[A]=="number"&&(C[A]=s.coords[A]);this.fire("locationfound",C)}},addHandler:function(s,l){if(!l)return this;var u=this[s]=new l(this);return this._handlers.push(u),this.options[s]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),De(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(nt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)De(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var u="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),d=we("div",u,l||this._mapPane);return s&&(this._panes[s]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),u=this.unproject(s.getTopRight());return new Ye(l,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,u){s=Pe(s),u=U(u||[0,0]);var d=this.getZoom()||0,p=this.getMinZoom(),_=this.getMaxZoom(),T=s.getNorthWest(),C=s.getSouthEast(),A=this.getSize().subtract(u),D=_e(this.project(C,d),this.project(T,d)).getSize(),H=Z.any3d?this.options.zoomSnap:1,Y=A.x/D.x,ce=A.y/D.y,xt=l?Math.max(Y,ce):Math.min(Y,ce);return d=this.getScaleZoom(xt,d),H&&(d=Math.round(d/(H/100))*(H/100),d=l?Math.ceil(d/H)*H:Math.floor(d/H)*H),Math.max(p,Math.min(_,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new M(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var u=this._getTopLeftPoint(s,l);return new ee(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var u=this.options.crs;return l=l===void 0?this._zoom:l,u.scale(s)/u.scale(l)},getScaleZoom:function(s,l){var u=this.options.crs;l=l===void 0?this._zoom:l;var d=u.zoom(s*u.scale(l));return isNaN(d)?1/0:d},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(se(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(U(s),l)},layerPointToLatLng:function(s){var l=U(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(se(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(se(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Pe(s))},distance:function(s,l){return this.options.crs.distance(se(s),se(l))},containerPointToLayerPoint:function(s){return U(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return U(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(U(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(se(s)))},mouseEventToContainerPoint:function(s){return D_(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=L_(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");oe(l,"scroll",this._onScroll,this),this._containerId=h(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Z.any3d,le(s,"leaflet-container"+(Z.touch?" leaflet-touch":"")+(Z.retina?" leaflet-retina":"")+(Z.ielt9?" leaflet-oldie":"")+(Z.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=fo(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),He(this._mapPane,new M(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(le(s.markerPane,"leaflet-zoom-hide"),le(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,u){He(this._mapPane,new M(0,0));var d=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var p=this._zoom!==l;this._moveStart(p,u)._move(s,l)._moveEnd(p),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,u,d){l===void 0&&(l=this._zoom);var p=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),d?u&&u.pinch&&this.fire("zoom",u):((p||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return nt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){He(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[h(this._container)]=this;var l=s?Ae:oe;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Z.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){nt(this._resizeRequest),this._resizeRequest=Ce(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var u=[],d,p=l==="mouseout"||l==="mouseover",_=s.target||s.srcElement,T=!1;_;){if(d=this._targets[h(_)],d&&(l==="click"||l==="preclick")&&this._draggableMoved(d)){T=!0;break}if(d&&d.listens(l,!0)&&(p&&!id(_,s)||(u.push(d),p))||_===this._container)break;_=_.parentNode}return!u.length&&!T&&!p&&this.listens(l,!0)&&(u=[this]),u},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var u=s.type;u==="mousedown"&&Yh(l),this._fireDOMEvent(s,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,u){if(s.type==="click"){var d=r({},s);d.type="preclick",this._fireDOMEvent(d,d.type,u)}var p=this._findEventTargets(s,l);if(u){for(var _=[],T=0;T<u.length;T++)u[T].listens(l,!0)&&_.push(u[T]);p=_.concat(p)}if(p.length){l==="contextmenu"&&ct(s);var C=p[0],A={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var D=C.getLatLng&&(!C._radius||C._radius<=10);A.containerPoint=D?this.latLngToContainerPoint(C.getLatLng()):this.mouseEventToContainerPoint(s),A.layerPoint=this.containerPointToLayerPoint(A.containerPoint),A.latlng=D?C.getLatLng():this.layerPointToLatLng(A.layerPoint)}for(T=0;T<p.length;T++)if(p[T].fire(l,A,!0),A.originalEvent._stopped||p[T].options.bubblingMouseEvents===!1&&x(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return ur(this._mapPane)||new M(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var u=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var u=this.getSize()._divideBy(2);return this.project(s,l)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,u){var d=this._getNewPixelOrigin(u,l);return this.project(s,l)._subtract(d)},_latLngBoundsToNewLayerBounds:function(s,l,u){var d=this._getNewPixelOrigin(u,l);return _e([this.project(s.getSouthWest(),l)._subtract(d),this.project(s.getNorthWest(),l)._subtract(d),this.project(s.getSouthEast(),l)._subtract(d),this.project(s.getNorthEast(),l)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,u){if(!u)return s;var d=this.project(s,l),p=this.getSize().divideBy(2),_=new ee(d.subtract(p),d.add(p)),T=this._getBoundsOffset(_,u,l);return Math.abs(T.x)<=1&&Math.abs(T.y)<=1?s:this.unproject(d.add(T),l)},_limitOffset:function(s,l){if(!l)return s;var u=this.getPixelBounds(),d=new ee(u.min.add(s),u.max.add(s));return s.add(this._getBoundsOffset(d,l))},_getBoundsOffset:function(s,l,u){var d=_e(this.project(l.getNorthEast(),u),this.project(l.getSouthWest(),u)),p=d.min.subtract(s.min),_=d.max.subtract(s.max),T=this._rebound(p.x,-_.x),C=this._rebound(p.y,-_.y);return new M(T,C)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),u=this.getMaxZoom(),d=Z.any3d?this.options.zoomSnap:1;return d&&(s=Math.round(s/d)*d),Math.max(l,Math.min(u,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){$e(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var u=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,l),!0)},_createAnimProxy:function(){var s=this._proxy=we("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var u=Hh,d=this._proxy.style[u];lr(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),d===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){De(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();lr(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(l),p=this._getCenterOffset(s)._divideBy(1-1/d);return u.animate!==!0&&!this.getSize().contains(p)?!1:(Ce(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,u,d){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,le(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&$e(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function KP(s,l){return new pe(s,l)}var hn=Yt.extend({options:{position:"topright"},initialize:function(s){S(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),u=this.getPosition(),d=s._controlCorners[u];return le(l,"leaflet-control"),u.indexOf("bottom")!==-1?d.insertBefore(l,d.firstChild):d.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(De(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),vo=function(s){return new hn(s)};pe.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",u=this._controlContainer=we("div",l+"control-container",this._container);function d(p,_){var T=l+p+" "+l+_;s[p+_]=we("div",T,u)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)De(this._controlCorners[s]);De(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var F_=hn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,u,d){return u<d?-1:d<u?1:0}},initialize:function(s,l,u){S(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in s)this._addLayer(s[d],d);for(d in l)this._addLayer(l[d],d,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return hn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(h(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){le(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(le(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):$e(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return $e(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=we("div",s),u=this.options.collapsed;l.setAttribute("aria-haspopup",!0),_o(l),nd(l);var d=this._section=we("section",s+"-list");u&&(this._map.on("click",this.collapse,this),oe(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var p=this._layersLink=we("a",s+"-toggle",l);p.href="#",p.title="Layers",p.setAttribute("role","button"),oe(p,{keydown:function(_){_.keyCode===13&&this._expandSafely()},click:function(_){ct(_),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=we("div",s+"-base",d),this._separator=we("div",s+"-separator",d),this._overlaysList=we("div",s+"-overlays",d),l.appendChild(d)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&h(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,u){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:u}),this.options.sortLayers&&this._layers.sort(a(function(d,p){return this.options.sortFunction(d.layer,p.layer,d.name,p.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Il(this._baseLayersList),Il(this._overlaysList),this._layerControlInputs=[];var s,l,u,d,p=0;for(u=0;u<this._layers.length;u++)d=this._layers[u],this._addItem(d),l=l||d.overlay,s=s||!d.overlay,p+=d.overlay?0:1;return this.options.hideSingleBase&&(s=s&&p>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(h(s.target)),u=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;u&&this._map.fire(u,l)},_createRadioElement:function(s,l){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=u,d.firstChild},_addItem:function(s){var l=document.createElement("label"),u=this._map.hasLayer(s.layer),d;s.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=u):d=this._createRadioElement("leaflet-base-layers_"+h(this),u),this._layerControlInputs.push(d),d.layerId=h(s.layer),oe(d,"click",this._onInputClick,this);var p=document.createElement("span");p.innerHTML=" "+s.name;var _=document.createElement("span");l.appendChild(_),_.appendChild(d),_.appendChild(p);var T=s.overlay?this._overlaysList:this._baseLayersList;return T.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,u,d=[],p=[];this._handlingClick=!0;for(var _=s.length-1;_>=0;_--)l=s[_],u=this._getLayer(l.layerId).layer,l.checked?d.push(u):l.checked||p.push(u);for(_=0;_<p.length;_++)this._map.hasLayer(p[_])&&this._map.removeLayer(p[_]);for(_=0;_<d.length;_++)this._map.hasLayer(d[_])||this._map.addLayer(d[_]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,u,d=this._map.getZoom(),p=s.length-1;p>=0;p--)l=s[p],u=this._getLayer(l.layerId).layer,l.disabled=u.options.minZoom!==void 0&&d<u.options.minZoom||u.options.maxZoom!==void 0&&d>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,oe(s,"click",ct),this.expand();var l=this;setTimeout(function(){Ae(s,"click",ct),l._preventClick=!1})}}),ZP=function(s,l,u){return new F_(s,l,u)},rd=hn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",u=we("div",l+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,l+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,l+"-out",u,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,u,d,p){var _=we("a",u,d);return _.innerHTML=s,_.href="#",_.title=l,_.setAttribute("role","button"),_.setAttribute("aria-label",l),_o(_),oe(_,"click",hr),oe(_,"click",p,this),oe(_,"click",this._refocusOnMap,this),_},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";$e(this._zoomInButton,l),$e(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(le(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(le(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});pe.mergeOptions({zoomControl:!0}),pe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new rd,this.addControl(this.zoomControl))});var GP=function(s){return new rd(s)},z_=hn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",u=we("div",l),d=this.options;return this._addScales(d,l+"-line",u),s.on(d.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),u},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,u){s.metric&&(this._mScale=we("div",l,u)),s.imperial&&(this._iScale=we("div",l,u))},_update:function(){var s=this._map,l=s.getSize().y/2,u=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(u)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),u=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,u,l/s)},_updateImperial:function(s){var l=s*3.2808399,u,d,p;l>5280?(u=l/5280,d=this._getRoundNum(u),this._updateScale(this._iScale,d+" mi",d/u)):(p=this._getRoundNum(l),this._updateScale(this._iScale,p+" ft",p/l))},_updateScale:function(s,l,u){s.style.width=Math.round(this.options.maxWidth*u)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),u=s/l;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,l*u}}),QP=function(s){return new z_(s)},YP='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',sd=hn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Z.inlineSvg?YP+" ":"")+"Leaflet</a>"},initialize:function(s){S(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=we("div","leaflet-control-attribution"),_o(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var u=[];this.options.prefix&&u.push(this.options.prefix),s.length&&u.push(s.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});pe.mergeOptions({attributionControl:!0}),pe.addInitHook(function(){this.options.attributionControl&&new sd().addTo(this)});var JP=function(s){return new sd(s)};hn.Layers=F_,hn.Zoom=rd,hn.Scale=z_,hn.Attribution=sd,vo.layers=ZP,vo.zoom=GP,vo.scale=QP,vo.attribution=JP;var Cn=Yt.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Cn.addTo=function(s,l){return s.addHandler(l,this),this};var XP={Events:ut},U_=Z.touch?"touchstart mousedown":"mousedown",_i=Hn.extend({options:{clickTolerance:3},initialize:function(s,l,u,d){S(this,d),this._element=s,this._dragStartTarget=l||s,this._preventOutline=u},enable:function(){this._enabled||(oe(this._dragStartTarget,U_,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(_i._dragging===this&&this.finishDrag(!0),Ae(this._dragStartTarget,U_,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Wh(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){_i._dragging===this&&this.finishDrag();return}if(!(_i._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(_i._dragging=this,this._preventOutline&&Yh(this._element),Zh(),po(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,u=O_(this._element);this._startPoint=new M(l.clientX,l.clientY),this._startPos=ur(this._element),this._parentScale=Jh(u);var d=s.type==="mousedown";oe(document,d?"mousemove":"touchmove",this._onMove,this),oe(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,u=new M(l.clientX,l.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,ct(s),this._moved||(this.fire("dragstart"),this._moved=!0,le(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),le(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),He(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){$e(document.body,"leaflet-dragging"),this._lastTarget&&($e(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ae(document,"mousemove touchmove",this._onMove,this),Ae(document,"mouseup touchend touchcancel",this._onUp,this),Gh(),mo();var l=this._moved&&this._moving;this._moving=!1,_i._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function B_(s,l,u){var d,p=[1,4,2,8],_,T,C,A,D,H,Y,ce;for(_=0,H=s.length;_<H;_++)s[_]._code=dr(s[_],l);for(C=0;C<4;C++){for(Y=p[C],d=[],_=0,H=s.length,T=H-1;_<H;T=_++)A=s[_],D=s[T],A._code&Y?D._code&Y||(ce=Rl(D,A,Y,l,u),ce._code=dr(ce,l),d.push(ce)):(D._code&Y&&(ce=Rl(D,A,Y,l,u),ce._code=dr(ce,l),d.push(ce)),d.push(A));s=d}return s}function $_(s,l){var u,d,p,_,T,C,A,D,H;if(!s||s.length===0)throw new Error("latlngs not passed");Xt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Y=se([0,0]),ce=Pe(s),xt=ce.getNorthWest().distanceTo(ce.getSouthWest())*ce.getNorthEast().distanceTo(ce.getNorthWest());xt<1700&&(Y=od(s));var it=s.length,en=[];for(u=0;u<it;u++){var Vt=se(s[u]);en.push(l.project(se([Vt.lat-Y.lat,Vt.lng-Y.lng])))}for(C=A=D=0,u=0,d=it-1;u<it;d=u++)p=en[u],_=en[d],T=p.y*_.x-_.y*p.x,A+=(p.x+_.x)*T,D+=(p.y+_.y)*T,C+=T*3;C===0?H=en[0]:H=[A/C,D/C];var is=l.unproject(U(H));return se([is.lat+Y.lat,is.lng+Y.lng])}function od(s){for(var l=0,u=0,d=0,p=0;p<s.length;p++){var _=se(s[p]);l+=_.lat,u+=_.lng,d++}return se([l/d,u/d])}var eC={__proto__:null,clipPolygon:B_,polygonCenter:$_,centroid:od};function j_(s,l){if(!l||!s.length)return s.slice();var u=l*l;return s=iC(s,u),s=nC(s,u),s}function H_(s,l,u){return Math.sqrt(yo(s,l,u,!0))}function tC(s,l,u){return yo(s,l,u)}function nC(s,l){var u=s.length,d=typeof Uint8Array!=void 0+""?Uint8Array:Array,p=new d(u);p[0]=p[u-1]=1,ad(s,p,l,0,u-1);var _,T=[];for(_=0;_<u;_++)p[_]&&T.push(s[_]);return T}function ad(s,l,u,d,p){var _=0,T,C,A;for(C=d+1;C<=p-1;C++)A=yo(s[C],s[d],s[p],!0),A>_&&(T=C,_=A);_>u&&(l[T]=1,ad(s,l,u,d,T),ad(s,l,u,T,p))}function iC(s,l){for(var u=[s[0]],d=1,p=0,_=s.length;d<_;d++)rC(s[d],s[p])>l&&(u.push(s[d]),p=d);return p<_-1&&u.push(s[_-1]),u}var W_;function q_(s,l,u,d,p){var _=d?W_:dr(s,u),T=dr(l,u),C,A,D;for(W_=T;;){if(!(_|T))return[s,l];if(_&T)return!1;C=_||T,A=Rl(s,l,C,u,p),D=dr(A,u),C===_?(s=A,_=D):(l=A,T=D)}}function Rl(s,l,u,d,p){var _=l.x-s.x,T=l.y-s.y,C=d.min,A=d.max,D,H;return u&8?(D=s.x+_*(A.y-s.y)/T,H=A.y):u&4?(D=s.x+_*(C.y-s.y)/T,H=C.y):u&2?(D=A.x,H=s.y+T*(A.x-s.x)/_):u&1&&(D=C.x,H=s.y+T*(C.x-s.x)/_),new M(D,H,p)}function dr(s,l){var u=0;return s.x<l.min.x?u|=1:s.x>l.max.x&&(u|=2),s.y<l.min.y?u|=4:s.y>l.max.y&&(u|=8),u}function rC(s,l){var u=l.x-s.x,d=l.y-s.y;return u*u+d*d}function yo(s,l,u,d){var p=l.x,_=l.y,T=u.x-p,C=u.y-_,A=T*T+C*C,D;return A>0&&(D=((s.x-p)*T+(s.y-_)*C)/A,D>1?(p=u.x,_=u.y):D>0&&(p+=T*D,_+=C*D)),T=s.x-p,C=s.y-_,d?T*T+C*C:new M(p,_)}function Xt(s){return!w(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function K_(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Xt(s)}function Z_(s,l){var u,d,p,_,T,C,A,D;if(!s||s.length===0)throw new Error("latlngs not passed");Xt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var H=se([0,0]),Y=Pe(s),ce=Y.getNorthWest().distanceTo(Y.getSouthWest())*Y.getNorthEast().distanceTo(Y.getNorthWest());ce<1700&&(H=od(s));var xt=s.length,it=[];for(u=0;u<xt;u++){var en=se(s[u]);it.push(l.project(se([en.lat-H.lat,en.lng-H.lng])))}for(u=0,d=0;u<xt-1;u++)d+=it[u].distanceTo(it[u+1])/2;if(d===0)D=it[0];else for(u=0,_=0;u<xt-1;u++)if(T=it[u],C=it[u+1],p=T.distanceTo(C),_+=p,_>d){A=(_-d)/p,D=[C.x-A*(C.x-T.x),C.y-A*(C.y-T.y)];break}var Vt=l.unproject(U(D));return se([Vt.lat+H.lat,Vt.lng+H.lng])}var sC={__proto__:null,simplify:j_,pointToSegmentDistance:H_,closestPointOnSegment:tC,clipSegment:q_,_getEdgeIntersection:Rl,_getBitCode:dr,_sqClosestPointOnSegment:yo,isFlat:Xt,_flat:K_,polylineCenter:Z_},ld={project:function(s){return new M(s.lng,s.lat)},unproject:function(s){return new ye(s.y,s.x)},bounds:new ee([-180,-90],[180,90])},ud={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,u=this.R,d=s.lat*l,p=this.R_MINOR/u,_=Math.sqrt(1-p*p),T=_*Math.sin(d),C=Math.tan(Math.PI/4-d/2)/Math.pow((1-T)/(1+T),_/2);return d=-u*Math.log(Math.max(C,1e-10)),new M(s.lng*l*u,d)},unproject:function(s){for(var l=180/Math.PI,u=this.R,d=this.R_MINOR/u,p=Math.sqrt(1-d*d),_=Math.exp(-s.y/u),T=Math.PI/2-2*Math.atan(_),C=0,A=.1,D;C<15&&Math.abs(A)>1e-7;C++)D=p*Math.sin(T),D=Math.pow((1-D)/(1+D),p/2),A=Math.PI/2-2*Math.atan(_*D)-T,T+=A;return new ye(T*l,s.x*l/u)}},oC={__proto__:null,LonLat:ld,Mercator:ud,SphericalMercator:Dh},aC=r({},gi,{code:"EPSG:3395",projection:ud,transformation:function(){var s=.5/(Math.PI*ud.R);return uo(s,.5,-s,.5)}()}),G_=r({},gi,{code:"EPSG:4326",projection:ld,transformation:uo(1/180,1,-1/180,.5)}),lC=r({},bt,{projection:ld,transformation:uo(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var u=l.lng-s.lng,d=l.lat-s.lat;return Math.sqrt(u*u+d*d)},infinite:!0});bt.Earth=gi,bt.EPSG3395=aC,bt.EPSG3857=Vh,bt.EPSG900913=pP,bt.EPSG4326=G_,bt.Simple=lC;var dn=Hn.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[h(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[h(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var u=this.getEvents();l.on(u,this),this.once("remove",function(){l.off(u,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});pe.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=h(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=h(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return h(s)in this._layers},eachLayer:function(s,l){for(var u in this._layers)s.call(l,this._layers[u]);return this},_addLayers:function(s){s=s?w(s)?s:[s]:[];for(var l=0,u=s.length;l<u;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[h(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=h(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,u=this._getZoomSpan();for(var d in this._zoomBoundLayers){var p=this._zoomBoundLayers[d].options;s=p.minZoom===void 0?s:Math.min(s,p.minZoom),l=p.maxZoom===void 0?l:Math.max(l,p.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Jr=dn.extend({initialize:function(s,l){S(this,l),this._layers={};var u,d;if(s)for(u=0,d=s.length;u<d;u++)this.addLayer(s[u])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),u,d;for(u in this._layers)d=this._layers[u],d[s]&&d[s].apply(d,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var u in this._layers)s.call(l,this._layers[u]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return h(s)}}),uC=function(s,l){return new Jr(s,l)},Wn=Jr.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Jr.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Jr.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Ye;for(var l in this._layers){var u=this._layers[l];s.extend(u.getBounds?u.getBounds():u.getLatLng())}return s}}),cC=function(s,l){return new Wn(s,l)},Xr=Yt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){S(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var u=this._getIconUrl(s);if(!u){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(u,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(d,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(s,l){var u=this.options,d=u[l+"Size"];typeof d=="number"&&(d=[d,d]);var p=U(d),_=U(l==="shadow"&&u.shadowAnchor||u.iconAnchor||p&&p.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(u.className||""),_&&(s.style.marginLeft=-_.x+"px",s.style.marginTop=-_.y+"px"),p&&(s.style.width=p.x+"px",s.style.height=p.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return Z.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function hC(s){return new Xr(s)}var wo=Xr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof wo.imagePath!="string"&&(wo.imagePath=this._detectIconPath()),(this.options.imagePath||wo.imagePath)+Xr.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(u,d,p){var _=d.exec(u);return _&&_[p]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=we("div","leaflet-default-icon-path",document.body),l=fo(s,"background-image")||fo(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),Q_=Cn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new _i(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),le(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&$e(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,u=l._map,d=this._marker.options.autoPanSpeed,p=this._marker.options.autoPanPadding,_=ur(l._icon),T=u.getPixelBounds(),C=u.getPixelOrigin(),A=_e(T.min._subtract(C).add(p),T.max._subtract(C).subtract(p));if(!A.contains(_)){var D=U((Math.max(A.max.x,_.x)-A.max.x)/(T.max.x-A.max.x)-(Math.min(A.min.x,_.x)-A.min.x)/(T.min.x-A.min.x),(Math.max(A.max.y,_.y)-A.max.y)/(T.max.y-A.max.y)-(Math.min(A.min.y,_.y)-A.min.y)/(T.min.y-A.min.y)).multiplyBy(d);u.panBy(D,{animate:!1}),this._draggable._newPos._add(D),this._draggable._startPos._add(D),He(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=Ce(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(nt(this._panRequest),this._panRequest=Ce(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,u=l._shadow,d=ur(l._icon),p=l._map.layerPointToLatLng(d);u&&He(u,d),l._latlng=p,s.latlng=p,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){nt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),kl=dn.extend({options:{icon:new wo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){S(this,l),this._latlng=se(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=se(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=s.icon.createIcon(this._icon),d=!1;u!==this._icon&&(this._icon&&this._removeIcon(),d=!0,s.title&&(u.title=s.title),u.tagName==="IMG"&&(u.alt=s.alt||"")),le(u,l),s.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&oe(u,"focus",this._panOnFocus,this);var p=s.icon.createShadow(this._shadow),_=!1;p!==this._shadow&&(this._removeShadow(),_=!0),p&&(le(p,l),p.alt=""),this._shadow=p,s.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),p&&_&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ae(this._icon,"focus",this._panOnFocus,this),De(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&De(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&He(this._icon,s),this._shadow&&He(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(le(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Q_)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Q_(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Jt(this._icon,s),this._shadow&&Jt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,u=l.iconSize?U(l.iconSize):U(0,0),d=l.iconAnchor?U(l.iconAnchor):U(0,0);s.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:u.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function dC(s,l){return new kl(s,l)}var vi=dn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return S(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),xl=vi.extend({options:{fill:!0,radius:10},initialize:function(s,l){S(this,l),this._latlng=se(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=se(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return vi.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,u=this._clickTolerance(),d=[s+u,l+u];this._pxBounds=new ee(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function fC(s,l){return new xl(s,l)}var cd=xl.extend({initialize:function(s,l,u){if(typeof l=="number"&&(l=r({},u,{radius:l})),S(this,l),this._latlng=se(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Ye(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:vi.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,u=this._map,d=u.options.crs;if(d.distance===gi.distance){var p=Math.PI/180,_=this._mRadius/gi.R/p,T=u.project([l+_,s]),C=u.project([l-_,s]),A=T.add(C).divideBy(2),D=u.unproject(A).lat,H=Math.acos((Math.cos(_*p)-Math.sin(l*p)*Math.sin(D*p))/(Math.cos(l*p)*Math.cos(D*p)))/p;(isNaN(H)||H===0)&&(H=_/Math.cos(Math.PI/180*l)),this._point=A.subtract(u.getPixelOrigin()),this._radius=isNaN(H)?0:A.x-u.project([D,s-H]).x,this._radiusY=A.y-T.y}else{var Y=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(Y).x}this._updateBounds()}});function pC(s,l,u){return new cd(s,l,u)}var qn=vi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){S(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,u=null,d=yo,p,_,T=0,C=this._parts.length;T<C;T++)for(var A=this._parts[T],D=1,H=A.length;D<H;D++){p=A[D-1],_=A[D];var Y=d(s,p,_,!0);Y<l&&(l=Y,u=d(s,p,_))}return u&&(u.distance=Math.sqrt(l)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Z_(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=se(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Ye,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Xt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],u=Xt(s),d=0,p=s.length;d<p;d++)u?(l[d]=se(s[d]),this._bounds.extend(l[d])):l[d]=this._convertLatLngs(s[d]);return l},_project:function(){var s=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new M(s,s);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,u){var d=s[0]instanceof ye,p=s.length,_,T;if(d){for(T=[],_=0;_<p;_++)T[_]=this._map.latLngToLayerPoint(s[_]),u.extend(T[_]);l.push(T)}else for(_=0;_<p;_++)this._projectLatlngs(s[_],l,u)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,u,d,p,_,T,C,A;for(u=0,p=0,_=this._rings.length;u<_;u++)for(A=this._rings[u],d=0,T=A.length;d<T-1;d++)C=q_(A[d],A[d+1],s,d,!0),C&&(l[p]=l[p]||[],l[p].push(C[0]),(C[1]!==A[d+1]||d===T-2)&&(l[p].push(C[1]),p++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,u=0,d=s.length;u<d;u++)s[u]=j_(s[u],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var u,d,p,_,T,C,A=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(u=0,_=this._parts.length;u<_;u++)for(C=this._parts[u],d=0,T=C.length,p=T-1;d<T;p=d++)if(!(!l&&d===0)&&H_(s,C[p],C[d])<=A)return!0;return!1}});function mC(s,l){return new qn(s,l)}qn._flat=K_;var es=qn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $_(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=qn.prototype._convertLatLngs.call(this,s),u=l.length;return u>=2&&l[0]instanceof ye&&l[0].equals(l[u-1])&&l.pop(),l},_setLatLngs:function(s){qn.prototype._setLatLngs.call(this,s),Xt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Xt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,u=new M(l,l);if(s=new ee(s.min.subtract(u),s.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,p=this._rings.length,_;d<p;d++)_=B_(this._rings[d],s,!0),_.length&&this._parts.push(_)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,u,d,p,_,T,C,A,D;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(_=0,A=this._parts.length;_<A;_++)for(u=this._parts[_],T=0,D=u.length,C=D-1;T<D;C=T++)d=u[T],p=u[C],d.y>s.y!=p.y>s.y&&s.x<(p.x-d.x)*(s.y-d.y)/(p.y-d.y)+d.x&&(l=!l);return l||qn.prototype._containsPoint.call(this,s,!0)}});function gC(s,l){return new es(s,l)}var Kn=Wn.extend({initialize:function(s,l){S(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=w(s)?s:s.features,u,d,p;if(l){for(u=0,d=l.length;u<d;u++)p=l[u],(p.geometries||p.geometry||p.features||p.coordinates)&&this.addData(p);return this}var _=this.options;if(_.filter&&!_.filter(s))return this;var T=Ll(s,_);return T?(T.feature=Ml(s),T.defaultOptions=T.options,this.resetStyle(T),_.onEachFeature&&_.onEachFeature(s,T),this.addLayer(T)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=r({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function Ll(s,l){var u=s.type==="Feature"?s.geometry:s,d=u?u.coordinates:null,p=[],_=l&&l.pointToLayer,T=l&&l.coordsToLatLng||hd,C,A,D,H;if(!d&&!u)return null;switch(u.type){case"Point":return C=T(d),Y_(_,s,C,l);case"MultiPoint":for(D=0,H=d.length;D<H;D++)C=T(d[D]),p.push(Y_(_,s,C,l));return new Wn(p);case"LineString":case"MultiLineString":return A=Ol(d,u.type==="LineString"?0:1,T),new qn(A,l);case"Polygon":case"MultiPolygon":return A=Ol(d,u.type==="Polygon"?1:2,T),new es(A,l);case"GeometryCollection":for(D=0,H=u.geometries.length;D<H;D++){var Y=Ll({geometry:u.geometries[D],type:"Feature",properties:s.properties},l);Y&&p.push(Y)}return new Wn(p);case"FeatureCollection":for(D=0,H=u.features.length;D<H;D++){var ce=Ll(u.features[D],l);ce&&p.push(ce)}return new Wn(p);default:throw new Error("Invalid GeoJSON object.")}}function Y_(s,l,u,d){return s?s(l,u):new kl(u,d&&d.markersInheritOptions&&d)}function hd(s){return new ye(s[1],s[0],s[2])}function Ol(s,l,u){for(var d=[],p=0,_=s.length,T;p<_;p++)T=l?Ol(s[p],l-1,u):(u||hd)(s[p]),d.push(T);return d}function dd(s,l){return s=se(s),s.alt!==void 0?[v(s.lng,l),v(s.lat,l),v(s.alt,l)]:[v(s.lng,l),v(s.lat,l)]}function Nl(s,l,u,d){for(var p=[],_=0,T=s.length;_<T;_++)p.push(l?Nl(s[_],Xt(s[_])?0:l-1,u,d):dd(s[_],d));return!l&&u&&p.length>0&&p.push(p[0].slice()),p}function ts(s,l){return s.feature?r({},s.feature,{geometry:l}):Ml(l)}function Ml(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var fd={toGeoJSON:function(s){return ts(this,{type:"Point",coordinates:dd(this.getLatLng(),s)})}};kl.include(fd),cd.include(fd),xl.include(fd),qn.include({toGeoJSON:function(s){var l=!Xt(this._latlngs),u=Nl(this._latlngs,l?1:0,!1,s);return ts(this,{type:(l?"Multi":"")+"LineString",coordinates:u})}}),es.include({toGeoJSON:function(s){var l=!Xt(this._latlngs),u=l&&!Xt(this._latlngs[0]),d=Nl(this._latlngs,u?2:l?1:0,!0,s);return l||(d=[d]),ts(this,{type:(u?"Multi":"")+"Polygon",coordinates:d})}}),Jr.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(u){l.push(u.toGeoJSON(s).geometry.coordinates)}),ts(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var u=l==="GeometryCollection",d=[];return this.eachLayer(function(p){if(p.toGeoJSON){var _=p.toGeoJSON(s);if(u)d.push(_.geometry);else{var T=Ml(_);T.type==="FeatureCollection"?d.push.apply(d,T.features):d.push(T)}}}),u?ts(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function J_(s,l){return new Kn(s,l)}var _C=J_,Dl=dn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,u){this._url=s,this._bounds=Pe(l),S(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(le(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){De(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Qr(this._image),this},bringToBack:function(){return this._map&&Yr(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Pe(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:we("img");if(le(l,"leaflet-image-layer"),this._zoomAnimated&&le(l,"leaflet-zoom-animated"),this.options.className&&le(l,this.options.className),l.onselectstart=g,l.onmousemove=g,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;lr(this._image,u,l)},_reset:function(){var s=this._image,l=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=l.getSize();He(s,l.min),s.style.width=u.x+"px",s.style.height=u.y+"px"},_updateOpacity:function(){Jt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),vC=function(s,l,u){return new Dl(s,l,u)},X_=Dl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:we("video");if(le(l,"leaflet-image-layer"),this._zoomAnimated&&le(l,"leaflet-zoom-animated"),this.options.className&&le(l,this.options.className),l.onselectstart=g,l.onmousemove=g,l.onloadeddata=a(this.fire,this,"load"),s){for(var u=l.getElementsByTagName("source"),d=[],p=0;p<u.length;p++)d.push(u[p].src);this._url=u.length>0?d:[l.src];return}w(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var _=0;_<this._url.length;_++){var T=we("source");T.src=this._url[_],l.appendChild(T)}}});function yC(s,l,u){return new X_(s,l,u)}var ev=Dl.extend({_initImage:function(){var s=this._image=this._url;le(s,"leaflet-image-layer"),this._zoomAnimated&&le(s,"leaflet-zoom-animated"),this.options.className&&le(s,this.options.className),s.onselectstart=g,s.onmousemove=g}});function wC(s,l,u){return new ev(s,l,u)}var An=dn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof ye||w(s))?(this._latlng=se(s),S(this,l)):(S(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Jt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Jt(this._container,1),this.bringToFront(),this.options.interactive&&(le(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Jt(this._container,0),this._removeTimeout=setTimeout(a(De,void 0,this._container),200)):De(this._container),this.options.interactive&&($e(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=se(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Qr(this._container),this},bringToBack:function(){return this._map&&Yr(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof Wn){l=null;var u=this._source._layers;for(var d in u)if(u[d]._map){l=u[d];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=U(this.options.offset),u=this._getAnchor();this._zoomAnimated?He(this._container,s.add(u)):l=l.add(s).add(u);var d=this._containerBottom=-l.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=d+"px",this._container.style.left=p+"px"}},_getAnchor:function(){return[0,0]}});pe.include({_initOverlay:function(s,l,u,d){var p=l;return p instanceof s||(p=new s(d).setContent(l)),u&&p.setLatLng(u),p}}),dn.include({_initOverlay:function(s,l,u,d){var p=u;return p instanceof s?(S(p,d),p._source=this):(p=l&&!d?l:new s(d,this),p.setContent(u)),p}});var bl=An.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,An.prototype.openOn.call(this,s)},onAdd:function(s){An.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof vi||this._source.on("preclick",cr))},onRemove:function(s){An.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof vi||this._source.off("preclick",cr))},getEvents:function(){var s=An.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=we("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=we("div",s+"-content-wrapper",l);if(this._contentNode=we("div",s+"-content",u),_o(l),nd(this._contentNode),oe(l,"contextmenu",cr),this._tipContainer=we("div",s+"-tip-container",l),this._tip=we("div",s+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=we("a",s+"-close-button",l);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',oe(d,"click",function(p){ct(p),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var u=s.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),l.width=u+1+"px",l.whiteSpace="",l.height="";var d=s.offsetHeight,p=this.options.maxHeight,_="leaflet-popup-scrolled";p&&d>p?(l.height=p+"px",le(s,_)):$e(s,_),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),u=this._getAnchor();He(this._container,l.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(fo(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+l,d=this._containerWidth,p=new M(this._containerLeft,-u-this._containerBottom);p._add(ur(this._container));var _=s.layerPointToContainerPoint(p),T=U(this.options.autoPanPadding),C=U(this.options.autoPanPaddingTopLeft||T),A=U(this.options.autoPanPaddingBottomRight||T),D=s.getSize(),H=0,Y=0;_.x+d+A.x>D.x&&(H=_.x+d-D.x+A.x),_.x-H-C.x<0&&(H=_.x-C.x),_.y+u+A.y>D.y&&(Y=_.y+u-D.y+A.y),_.y-Y-C.y<0&&(Y=_.y-C.y),(H||Y)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([H,Y]))}},_getAnchor:function(){return U(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),EC=function(s,l){return new bl(s,l)};pe.mergeOptions({closePopupOnClick:!0}),pe.include({openPopup:function(s,l,u){return this._initOverlay(bl,s,l,u).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),dn.include({bindPopup:function(s,l){return this._popup=this._initOverlay(bl,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Wn||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){hr(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof vi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Vl=An.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){An.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){An.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=An.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=we("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,u,d=this._map,p=this._container,_=d.latLngToContainerPoint(d.getCenter()),T=d.layerPointToContainerPoint(s),C=this.options.direction,A=p.offsetWidth,D=p.offsetHeight,H=U(this.options.offset),Y=this._getAnchor();C==="top"?(l=A/2,u=D):C==="bottom"?(l=A/2,u=0):C==="center"?(l=A/2,u=D/2):C==="right"?(l=0,u=D/2):C==="left"?(l=A,u=D/2):T.x<_.x?(C="right",l=0,u=D/2):(C="left",l=A+(H.x+Y.x)*2,u=D/2),s=s.subtract(U(l,u,!0)).add(H).add(Y),$e(p,"leaflet-tooltip-right"),$e(p,"leaflet-tooltip-left"),$e(p,"leaflet-tooltip-top"),$e(p,"leaflet-tooltip-bottom"),le(p,"leaflet-tooltip-"+C),He(p,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Jt(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return U(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),TC=function(s,l){return new Vl(s,l)};pe.include({openTooltip:function(s,l,u){return this._initOverlay(Vl,s,l,u).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),dn.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Vl,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[l](u),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Wn||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(oe(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),oe(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,u,d;this._tooltip.options.sticky&&s.originalEvent&&(u=this._map.mouseEventToContainerPoint(s.originalEvent),d=this._map.containerPointToLayerPoint(u),l=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(l)}});var tv=Xr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),u=this.options;if(u.html instanceof Element?(Il(l),l.appendChild(u.html)):l.innerHTML=u.html!==!1?u.html:"",u.bgPos){var d=U(u.bgPos);l.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function IC(s){return new tv(s)}Xr.Default=wo;var Eo=dn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Z.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){S(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),De(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Qr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Yr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof M?s:new M(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,u=-s(-1/0,1/0),d=0,p=l.length,_;d<p;d++)_=l[d].style.zIndex,l[d]!==this._container&&_&&(u=s(u,+_));isFinite(u)&&(this.options.zIndex=u+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Z.ielt9){Jt(this._container,this.options.opacity);var s=+new Date,l=!1,u=!1;for(var d in this._tiles){var p=this._tiles[d];if(!(!p.current||!p.loaded)){var _=Math.min(1,(s-p.loaded)/200);Jt(p.el,_),_<1?l=!0:(p.active?u=!0:this._onOpaqueTile(p),p.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),l&&(nt(this._fadeFrame),this._fadeFrame=Ce(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=we("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===s?(this._levels[u].el.style.zIndex=l-Math.abs(s-u),this._onUpdateLevel(u)):(De(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var d=this._levels[s],p=this._map;return d||(d=this._levels[s]={},d.el=we("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=l,d.origin=p.project(p.unproject(p.getPixelOrigin()),s).round(),d.zoom=s,this._setZoomTransform(d,p.getCenter(),p.getZoom()),g(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var s,l,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var d=l.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)De(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,u,d){var p=Math.floor(s/2),_=Math.floor(l/2),T=u-1,C=new M(+p,+_);C.z=+T;var A=this._tileCoordsToKey(C),D=this._tiles[A];return D&&D.active?(D.retain=!0,!0):(D&&D.loaded&&(D.retain=!0),T>d?this._retainParent(p,_,T,d):!1)},_retainChildren:function(s,l,u,d){for(var p=2*s;p<2*s+2;p++)for(var _=2*l;_<2*l+2;_++){var T=new M(p,_);T.z=u+1;var C=this._tileCoordsToKey(T),A=this._tiles[C];if(A&&A.active){A.retain=!0;continue}else A&&A.loaded&&(A.retain=!0);u+1<d&&this._retainChildren(p,_,u+1,d)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,u,d){var p=Math.round(l);this.options.maxZoom!==void 0&&p>this.options.maxZoom||this.options.minZoom!==void 0&&p<this.options.minZoom?p=void 0:p=this._clampZoom(p);var _=this.options.updateWhenZooming&&p!==this._tileZoom;(!d||_)&&(this._tileZoom=p,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),p!==void 0&&this._update(s),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var u in this._levels)this._setZoomTransform(this._levels[u],s,l)},_setZoomTransform:function(s,l,u){var d=this._map.getZoomScale(u,s.zoom),p=s.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(l,u)).round();Z.any3d?lr(s.el,p,d):He(s.el,p)},_resetGrid:function(){var s=this._map,l=s.options.crs,u=this._tileSize=this.getTileSize(),d=this._tileZoom,p=this._map.getPixelWorldBounds(this._tileZoom);p&&(this._globalTileRange=this._pxBoundsToTileRange(p)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],d).x/u.x),Math.ceil(s.project([0,l.wrapLng[1]],d).x/u.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],d).y/u.x),Math.ceil(s.project([l.wrapLat[1],0],d).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,u=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),d=l.getZoomScale(u,this._tileZoom),p=l.project(s,this._tileZoom).floor(),_=l.getSize().divideBy(d*2);return new ee(p.subtract(_),p.add(_))},_update:function(s){var l=this._map;if(l){var u=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(s),p=this._pxBoundsToTileRange(d),_=p.getCenter(),T=[],C=this.options.keepBuffer,A=new ee(p.getBottomLeft().subtract([C,-C]),p.getTopRight().add([C,-C]));if(!(isFinite(p.min.x)&&isFinite(p.min.y)&&isFinite(p.max.x)&&isFinite(p.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var D in this._tiles){var H=this._tiles[D].coords;(H.z!==this._tileZoom||!A.contains(new M(H.x,H.y)))&&(this._tiles[D].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(s,u);return}for(var Y=p.min.y;Y<=p.max.y;Y++)for(var ce=p.min.x;ce<=p.max.x;ce++){var xt=new M(ce,Y);if(xt.z=this._tileZoom,!!this._isValidTile(xt)){var it=this._tiles[this._tileCoordsToKey(xt)];it?it.current=!0:T.push(xt)}}if(T.sort(function(Vt,is){return Vt.distanceTo(_)-is.distanceTo(_)}),T.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var en=document.createDocumentFragment();for(ce=0;ce<T.length;ce++)this._addTile(T[ce],en);this._level.el.appendChild(en)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var u=this._globalTileRange;if(!l.wrapLng&&(s.x<u.min.x||s.x>u.max.x)||!l.wrapLat&&(s.y<u.min.y||s.y>u.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(s);return Pe(this.options.bounds).overlaps(d)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,u=this.getTileSize(),d=s.scaleBy(u),p=d.add(u),_=l.unproject(d,s.z),T=l.unproject(p,s.z);return[_,T]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),u=new Ye(l[0],l[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),u=new M(+l[0],+l[1]);return u.z=+l[2],u},_removeTile:function(s){var l=this._tiles[s];l&&(De(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){le(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=g,s.onmousemove=g,Z.ielt9&&this.options.opacity<1&&Jt(s,this.options.opacity)},_addTile:function(s,l){var u=this._getTilePos(s),d=this._tileCoordsToKey(s),p=this.createTile(this._wrapCoords(s),a(this._tileReady,this,s));this._initTile(p),this.createTile.length<2&&Ce(a(this._tileReady,this,s,null,p)),He(p,u),this._tiles[d]={el:p,coords:s,current:!0},l.appendChild(p),this.fire("tileloadstart",{tile:p,coords:s})},_tileReady:function(s,l,u){l&&this.fire("tileerror",{error:l,tile:u,coords:s});var d=this._tileCoordsToKey(s);u=this._tiles[d],u&&(u.loaded=+new Date,this._map._fadeAnimated?(Jt(u.el,0),nt(this._fadeFrame),this._fadeFrame=Ce(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),l||(le(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Z.ielt9||!this._map._fadeAnimated?Ce(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new M(this._wrapX?m(s.x,this._wrapX):s.x,this._wrapY?m(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new ee(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function SC(s){return new Eo(s)}var ns=Eo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=S(this,l),l.detectRetina&&Z.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var u=document.createElement("img");return oe(u,"load",a(this._tileOnLoad,this,l,u)),oe(u,"error",a(this._tileOnError,this,l,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(s),u},getTileUrl:function(s){var l={r:Z.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=u),l["-y"]=u}return y(this._url,r(l,this.options))},_tileOnLoad:function(s,l){Z.ielt9?setTimeout(a(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,u){var d=this.options.errorTileUrl;d&&l.getAttribute("src")!==d&&(l.src=d),s(u,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,u=this.options.zoomReverse,d=this.options.zoomOffset;return u&&(s=l-s),s+d},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=g,l.onerror=g,!l.complete)){l.src=z;var u=this._tiles[s].coords;De(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:u})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",z),Eo.prototype._removeTile.call(this,s)},_tileReady:function(s,l,u){if(!(!this._map||u&&u.getAttribute("src")===z))return Eo.prototype._tileReady.call(this,s,l,u)}});function nv(s,l){return new ns(s,l)}var iv=ns.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var u=r({},this.defaultWmsParams);for(var d in l)d in this.options||(u[d]=l[d]);l=S(this,l);var p=l.detectRetina&&Z.retina?2:1,_=this.getTileSize();u.width=_.x*p,u.height=_.y*p,this.wmsParams=u},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,ns.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),u=this._crs,d=_e(u.project(l[0]),u.project(l[1])),p=d.min,_=d.max,T=(this._wmsVersion>=1.3&&this._crs===G_?[p.y,p.x,_.y,_.x]:[p.x,p.y,_.x,_.y]).join(","),C=ns.prototype.getTileUrl.call(this,s);return C+R(this.wmsParams,C,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+T},setParams:function(s,l){return r(this.wmsParams,s),l||this.redraw(),this}});function PC(s,l){return new iv(s,l)}ns.WMS=iv,nv.wms=PC;var Zn=dn.extend({options:{padding:.1},initialize:function(s){S(this,s),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),le(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var u=this._map.getZoomScale(l,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),p=this._map.project(this._center,l),_=d.multiplyBy(-u).add(p).subtract(this._map._getNewPixelOrigin(s,l));Z.any3d?lr(this._container,_,u):He(this._container,_)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),u=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new ee(u,u.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),rv=Zn.extend({options:{tolerance:0},getEvents:function(){var s=Zn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Zn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");oe(s,"mousemove",this._onMouseMove,this),oe(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),oe(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){nt(this._redrawRequest),delete this._ctx,De(this._container),Ae(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zn.prototype._update.call(this);var s=this._bounds,l=this._container,u=s.getSize(),d=Z.retina?2:1;He(l,s.min),l.width=d*u.x,l.height=d*u.y,l.style.width=u.x+"px",l.style.height=u.y+"px",Z.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Zn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[h(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,u=l.next,d=l.prev;u?u.prev=d:this._drawLast=d,d?d.next=u:this._drawFirst=u,delete s._order,delete this._layers[h(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),u=[],d,p;for(p=0;p<l.length;p++){if(d=Number(l[p]),isNaN(d))return;u.push(d)}s.options._dashArray=u}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||Ce(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var u=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)s=d.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var u,d,p,_,T=s._parts,C=T.length,A=this._ctx;if(C){for(A.beginPath(),u=0;u<C;u++){for(d=0,p=T[u].length;d<p;d++)_=T[u][d],A[d?"lineTo":"moveTo"](_.x,_.y);l&&A.closePath()}this._fillStroke(A,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,u=this._ctx,d=Math.max(Math.round(s._radius),1),p=(Math.max(Math.round(s._radiusY),1)||d)/d;p!==1&&(u.save(),u.scale(1,p)),u.beginPath(),u.arc(l.x,l.y/p,d,0,Math.PI*2,!1),p!==1&&u.restore(),this._fillStroke(u,s)}},_fillStroke:function(s,l){var u=l.options;u.fill&&(s.globalAlpha=u.fillOpacity,s.fillStyle=u.fillColor||u.color,s.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=u.opacity,s.lineWidth=u.weight,s.strokeStyle=u.color,s.lineCap=u.lineCap,s.lineJoin=u.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),u,d,p=this._drawFirst;p;p=p.next)u=p.layer,u.options.interactive&&u._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(u))&&(d=u);this._fireEvent(d?[d]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&($e(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var u,d,p=this._drawFirst;p;p=p.next)u=p.layer,u.options.interactive&&u._containsPoint(l)&&(d=u);d!==this._hoveredLayer&&(this._handleMouseOut(s),d&&(le(this._container,"leaflet-interactive"),this._fireEvent([d],s,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,u){this._map._fireDOMEvent(l,u||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var u=l.next,d=l.prev;if(u)u.prev=d;else return;d?d.next=u:u&&(this._drawFirst=u),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var u=l.next,d=l.prev;if(d)d.next=u;else return;u?u.prev=d:d&&(this._drawLast=d),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function sv(s){return Z.canvas?new rv(s):null}var To=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),CC={_initContainer:function(){this._container=we("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Zn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=To("shape");le(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=To("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;De(l),s.removeInteractiveTarget(l),delete this._layers[h(s)]},_updateStyle:function(s){var l=s._stroke,u=s._fill,d=s.options,p=s._container;p.stroked=!!d.stroke,p.filled=!!d.fill,d.stroke?(l||(l=s._stroke=To("stroke")),p.appendChild(l),l.weight=d.weight+"px",l.color=d.color,l.opacity=d.opacity,d.dashArray?l.dashStyle=w(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=d.lineCap.replace("butt","flat"),l.joinstyle=d.lineJoin):l&&(p.removeChild(l),s._stroke=null),d.fill?(u||(u=s._fill=To("fill")),p.appendChild(u),u.color=d.fillColor||d.color,u.opacity=d.fillOpacity):u&&(p.removeChild(u),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),u=Math.round(s._radius),d=Math.round(s._radiusY||u);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+u+","+d+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){Qr(s._container)},_bringToBack:function(s){Yr(s._container)}},Fl=Z.vml?To:u_,Io=Zn.extend({_initContainer:function(){this._container=Fl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Fl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){De(this._container),Ae(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zn.prototype._update.call(this);var s=this._bounds,l=s.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,u.setAttribute("width",l.x),u.setAttribute("height",l.y)),He(u,s.min),u.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=Fl("path");s.options.className&&le(l,s.options.className),s.options.interactive&&le(l,"leaflet-interactive"),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){De(s._path),s.removeInteractiveTarget(s._path),delete this._layers[h(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,u=s.options;l&&(u.stroke?(l.setAttribute("stroke",u.color),l.setAttribute("stroke-opacity",u.opacity),l.setAttribute("stroke-width",u.weight),l.setAttribute("stroke-linecap",u.lineCap),l.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?l.setAttribute("stroke-dasharray",u.dashArray):l.removeAttribute("stroke-dasharray"),u.dashOffset?l.setAttribute("stroke-dashoffset",u.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),u.fill?(l.setAttribute("fill",u.fillColor||u.color),l.setAttribute("fill-opacity",u.fillOpacity),l.setAttribute("fill-rule",u.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,c_(s._parts,l))},_updateCircle:function(s){var l=s._point,u=Math.max(Math.round(s._radius),1),d=Math.max(Math.round(s._radiusY),1)||u,p="a"+u+","+d+" 0 1,0 ",_=s._empty()?"M0 0":"M"+(l.x-u)+","+l.y+p+u*2+",0 "+p+-u*2+",0 ";this._setPath(s,_)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){Qr(s._path)},_bringToBack:function(s){Yr(s._path)}});Z.vml&&Io.include(CC);function ov(s){return Z.svg||Z.vml?new Io(s):null}pe.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&sv(s)||ov(s)}});var av=es.extend({initialize:function(s,l){es.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Pe(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function AC(s,l){return new av(s,l)}Io.create=Fl,Io.pointsToPath=c_,Kn.geometryToLayer=Ll,Kn.coordsToLatLng=hd,Kn.coordsToLatLngs=Ol,Kn.latLngToCoords=dd,Kn.latLngsToCoords=Nl,Kn.getFeature=ts,Kn.asFeature=Ml,pe.mergeOptions({boxZoom:!0});var lv=Cn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){oe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ae(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){De(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),po(),Zh(),this._startPoint=this._map.mouseEventToContainerPoint(s),oe(document,{contextmenu:hr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=we("div","leaflet-zoom-box",this._container),le(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new ee(this._point,this._startPoint),u=l.getSize();He(this._box,l.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(De(this._box),$e(this._container,"leaflet-crosshair")),mo(),Gh(),Ae(document,{contextmenu:hr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new Ye(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});pe.addInitHook("addHandler","boxZoom",lv),pe.mergeOptions({doubleClickZoom:!0});var uv=Cn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,u=l.getZoom(),d=l.options.zoomDelta,p=s.originalEvent.shiftKey?u-d:u+d;l.options.doubleClickZoom==="center"?l.setZoom(p):l.setZoomAround(s.containerPoint,p)}});pe.addInitHook("addHandler","doubleClickZoom",uv),pe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var cv=Cn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new _i(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}le(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){$e(this._map._container,"leaflet-grab"),$e(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=Pe(this._map.options.maxBounds);this._offsetLimit=_e(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),u=this._initialWorldOffset,d=this._draggable._newPos.x,p=(d-l+u)%s+l-u,_=(d+l+u)%s-l-u,T=Math.abs(p+u)<Math.abs(_+u)?p:_;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=T},_onDragEnd:function(s){var l=this._map,u=l.options,d=!u.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),d)l.fire("moveend");else{this._prunePositions(+new Date);var p=this._lastPos.subtract(this._positions[0]),_=(this._lastTime-this._times[0])/1e3,T=u.easeLinearity,C=p.multiplyBy(T/_),A=C.distanceTo([0,0]),D=Math.min(u.inertiaMaxSpeed,A),H=C.multiplyBy(D/A),Y=D/(u.inertiaDeceleration*T),ce=H.multiplyBy(-Y/2).round();!ce.x&&!ce.y?l.fire("moveend"):(ce=l._limitOffset(ce,l.options.maxBounds),Ce(function(){l.panBy(ce,{duration:Y,easeLinearity:T,noMoveStart:!0,animate:!0})}))}}});pe.addInitHook("addHandler","dragging",cv),pe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var hv=Cn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),oe(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ae(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,u=s.scrollTop||l.scrollTop,d=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(d,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},u=this.keyCodes,d,p;for(d=0,p=u.left.length;d<p;d++)l[u.left[d]]=[-1*s,0];for(d=0,p=u.right.length;d<p;d++)l[u.right[d]]=[s,0];for(d=0,p=u.down.length;d<p;d++)l[u.down[d]]=[0,s];for(d=0,p=u.up.length;d<p;d++)l[u.up[d]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},u=this.keyCodes,d,p;for(d=0,p=u.zoomIn.length;d<p;d++)l[u.zoomIn[d]]=s;for(d=0,p=u.zoomOut.length;d<p;d++)l[u.zoomOut[d]]=-s},_addHooks:function(){oe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ae(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,u=this._map,d;if(l in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(d=this._panKeys[l],s.shiftKey&&(d=U(d).multiplyBy(3)),u.options.maxBounds&&(d=u._limitOffset(U(d),u.options.maxBounds)),u.options.worldCopyJump){var p=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(d)));u.panTo(p)}else u.panBy(d)}else if(l in this._zoomKeys)u.setZoom(u.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;hr(s)}}});pe.addInitHook("addHandler","keyboard",hv),pe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var dv=Cn.extend({addHooks:function(){oe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ae(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=b_(s),u=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var d=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),d),hr(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),u=this._map.options.zoomSnap||0;s._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),p=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,_=u?Math.ceil(p/u)*u:p,T=s._limitZoom(l+(this._delta>0?_:-_))-l;this._delta=0,this._startTime=null,T&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+T):s.setZoomAround(this._lastMousePos,l+T))}});pe.addInitHook("addHandler","scrollWheelZoom",dv);var RC=600;pe.mergeOptions({tapHold:Z.touchNative&&Z.safari&&Z.mobile,tapTolerance:15});var fv=Cn.extend({addHooks:function(){oe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ae(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new M(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(oe(document,"touchend",ct),oe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),RC),oe(document,"touchend touchcancel contextmenu",this._cancel,this),oe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Ae(document,"touchend",ct),Ae(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Ae(document,"touchend touchcancel contextmenu",this._cancel,this),Ae(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new M(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var u=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});u._simulated=!0,l.target.dispatchEvent(u)}});pe.addInitHook("addHandler","tapHold",fv),pe.mergeOptions({touchZoom:Z.touch,bounceAtZoomLimits:!0});var pv=Cn.extend({addHooks:function(){le(this._map._container,"leaflet-touch-zoom"),oe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){$e(this._map._container,"leaflet-touch-zoom"),Ae(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var u=l.mouseEventToContainerPoint(s.touches[0]),d=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(u.add(d)._divideBy(2))),this._startDist=u.distanceTo(d),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),oe(document,"touchmove",this._onTouchMove,this),oe(document,"touchend touchcancel",this._onTouchEnd,this),ct(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,u=l.mouseEventToContainerPoint(s.touches[0]),d=l.mouseEventToContainerPoint(s.touches[1]),p=u.distanceTo(d)/this._startDist;if(this._zoom=l.getScaleZoom(p,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&p<1||this._zoom>l.getMaxZoom()&&p>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,p===1)return}else{var _=u._add(d)._divideBy(2)._subtract(this._centerPoint);if(p===1&&_.x===0&&_.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(_),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),nt(this._animRequest);var T=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ce(T,this,!0),ct(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,nt(this._animRequest),Ae(document,"touchmove",this._onTouchMove,this),Ae(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});pe.addInitHook("addHandler","touchZoom",pv),pe.BoxZoom=lv,pe.DoubleClickZoom=uv,pe.Drag=cv,pe.Keyboard=hv,pe.ScrollWheelZoom=dv,pe.TapHold=fv,pe.TouchZoom=pv,n.Bounds=ee,n.Browser=Z,n.CRS=bt,n.Canvas=rv,n.Circle=cd,n.CircleMarker=xl,n.Class=Yt,n.Control=hn,n.DivIcon=tv,n.DivOverlay=An,n.DomEvent=qP,n.DomUtil=HP,n.Draggable=_i,n.Evented=Hn,n.FeatureGroup=Wn,n.GeoJSON=Kn,n.GridLayer=Eo,n.Handler=Cn,n.Icon=Xr,n.ImageOverlay=Dl,n.LatLng=ye,n.LatLngBounds=Ye,n.Layer=dn,n.LayerGroup=Jr,n.LineUtil=sC,n.Map=pe,n.Marker=kl,n.Mixin=XP,n.Path=vi,n.Point=M,n.PolyUtil=eC,n.Polygon=es,n.Polyline=qn,n.Popup=bl,n.PosAnimation=V_,n.Projection=oC,n.Rectangle=av,n.Renderer=Zn,n.SVG=Io,n.SVGOverlay=ev,n.TileLayer=ns,n.Tooltip=Vl,n.Transformation=bh,n.Util=ar,n.VideoOverlay=X_,n.bind=a,n.bounds=_e,n.canvas=sv,n.circle=pC,n.circleMarker=fC,n.control=vo,n.divIcon=IC,n.extend=r,n.featureGroup=cC,n.geoJSON=J_,n.geoJson=_C,n.gridLayer=SC,n.icon=hC,n.imageOverlay=vC,n.latLng=se,n.latLngBounds=Pe,n.layerGroup=uC,n.map=KP,n.marker=dC,n.point=U,n.polygon=gC,n.polyline=mC,n.popup=EC,n.rectangle=AC,n.setOptions=S,n.stamp=h,n.svg=ov,n.svgOverlay=wC,n.tileLayer=nv,n.tooltip=TC,n.transformation=uo,n.version=i,n.videoOverlay=yC;var kC=window.L;n.noConflict=function(){return window.L=kC,this},window.L=n})})(zp,zp.exports);var Rh=zp.exports;function e_(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function t_(t,e){return e==null?function(i,r){const o=N.useRef();return o.current||(o.current=t(i,r)),o}:function(i,r){const o=N.useRef();o.current||(o.current=t(i,r));const a=N.useRef(i),{instance:c}=o.current;return N.useEffect(function(){a.current!==i&&(e(c,i,a.current),a.current=i)},[c,i,r]),o}}function MV(t,e){N.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function qS(t){return function(n){const i=Jg(),r=t(Xg(n,i),i);return $S(i.map,n.attribution),WS(r.current,n.eventHandlers),MV(r.current,i),r}}function DV(t,e){const n=t_(t,e),i=qS(n);return xV(i)}function bV(t,e){const n=t_(t),i=NV(n,e);return LV(i)}function VV(t,e){const n=t_(t,e),i=qS(n);return OV(i)}function FV(t,e,n){const{opacity:i,zIndex:r}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),r!=null&&r!==n.zIndex&&t.setZIndex(r)}function zV(){return Jg().map}function UV(t){const e=zV();return N.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function Up(){return Up=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Up.apply(this,arguments)}function BV({bounds:t,boundsOptions:e,center:n,children:i,className:r,id:o,placeholder:a,style:c,whenReady:h,zoom:f,...m},g){const[v]=N.useState({className:r,id:o,style:c}),[I,P]=N.useState(null);N.useImperativeHandle(g,()=>(I==null?void 0:I.map)??null,[I]);const S=N.useCallback(E=>{if(E!==null&&I===null){const y=new Rh.Map(E,m);n!=null&&f!=null?y.setView(n,f):t!=null&&y.fitBounds(t,e),h!=null&&y.whenReady(h),P(RV(y))}},[]);N.useEffect(()=>()=>{I==null||I.map.remove()},[I]);const R=I?aa.createElement(HS,{value:I},i):a??null;return aa.createElement("div",Up({},v,{ref:S}),R)}const $V=N.forwardRef(BV),jV=DV(function({position:e,...n},i){const r=new Rh.Marker(e,n);return e_(r,kV(i,{overlayContainer:r}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),HV=bV(function(e,n){const i=new Rh.Popup(e,n.overlayContainer);return e_(i,n)},function(e,n,{position:i},r){N.useEffect(function(){const{instance:a}=e;function c(f){f.popup===a&&(a.update(),r(!0))}function h(f){f.popup===a&&r(!1)}return n.map.on({popupopen:c,popupclose:h}),n.overlayContainer==null?(i!=null&&a.setLatLng(i),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){var m;n.map.off({popupopen:c,popupclose:h}),(m=n.overlayContainer)==null||m.unbindPopup(),n.map.removeLayer(a)}},[e,n,r,i])}),WV=VV(function({url:e,...n},i){const r=new Rh.TileLayer(e,Xg(n,i));return e_(r,i)},function(e,n,i){FV(e,n,i);const{url:r}=n;r!=null&&r!==i.url&&e.setUrl(r)});function KS(t,e){return function(){return t.apply(e,arguments)}}const{toString:qV}=Object.prototype,{getPrototypeOf:n_}=Object,kh=(t=>e=>{const n=qV.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),jn=t=>(t=t.toLowerCase(),e=>kh(e)===t),xh=t=>e=>typeof e===t,{isArray:lo}=Array,Wa=xh("undefined");function KV(t){return t!==null&&!Wa(t)&&t.constructor!==null&&!Wa(t.constructor)&&ln(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ZS=jn("ArrayBuffer");function ZV(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ZS(t.buffer),e}const GV=xh("string"),ln=xh("function"),GS=xh("number"),Lh=t=>t!==null&&typeof t=="object",QV=t=>t===!0||t===!1,Nu=t=>{if(kh(t)!=="object")return!1;const e=n_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},YV=jn("Date"),JV=jn("File"),XV=jn("Blob"),eF=jn("FileList"),tF=t=>Lh(t)&&ln(t.pipe),nF=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ln(t.append)&&((e=kh(t))==="formdata"||e==="object"&&ln(t.toString)&&t.toString()==="[object FormData]"))},iF=jn("URLSearchParams"),rF=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),lo(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let c;for(i=0;i<a;i++)c=o[i],e.call(null,t[c],c,t)}}function QS(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const YS=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),JS=t=>!Wa(t)&&t!==YS;function Bp(){const{caseless:t}=JS(this)&&this||{},e={},n=(i,r)=>{const o=t&&QS(e,r)||r;Nu(e[o])&&Nu(i)?e[o]=Bp(e[o],i):Nu(i)?e[o]=Bp({},i):lo(i)?e[o]=i.slice():e[o]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&yl(arguments[i],n);return e}const sF=(t,e,n,{allOwnKeys:i}={})=>(yl(e,(r,o)=>{n&&ln(r)?t[o]=KS(r,n):t[o]=r},{allOwnKeys:i}),t),oF=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),aF=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},lF=(t,e,n,i)=>{let r,o,a;const c={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)a=r[o],(!i||i(a,t,e))&&!c[a]&&(e[a]=t[a],c[a]=!0);t=n!==!1&&n_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},uF=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},cF=t=>{if(!t)return null;if(lo(t))return t;let e=t.length;if(!GS(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},hF=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&n_(Uint8Array)),dF=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const o=r.value;e.call(t,o[0],o[1])}},fF=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},pF=jn("HTMLFormElement"),mF=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),t0=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),gF=jn("RegExp"),XS=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};yl(n,(r,o)=>{let a;(a=e(r,o,t))!==!1&&(i[o]=a||r)}),Object.defineProperties(t,i)},_F=t=>{XS(t,(e,n)=>{if(ln(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(ln(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},vF=(t,e)=>{const n={},i=r=>{r.forEach(o=>{n[o]=!0})};return lo(t)?i(t):i(String(t).split(e)),n},yF=()=>{},wF=(t,e)=>(t=+t,Number.isFinite(t)?t:e),lf="abcdefghijklmnopqrstuvwxyz",n0="0123456789",eP={DIGIT:n0,ALPHA:lf,ALPHA_DIGIT:lf+lf.toUpperCase()+n0},EF=(t=16,e=eP.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function TF(t){return!!(t&&ln(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const IF=t=>{const e=new Array(10),n=(i,r)=>{if(Lh(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const o=lo(i)?[]:{};return yl(i,(a,c)=>{const h=n(a,r+1);!Wa(h)&&(o[c]=h)}),e[r]=void 0,o}}return i};return n(t,0)},SF=jn("AsyncFunction"),PF=t=>t&&(Lh(t)||ln(t))&&ln(t.then)&&ln(t.catch),O={isArray:lo,isArrayBuffer:ZS,isBuffer:KV,isFormData:nF,isArrayBufferView:ZV,isString:GV,isNumber:GS,isBoolean:QV,isObject:Lh,isPlainObject:Nu,isUndefined:Wa,isDate:YV,isFile:JV,isBlob:XV,isRegExp:gF,isFunction:ln,isStream:tF,isURLSearchParams:iF,isTypedArray:hF,isFileList:eF,forEach:yl,merge:Bp,extend:sF,trim:rF,stripBOM:oF,inherits:aF,toFlatObject:lF,kindOf:kh,kindOfTest:jn,endsWith:uF,toArray:cF,forEachEntry:dF,matchAll:fF,isHTMLForm:pF,hasOwnProperty:t0,hasOwnProp:t0,reduceDescriptors:XS,freezeMethods:_F,toObjectSet:vF,toCamelCase:mF,noop:yF,toFiniteNumber:wF,findKey:QS,global:YS,isContextDefined:JS,ALPHABET:eP,generateString:EF,isSpecCompliantForm:TF,toJSONObject:IF,isAsyncFn:SF,isThenable:PF};function ge(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}O.inherits(ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const tP=ge.prototype,nP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{nP[t]={value:t}});Object.defineProperties(ge,nP);Object.defineProperty(tP,"isAxiosError",{value:!0});ge.from=(t,e,n,i,r,o)=>{const a=Object.create(tP);return O.toFlatObject(t,a,function(h){return h!==Error.prototype},c=>c!=="isAxiosError"),ge.call(a,t.message,e,n,i,r),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};const CF=null;function $p(t){return O.isPlainObject(t)||O.isArray(t)}function iP(t){return O.endsWith(t,"[]")?t.slice(0,-2):t}function i0(t,e,n){return t?t.concat(e).map(function(r,o){return r=iP(r),!n&&o?"["+r+"]":r}).join(n?".":""):e}function AF(t){return O.isArray(t)&&!t.some($p)}const RF=O.toFlatObject(O,{},null,function(e){return/^is[A-Z]/.test(e)});function Oh(t,e,n){if(!O.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=O.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,R){return!O.isUndefined(R[S])});const i=n.metaTokens,r=n.visitor||m,o=n.dots,a=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(e);if(!O.isFunction(r))throw new TypeError("visitor must be a function");function f(P){if(P===null)return"";if(O.isDate(P))return P.toISOString();if(!h&&O.isBlob(P))throw new ge("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(P)||O.isTypedArray(P)?h&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function m(P,S,R){let E=P;if(P&&!R&&typeof P=="object"){if(O.endsWith(S,"{}"))S=i?S:S.slice(0,-2),P=JSON.stringify(P);else if(O.isArray(P)&&AF(P)||(O.isFileList(P)||O.endsWith(S,"[]"))&&(E=O.toArray(P)))return S=iP(S),E.forEach(function(w,x){!(O.isUndefined(w)||w===null)&&e.append(a===!0?i0([S],x,o):a===null?S:S+"[]",f(w))}),!1}return $p(P)?!0:(e.append(i0(R,S,o),f(P)),!1)}const g=[],v=Object.assign(RF,{defaultVisitor:m,convertValue:f,isVisitable:$p});function I(P,S){if(!O.isUndefined(P)){if(g.indexOf(P)!==-1)throw Error("Circular reference detected in "+S.join("."));g.push(P),O.forEach(P,function(E,y){(!(O.isUndefined(E)||E===null)&&r.call(e,E,O.isString(y)?y.trim():y,S,v))===!0&&I(E,S?S.concat(y):[y])}),g.pop()}}if(!O.isObject(t))throw new TypeError("data must be an object");return I(t),e}function r0(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function i_(t,e){this._pairs=[],t&&Oh(t,this,e)}const rP=i_.prototype;rP.append=function(e,n){this._pairs.push([e,n])};rP.toString=function(e){const n=e?function(i){return e.call(this,i,r0)}:r0;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function kF(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sP(t,e,n){if(!e)return t;const i=n&&n.encode||kF,r=n&&n.serialize;let o;if(r?o=r(e,n):o=O.isURLSearchParams(e)?e.toString():new i_(e,n).toString(i),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class xF{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){O.forEach(this.handlers,function(i){i!==null&&e(i)})}}const s0=xF,oP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},LF=typeof URLSearchParams<"u"?URLSearchParams:i_,OF=typeof FormData<"u"?FormData:null,NF=typeof Blob<"u"?Blob:null,MF={isBrowser:!0,classes:{URLSearchParams:LF,FormData:OF,Blob:NF},protocols:["http","https","file","blob","url","data"]},aP=typeof window<"u"&&typeof document<"u",DF=(t=>aP&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),bF=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),VF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:aP,hasStandardBrowserEnv:DF,hasStandardBrowserWebWorkerEnv:bF},Symbol.toStringTag,{value:"Module"})),Mn={...VF,...MF};function FF(t,e){return Oh(t,new Mn.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,o){return Mn.isNode&&O.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function zF(t){return O.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function UF(t){const e={},n=Object.keys(t);let i;const r=n.length;let o;for(i=0;i<r;i++)o=n[i],e[o]=t[o];return e}function lP(t){function e(n,i,r,o){let a=n[o++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),h=o>=n.length;return a=!a&&O.isArray(r)?r.length:a,h?(O.hasOwnProp(r,a)?r[a]=[r[a],i]:r[a]=i,!c):((!r[a]||!O.isObject(r[a]))&&(r[a]=[]),e(n,i,r[a],o)&&O.isArray(r[a])&&(r[a]=UF(r[a])),!c)}if(O.isFormData(t)&&O.isFunction(t.entries)){const n={};return O.forEachEntry(t,(i,r)=>{e(zF(i),r,n,0)}),n}return null}function BF(t,e,n){if(O.isString(t))try{return(e||JSON.parse)(t),O.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const r_={transitional:oP,adapter:["xhr","http"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,o=O.isObject(e);if(o&&O.isHTMLForm(e)&&(e=new FormData(e)),O.isFormData(e))return r&&r?JSON.stringify(lP(e)):e;if(O.isArrayBuffer(e)||O.isBuffer(e)||O.isStream(e)||O.isFile(e)||O.isBlob(e))return e;if(O.isArrayBufferView(e))return e.buffer;if(O.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return FF(e,this.formSerializer).toString();if((c=O.isFileList(e))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Oh(c?{"files[]":e}:e,h&&new h,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),BF(e)):e}],transformResponse:[function(e){const n=this.transitional||r_.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(e&&O.isString(e)&&(i&&!this.responseType||r)){const a=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(c){if(a)throw c.name==="SyntaxError"?ge.from(c,ge.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mn.classes.FormData,Blob:Mn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],t=>{r_.headers[t]={}});const s_=r_,$F=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jF=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(a){r=a.indexOf(":"),n=a.substring(0,r).trim().toLowerCase(),i=a.substring(r+1).trim(),!(!n||e[n]&&$F[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},o0=Symbol("internals");function Do(t){return t&&String(t).trim().toLowerCase()}function Mu(t){return t===!1||t==null?t:O.isArray(t)?t.map(Mu):String(t)}function HF(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const WF=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function uf(t,e,n,i,r){if(O.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!O.isString(e)){if(O.isString(i))return e.indexOf(i)!==-1;if(O.isRegExp(i))return i.test(e)}}function qF(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function KF(t,e){const n=O.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,o,a){return this[i].call(this,e,r,o,a)},configurable:!0})})}class Nh{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function o(c,h,f){const m=Do(h);if(!m)throw new Error("header name must be a non-empty string");const g=O.findKey(r,m);(!g||r[g]===void 0||f===!0||f===void 0&&r[g]!==!1)&&(r[g||h]=Mu(c))}const a=(c,h)=>O.forEach(c,(f,m)=>o(f,m,h));return O.isPlainObject(e)||e instanceof this.constructor?a(e,n):O.isString(e)&&(e=e.trim())&&!WF(e)?a(jF(e),n):e!=null&&o(n,e,i),this}get(e,n){if(e=Do(e),e){const i=O.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return HF(r);if(O.isFunction(n))return n.call(this,r,i);if(O.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Do(e),e){const i=O.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||uf(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function o(a){if(a=Do(a),a){const c=O.findKey(i,a);c&&(!n||uf(i,i[c],c,n))&&(delete i[c],r=!0)}}return O.isArray(e)?e.forEach(o):o(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const o=n[i];(!e||uf(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const n=this,i={};return O.forEach(this,(r,o)=>{const a=O.findKey(i,o);if(a){n[a]=Mu(r),delete n[o];return}const c=e?qF(o):String(o).trim();c!==o&&delete n[o],n[c]=Mu(r),i[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return O.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&O.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[o0]=this[o0]={accessors:{}}).accessors,r=this.prototype;function o(a){const c=Do(a);i[c]||(KF(r,a),i[c]=!0)}return O.isArray(e)?e.forEach(o):o(e),this}}Nh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(Nh.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});O.freezeMethods(Nh);const si=Nh;function cf(t,e){const n=this||s_,i=e||n,r=si.from(i.headers);let o=i.data;return O.forEach(t,function(c){o=c.call(n,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function uP(t){return!!(t&&t.__CANCEL__)}function wl(t,e,n){ge.call(this,t??"canceled",ge.ERR_CANCELED,e,n),this.name="CanceledError"}O.inherits(wl,ge,{__CANCEL__:!0});function ZF(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new ge("Request failed with status code "+n.status,[ge.ERR_BAD_REQUEST,ge.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const GF=Mn.hasStandardBrowserEnv?{write(t,e,n,i,r,o){const a=[t+"="+encodeURIComponent(e)];O.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),O.isString(i)&&a.push("path="+i),O.isString(r)&&a.push("domain="+r),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function QF(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function YF(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function cP(t,e){return t&&!QF(e)?YF(t,e):e}const JF=Mn.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function r(o){let a=o;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=r(window.location.href),function(a){const c=O.isString(a)?r(a):a;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}();function XF(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ez(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,o=0,a;return e=e!==void 0?e:1e3,function(h){const f=Date.now(),m=i[o];a||(a=f),n[r]=h,i[r]=f;let g=o,v=0;for(;g!==r;)v+=n[g++],g=g%t;if(r=(r+1)%t,r===o&&(o=(o+1)%t),f-a<e)return;const I=m&&f-m;return I?Math.round(v*1e3/I):void 0}}function a0(t,e){let n=0;const i=ez(50,250);return r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,c=o-n,h=i(c),f=o<=a;n=o;const m={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:h||void 0,estimated:h&&a&&f?(a-o)/h:void 0,event:r};m[e?"download":"upload"]=!0,t(m)}}const tz=typeof XMLHttpRequest<"u",nz=tz&&function(t){return new Promise(function(n,i){let r=t.data;const o=si.from(t.headers).normalize();let{responseType:a,withXSRFToken:c}=t,h;function f(){t.cancelToken&&t.cancelToken.unsubscribe(h),t.signal&&t.signal.removeEventListener("abort",h)}let m;if(O.isFormData(r)){if(Mn.hasStandardBrowserEnv||Mn.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((m=o.getContentType())!==!1){const[S,...R]=m?m.split(";").map(E=>E.trim()).filter(Boolean):[];o.setContentType([S||"multipart/form-data",...R].join("; "))}}let g=new XMLHttpRequest;if(t.auth){const S=t.auth.username||"",R=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(S+":"+R))}const v=cP(t.baseURL,t.url);g.open(t.method.toUpperCase(),sP(v,t.params,t.paramsSerializer),!0),g.timeout=t.timeout;function I(){if(!g)return;const S=si.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:S,config:t,request:g};ZF(function(w){n(w),f()},function(w){i(w),f()},E),g=null}if("onloadend"in g?g.onloadend=I:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(I)},g.onabort=function(){g&&(i(new ge("Request aborted",ge.ECONNABORTED,t,g)),g=null)},g.onerror=function(){i(new ge("Network Error",ge.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let R=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const E=t.transitional||oP;t.timeoutErrorMessage&&(R=t.timeoutErrorMessage),i(new ge(R,E.clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,t,g)),g=null},Mn.hasStandardBrowserEnv&&(c&&O.isFunction(c)&&(c=c(t)),c||c!==!1&&JF(v))){const S=t.xsrfHeaderName&&t.xsrfCookieName&&GF.read(t.xsrfCookieName);S&&o.set(t.xsrfHeaderName,S)}r===void 0&&o.setContentType(null),"setRequestHeader"in g&&O.forEach(o.toJSON(),function(R,E){g.setRequestHeader(E,R)}),O.isUndefined(t.withCredentials)||(g.withCredentials=!!t.withCredentials),a&&a!=="json"&&(g.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&g.addEventListener("progress",a0(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",a0(t.onUploadProgress)),(t.cancelToken||t.signal)&&(h=S=>{g&&(i(!S||S.type?new wl(null,t,g):S),g.abort(),g=null)},t.cancelToken&&t.cancelToken.subscribe(h),t.signal&&(t.signal.aborted?h():t.signal.addEventListener("abort",h)));const P=XF(v);if(P&&Mn.protocols.indexOf(P)===-1){i(new ge("Unsupported protocol "+P+":",ge.ERR_BAD_REQUEST,t));return}g.send(r||null)})},jp={http:CF,xhr:nz};O.forEach(jp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const l0=t=>`- ${t}`,iz=t=>O.isFunction(t)||t===null||t===!1,hP={getAdapter:t=>{t=O.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let o=0;o<e;o++){n=t[o];let a;if(i=n,!iz(n)&&(i=jp[(a=String(n)).toLowerCase()],i===void 0))throw new ge(`Unknown adapter '${a}'`);if(i)break;r[a||"#"+o]=i}if(!i){const o=Object.entries(r).map(([c,h])=>`adapter ${c} `+(h===!1?"is not supported by the environment":"is not available in the build"));let a=e?o.length>1?`since :
`+o.map(l0).join(`
`):" "+l0(o[0]):"as no adapter specified";throw new ge("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:jp};function hf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new wl(null,t)}function u0(t){return hf(t),t.headers=si.from(t.headers),t.data=cf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),hP.getAdapter(t.adapter||s_.adapter)(t).then(function(i){return hf(t),i.data=cf.call(t,t.transformResponse,i),i.headers=si.from(i.headers),i},function(i){return uP(i)||(hf(t),i&&i.response&&(i.response.data=cf.call(t,t.transformResponse,i.response),i.response.headers=si.from(i.response.headers))),Promise.reject(i)})}const c0=t=>t instanceof si?t.toJSON():t;function Qs(t,e){e=e||{};const n={};function i(f,m,g){return O.isPlainObject(f)&&O.isPlainObject(m)?O.merge.call({caseless:g},f,m):O.isPlainObject(m)?O.merge({},m):O.isArray(m)?m.slice():m}function r(f,m,g){if(O.isUndefined(m)){if(!O.isUndefined(f))return i(void 0,f,g)}else return i(f,m,g)}function o(f,m){if(!O.isUndefined(m))return i(void 0,m)}function a(f,m){if(O.isUndefined(m)){if(!O.isUndefined(f))return i(void 0,f)}else return i(void 0,m)}function c(f,m,g){if(g in e)return i(f,m);if(g in t)return i(void 0,f)}const h={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(f,m)=>r(c0(f),c0(m),!0)};return O.forEach(Object.keys(Object.assign({},t,e)),function(m){const g=h[m]||r,v=g(t[m],e[m],m);O.isUndefined(v)&&g!==c||(n[m]=v)}),n}const dP="1.6.5",o_={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{o_[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const h0={};o_.transitional=function(e,n,i){function r(o,a){return"[Axios v"+dP+"] Transitional option '"+o+"'"+a+(i?". "+i:"")}return(o,a,c)=>{if(e===!1)throw new ge(r(a," has been removed"+(n?" in "+n:"")),ge.ERR_DEPRECATED);return n&&!h0[a]&&(h0[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,a,c):!0}};function rz(t,e,n){if(typeof t!="object")throw new ge("options must be an object",ge.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const o=i[r],a=e[o];if(a){const c=t[o],h=c===void 0||a(c,o,t);if(h!==!0)throw new ge("option "+o+" must be "+h,ge.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ge("Unknown option "+o,ge.ERR_BAD_OPTION)}}const Hp={assertOptions:rz,validators:o_},Ei=Hp.validators;class Lc{constructor(e){this.defaults=e,this.interceptors={request:new s0,response:new s0}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Qs(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:o}=n;i!==void 0&&Hp.assertOptions(i,{silentJSONParsing:Ei.transitional(Ei.boolean),forcedJSONParsing:Ei.transitional(Ei.boolean),clarifyTimeoutError:Ei.transitional(Ei.boolean)},!1),r!=null&&(O.isFunction(r)?n.paramsSerializer={serialize:r}:Hp.assertOptions(r,{encode:Ei.function,serialize:Ei.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&O.merge(o.common,o[n.method]);o&&O.forEach(["delete","get","head","post","put","patch","common"],P=>{delete o[P]}),n.headers=si.concat(a,o);const c=[];let h=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(h=h&&S.synchronous,c.unshift(S.fulfilled,S.rejected))});const f=[];this.interceptors.response.forEach(function(S){f.push(S.fulfilled,S.rejected)});let m,g=0,v;if(!h){const P=[u0.bind(this),void 0];for(P.unshift.apply(P,c),P.push.apply(P,f),v=P.length,m=Promise.resolve(n);g<v;)m=m.then(P[g++],P[g++]);return m}v=c.length;let I=n;for(g=0;g<v;){const P=c[g++],S=c[g++];try{I=P(I)}catch(R){S.call(this,R);break}}try{m=u0.call(this,I)}catch(P){return Promise.reject(P)}for(g=0,v=f.length;g<v;)m=m.then(f[g++],f[g++]);return m}getUri(e){e=Qs(this.defaults,e);const n=cP(e.baseURL,e.url);return sP(n,e.params,e.paramsSerializer)}}O.forEach(["delete","get","head","options"],function(e){Lc.prototype[e]=function(n,i){return this.request(Qs(i||{},{method:e,url:n,data:(i||{}).data}))}});O.forEach(["post","put","patch"],function(e){function n(i){return function(o,a,c){return this.request(Qs(c||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Lc.prototype[e]=n(),Lc.prototype[e+"Form"]=n(!0)});const Du=Lc;class a_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const i=this;this.promise.then(r=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](r);i._listeners=null}),this.promise.then=r=>{let o;const a=new Promise(c=>{i.subscribe(c),o=c}).then(r);return a.cancel=function(){i.unsubscribe(o)},a},e(function(o,a,c){i.reason||(i.reason=new wl(o,a,c),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new a_(function(r){e=r}),cancel:e}}}const sz=a_;function oz(t){return function(n){return t.apply(null,n)}}function az(t){return O.isObject(t)&&t.isAxiosError===!0}const Wp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wp).forEach(([t,e])=>{Wp[e]=t});const lz=Wp;function fP(t){const e=new Du(t),n=KS(Du.prototype.request,e);return O.extend(n,Du.prototype,e,{allOwnKeys:!0}),O.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return fP(Qs(t,r))},n}const Qe=fP(s_);Qe.Axios=Du;Qe.CanceledError=wl;Qe.CancelToken=sz;Qe.isCancel=uP;Qe.VERSION=dP;Qe.toFormData=Oh;Qe.AxiosError=ge;Qe.Cancel=Qe.CanceledError;Qe.all=function(e){return Promise.all(e)};Qe.spread=oz;Qe.isAxiosError=az;Qe.mergeConfig=Qs;Qe.AxiosHeaders=si;Qe.formToJSON=t=>lP(O.isHTMLForm(t)?new FormData(t):t);Qe.getAdapter=hP.getAdapter;Qe.HttpStatusCode=lz;Qe.default=Qe;const uz=Qe;const cz=({position:t})=>{const[e,n]=N.useState(null),i=async(r,o)=>{try{const c=`https://api.openweathermap.org/data/2.5/weather?lat=${r}&lon=${o}&appid=52b240bf4561d209a4ad72ce41e4f452&units=metric`,h=await uz.get(c);n(h.data)}catch(a){console.error("Error fetching weather data:",a),n(null)}};return aa.useEffect(()=>{t&&i(t.lat,t.lng)},[t]),k(jV,{position:t,children:k(HV,{children:e?ue("div",{children:[k("h3",{children:e.name}),ue("p",{children:["Temperature: ",e.main.temp,"°C"]}),ue("p",{children:["Weather: ",e.weather[0].description]})]}):k("span",{children:"Loading weather data..."})})})},hz=()=>{const[t,e]=N.useState(null);return ue("div",{children:[ue("div",{className:"nav",children:[" ",k(Zr,{})]}),k("div",{children:ue($V,{center:[40.97,28.874323],zoom:13,style:{height:"70vh",width:"70vw"},children:[k(WV,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t&&k(cz,{position:t}),k(()=>(UV({click(i){e(i.latlng)}}),null),{})]})}),k(or,{})]})};function dz(){return k(ux,{children:ue(ix,{children:[k(Gn,{path:"/signup",element:k(EV,{})}),k(Gn,{path:"/signin",element:k(TV,{})}),k(Gn,{path:"/",element:k(wV,{})}),k(Gn,{path:"/quiz",element:k(IV,{})}),k(Gn,{path:"/logout",element:k(SV,{})}),k(Gn,{path:"/about",element:k(CV,{})}),k(Gn,{path:"/weather",element:k(hz,{})}),k(Gn,{path:"/contact",element:k(PV,{})})]})})}df.createRoot(document.getElementById("root")).render(k(dz,{}));
